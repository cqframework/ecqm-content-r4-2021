<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorOptions="EnableAnnotations,EnableLocators,EnableResultTypes" xsi:type="a:CqlToElmInfo"/>
   <identifier id="NCQA_Claims" version="1.0.0"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="3:1-3:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1"/>
   </usings>
   <includes>
      <def localId="2" locator="5:1-5:54" localIdentifier="FHIRHelpers" path="FHIRHelpers" version="4.0.1"/>
      <def localId="3" locator="6:1-6:53" localIdentifier="FHIRBase" path="NCQA_FHIRBase" version="1.0.0"/>
      <def localId="4" locator="7:1-7:59" localIdentifier="Terminology" path="NCQA_Terminology" version="1.0.0"/>
   </includes>
   <valueSets>
      <def localId="5" locator="9:1-9:97" name="Inpatient Stay" id="https://www.ncqa.org/fhir/valueset/2.16.840.1.113883.3.464.1004.1395" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
      <def localId="6" locator="10:1-10:106" name="Nonacute Inpatient Stay" id="https://www.ncqa.org/fhir/valueset/2.16.840.1.113883.3.464.1004.1398" accessLevel="Public">
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
      </def>
   </valueSets>
   <statements>
      <def localId="29" locator="12:1-16:5" name="Professional or Institutional Claims" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="29">
               <a:s>define function &quot;Professional or Institutional Claims&quot;(claim </a:s>
               <a:s r="8">
                  <a:s>List&lt;</a:s>
                  <a:s r="7">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="28">
                  <a:s r="28">
                     <a:s>
                        <a:s r="10">
                           <a:s r="9">
                              <a:s>
                                 <a:s>claim</a:s>
                              </a:s>
                           </a:s>
                           <a:s> MedicalClaim</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="27">
                        <a:s>where </a:s>
                        <a:s r="27">
                           <a:s>( </a:s>
                           <a:s r="27">
                              <a:s r="18">
                                 <a:s r="15">
                                    <a:s r="14">
                                       <a:s r="11">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="14">
                                          <a:s>ToConcept ( </a:s>
                                          <a:s r="13">
                                             <a:s r="12">
                                                <a:s>MedicalClaim</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="13">
                                                <a:s>type</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="15">
                                       <a:s>codes</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> contains </a:s>
                                 <a:s r="17">
                                    <a:s r="16">
                                       <a:s>Terminology</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="17">
                                       <a:s>&quot;Professional&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
        or </a:s>
                              <a:s r="26">
                                 <a:s r="23">
                                    <a:s r="22">
                                       <a:s r="19">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="22">
                                          <a:s>ToConcept ( </a:s>
                                          <a:s r="21">
                                             <a:s r="20">
                                                <a:s>MedicalClaim</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="21">
                                                <a:s>type</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="23">
                                       <a:s>codes</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> contains </a:s>
                                 <a:s r="25">
                                    <a:s r="24">
                                       <a:s>Terminology</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="25">
                                       <a:s>&quot;Institutional&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
    )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="28" locator="13:3-16:5" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="10" locator="13:3-13:20" alias="MedicalClaim">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="9" locator="13:3-13:7" name="claim" xsi:type="OperandRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <where localId="27" locator="14:5-16:5" resultTypeName="t:Boolean" xsi:type="Or">
               <operand localId="18" locator="14:13-14:97" resultTypeName="t:Boolean" xsi:type="Contains">
                  <operand localId="15" locator="14:13-14:61" path="codes" xsi:type="Property">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <source localId="14" locator="14:13-14:55" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="13" locator="14:37-14:53" resultTypeName="fhir:CodeableConcept" path="type" scope="MedicalClaim" xsi:type="Property"/>
                     </source>
                  </operand>
                  <operand localId="17" locator="14:72-14:97" resultTypeName="t:Code" name="Professional" libraryName="Terminology" xsi:type="CodeRef"/>
               </operand>
               <operand localId="26" locator="15:12-15:97" resultTypeName="t:Boolean" xsi:type="Contains">
                  <operand localId="23" locator="15:12-15:60" path="codes" xsi:type="Property">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <source localId="22" locator="15:12-15:54" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="21" locator="15:36-15:52" resultTypeName="fhir:CodeableConcept" path="type" scope="MedicalClaim" xsi:type="Property"/>
                     </source>
                  </operand>
                  <operand localId="25" locator="15:71-15:97" resultTypeName="t:Code" name="Institutional" libraryName="Terminology" xsi:type="CodeRef"/>
               </operand>
            </where>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="8" locator="12:62-12:77" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="7" locator="12:67-12:76" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="43" locator="18:1-20:92" name="Pharmacy Claims" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="43">
               <a:s>define function &quot;Pharmacy Claims&quot;(claim </a:s>
               <a:s r="31">
                  <a:s>List&lt;</a:s>
                  <a:s r="30">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="42">
                  <a:s r="42">
                     <a:s>
                        <a:s r="33">
                           <a:s r="32">
                              <a:s>
                                 <a:s>claim</a:s>
                              </a:s>
                           </a:s>
                           <a:s> PharmacyClaim</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="41">
                        <a:s>where </a:s>
                        <a:s r="41">
                           <a:s r="38">
                              <a:s r="37">
                                 <a:s r="34">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="37">
                                    <a:s>ToConcept ( </a:s>
                                    <a:s r="36">
                                       <a:s r="35">
                                          <a:s>PharmacyClaim</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="36">
                                          <a:s>type</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="38">
                                 <a:s>codes</a:s>
                              </a:s>
                           </a:s>
                           <a:s> contains </a:s>
                           <a:s r="40">
                              <a:s r="39">
                                 <a:s>Terminology</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="40">
                                 <a:s>&quot;Pharmacy&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="42" locator="19:3-20:92" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="33" locator="19:3-19:21" alias="PharmacyClaim">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="32" locator="19:3-19:7" name="claim" xsi:type="OperandRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <where localId="41" locator="20:5-20:92" resultTypeName="t:Boolean" xsi:type="Contains">
               <operand localId="38" locator="20:11-20:60" path="codes" xsi:type="Property">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source localId="37" locator="20:11-20:54" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="36" locator="20:35-20:52" resultTypeName="fhir:CodeableConcept" path="type" scope="PharmacyClaim" xsi:type="Property"/>
                  </source>
               </operand>
               <operand localId="40" locator="20:71-20:92" resultTypeName="t:Code" name="Pharmacy" libraryName="Terminology" xsi:type="CodeRef"/>
            </where>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="31" locator="18:41-18:56" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="30" locator="18:46-18:55" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="66" locator="22:1-26:5" name="Professional or Institutional Claims Response" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="66">
               <a:s>define function &quot;Professional or Institutional Claims Response&quot;(claimResponse </a:s>
               <a:s r="45">
                  <a:s>List&lt;</a:s>
                  <a:s r="44">
                     <a:s>FHIR.ClaimResponse</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="65">
                  <a:s r="65">
                     <a:s>
                        <a:s r="47">
                           <a:s r="46">
                              <a:s>
                                 <a:s>claimResponse</a:s>
                              </a:s>
                           </a:s>
                           <a:s> MedicalResponse</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="64">
                        <a:s>where </a:s>
                        <a:s r="64">
                           <a:s>( </a:s>
                           <a:s r="64">
                              <a:s r="55">
                                 <a:s r="52">
                                    <a:s r="51">
                                       <a:s r="48">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="51">
                                          <a:s>ToConcept ( </a:s>
                                          <a:s r="50">
                                             <a:s r="49">
                                                <a:s>MedicalResponse</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="50">
                                                <a:s>type</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="52">
                                       <a:s>codes</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> contains </a:s>
                                 <a:s r="54">
                                    <a:s r="53">
                                       <a:s>Terminology</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="54">
                                       <a:s>&quot;Professional&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
        or </a:s>
                              <a:s r="63">
                                 <a:s r="60">
                                    <a:s r="59">
                                       <a:s r="56">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="59">
                                          <a:s>ToConcept ( </a:s>
                                          <a:s r="58">
                                             <a:s r="57">
                                                <a:s>MedicalResponse</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="58">
                                                <a:s>type</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="60">
                                       <a:s>codes</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> contains </a:s>
                                 <a:s r="62">
                                    <a:s r="61">
                                       <a:s>Terminology</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="62">
                                       <a:s>&quot;Institutional&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
    )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="65" locator="23:3-26:5" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="47" locator="23:3-23:31" alias="MedicalResponse">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="46" locator="23:3-23:15" name="claimResponse" xsi:type="OperandRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <where localId="64" locator="24:5-26:5" resultTypeName="t:Boolean" xsi:type="Or">
               <operand localId="55" locator="24:13-24:100" resultTypeName="t:Boolean" xsi:type="Contains">
                  <operand localId="52" locator="24:13-24:64" path="codes" xsi:type="Property">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <source localId="51" locator="24:13-24:58" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="50" locator="24:37-24:56" resultTypeName="fhir:CodeableConcept" path="type" scope="MedicalResponse" xsi:type="Property"/>
                     </source>
                  </operand>
                  <operand localId="54" locator="24:75-24:100" resultTypeName="t:Code" name="Professional" libraryName="Terminology" xsi:type="CodeRef"/>
               </operand>
               <operand localId="63" locator="25:12-25:100" resultTypeName="t:Boolean" xsi:type="Contains">
                  <operand localId="60" locator="25:12-25:63" path="codes" xsi:type="Property">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <source localId="59" locator="25:12-25:57" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="58" locator="25:36-25:55" resultTypeName="fhir:CodeableConcept" path="type" scope="MedicalResponse" xsi:type="Property"/>
                     </source>
                  </operand>
                  <operand localId="62" locator="25:74-25:100" resultTypeName="t:Code" name="Institutional" libraryName="Terminology" xsi:type="CodeRef"/>
               </operand>
            </where>
         </expression>
         <operand name="claimResponse">
            <operandTypeSpecifier localId="45" locator="22:79-22:102" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="44" locator="22:84-22:101" resultTypeName="fhir:ClaimResponse" name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="80" locator="28:1-30:99" name="Pharmacy Claims Response" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="80">
               <a:s>define function &quot;Pharmacy Claims Response&quot;(claimResponse </a:s>
               <a:s r="68">
                  <a:s>List&lt;</a:s>
                  <a:s r="67">
                     <a:s>FHIR.ClaimResponse</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="79">
                  <a:s r="79">
                     <a:s>
                        <a:s r="70">
                           <a:s r="69">
                              <a:s>
                                 <a:s>claimResponse</a:s>
                              </a:s>
                           </a:s>
                           <a:s> PharmacyResponse</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="78">
                        <a:s>where </a:s>
                        <a:s r="78">
                           <a:s>( </a:s>
                           <a:s r="78">
                              <a:s r="75">
                                 <a:s r="74">
                                    <a:s r="71">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="74">
                                       <a:s>ToConcept ( </a:s>
                                       <a:s r="73">
                                          <a:s r="72">
                                             <a:s>PharmacyResponse</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="73">
                                             <a:s>type</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> )</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="75">
                                    <a:s>codes</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> contains </a:s>
                              <a:s r="77">
                                 <a:s r="76">
                                    <a:s>Terminology</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="77">
                                    <a:s>&quot;Pharmacy&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
         </resultTypeSpecifier>
         <expression localId="79" locator="29:3-30:99" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </resultTypeSpecifier>
            <source localId="70" locator="29:3-29:32" alias="PharmacyResponse">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="69" locator="29:3-29:15" name="claimResponse" xsi:type="OperandRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <where localId="78" locator="30:5-30:99" resultTypeName="t:Boolean" xsi:type="Contains">
               <operand localId="75" locator="30:13-30:65" path="codes" xsi:type="Property">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source localId="74" locator="30:13-30:59" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="73" locator="30:37-30:57" resultTypeName="fhir:CodeableConcept" path="type" scope="PharmacyResponse" xsi:type="Property"/>
                  </source>
               </operand>
               <operand localId="77" locator="30:76-30:97" resultTypeName="t:Code" name="Pharmacy" libraryName="Terminology" xsi:type="CodeRef"/>
            </where>
         </expression>
         <operand name="claimResponse">
            <operandTypeSpecifier localId="68" locator="28:58-28:81" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="67" locator="28:63-28:80" resultTypeName="fhir:ClaimResponse" name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="167" locator="32:1-61:33" name="Medical Claims With Procedure and POS" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="167">
               <a:s>define function &quot;Medical Claims With Procedure and POS&quot;(claim </a:s>
               <a:s r="82">
                  <a:s>List&lt;</a:s>
                  <a:s r="81">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, posCodes </a:s>
               <a:s r="84">
                  <a:s>List&lt;</a:s>
                  <a:s r="83">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="86">
                  <a:s>List&lt;</a:s>
                  <a:s r="85">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="166">
                  <a:s r="166">
                     <a:s>
                        <a:s r="102">
                           <a:s r="101">
                              <a:s>( </a:s>
                              <a:s r="101">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;MedicalClaim&quot;: </a:s>
                                    <a:s r="88">
                                       <a:s>&quot;Professional or Institutional Claims&quot;(</a:s>
                                       <a:s r="87">
                                          <a:s>claim</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;ProceduresAsStrings&quot;: </a:s>
                                    <a:s r="94">
                                       <a:s>
                                          <a:s r="90">
                                             <a:s r="89">
                                                <a:s>
                                                   <a:s>ProductOrServiceValueSet</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> p</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="93">
                                          <a:s>return </a:s>
                                          <a:s r="92">
                                             <a:s r="91">
                                                <a:s>p</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="92">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;POSAsString&quot;: </a:s>
                                    <a:s r="100">
                                       <a:s>
                                          <a:s r="96">
                                             <a:s r="95">
                                                <a:s>
                                                   <a:s>posCodes</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> pos</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="99">
                                          <a:s>return </a:s>
                                          <a:s r="98">
                                             <a:s r="97">
                                                <a:s>pos</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="98">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimWithPosCode</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="165">
                        <a:s>return </a:s>
                        <a:s r="164">
                           <a:s>
                              <a:s r="161">
                                 <a:s r="160">
                                    <a:s>( </a:s>
                                    <a:s r="160">
                                       <a:s>
                                          <a:s r="104">
                                             <a:s r="103">
                                                <a:s>
                                                   <a:s>ClaimWithPosCode.&quot;MedicalClaim&quot;</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> ClaimofInterest</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="159">
                                          <a:s>return </a:s>
                                          <a:s r="158">
                                             <a:s>
                                                <a:s r="141">
                                                   <a:s r="140">
                                                      <a:s>( </a:s>
                                                      <a:s r="140">
                                                         <a:s>Tuple {&#xd;
        </a:s>
                                                         <a:s>
                                                            <a:s>&quot;Claim&quot;: </a:s>
                                                            <a:s r="105">
                                                               <a:s>ClaimofInterest</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>,&#xd;
        </a:s>
                                                         <a:s>
                                                            <a:s>&quot;LineItems&quot;: </a:s>
                                                            <a:s r="139">
                                                               <a:s>if </a:s>
                                                               <a:s r="107">
                                                                  <a:s r="106">
                                                                     <a:s>ClaimofInterest</a:s>
                                                                  </a:s>
                                                                  <a:s> is null</a:s>
                                                               </a:s>
                                                               <a:s r="108"> then null &#xd;
          else </a:s>
                                                               <a:s r="138">
                                                                  <a:s>
                                                                     <a:s r="110">
                                                                        <a:s r="109">
                                                                           <a:s>
                                                                              <a:s>ClaimofInterest.item</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s> ItemOnLine</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
          </a:s>
                                                                  <a:s r="137">
                                                                     <a:s>where </a:s>
                                                                     <a:s r="137">
                                                                        <a:s>( </a:s>
                                                                        <a:s r="137">
                                                                           <a:s r="123">
                                                                              <a:s>exists </a:s>
                                                                              <a:s r="122">
                                                                                 <a:s>( </a:s>
                                                                                 <a:s r="122">
                                                                                    <a:s>
                                                                                       <a:s r="116">
                                                                                          <a:s r="115">
                                                                                             <a:s>( </a:s>
                                                                                             <a:s r="115">
                                                                                                <a:s r="114">
                                                                                                   <a:s r="111">
                                                                                                      <a:s>FHIRHelpers</a:s>
                                                                                                   </a:s>
                                                                                                   <a:s>.</a:s>
                                                                                                   <a:s r="114">
                                                                                                      <a:s>ToConcept ( </a:s>
                                                                                                      <a:s r="113">
                                                                                                         <a:s r="112">
                                                                                                            <a:s>ItemOnLine</a:s>
                                                                                                         </a:s>
                                                                                                         <a:s>.</a:s>
                                                                                                         <a:s r="113">
                                                                                                            <a:s>productOrService</a:s>
                                                                                                         </a:s>
                                                                                                      </a:s>
                                                                                                      <a:s> )</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                                <a:s>.</a:s>
                                                                                                <a:s r="115">
                                                                                                   <a:s>codes</a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                             <a:s> )</a:s>
                                                                                          </a:s>
                                                                                          <a:s> LineCode</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s>&#xd;
                </a:s>
                                                                                    <a:s r="121">
                                                                                       <a:s>where </a:s>
                                                                                       <a:s r="121">
                                                                                          <a:s r="118">
                                                                                             <a:s r="117">
                                                                                                <a:s>LineCode</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="118">
                                                                                                <a:s>code</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s> in </a:s>
                                                                                          <a:s r="120">
                                                                                             <a:s r="119">
                                                                                                <a:s>ClaimWithPosCode</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="120">
                                                                                                <a:s>&quot;ProceduresAsStrings&quot;</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>&#xd;
            )</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
              and </a:s>
                                                                           <a:s r="136">
                                                                              <a:s>exists </a:s>
                                                                              <a:s r="135">
                                                                                 <a:s>( </a:s>
                                                                                 <a:s r="135">
                                                                                    <a:s>
                                                                                       <a:s r="129">
                                                                                          <a:s r="128">
                                                                                             <a:s>( </a:s>
                                                                                             <a:s r="128">
                                                                                                <a:s r="127">
                                                                                                   <a:s r="124">
                                                                                                      <a:s>FHIRHelpers</a:s>
                                                                                                   </a:s>
                                                                                                   <a:s>.</a:s>
                                                                                                   <a:s r="127">
                                                                                                      <a:s>ToConcept ( </a:s>
                                                                                                      <a:s r="126">
                                                                                                         <a:s r="125">
                                                                                                            <a:s>ItemOnLine</a:s>
                                                                                                         </a:s>
                                                                                                         <a:s>.</a:s>
                                                                                                         <a:s r="126">
                                                                                                            <a:s>location</a:s>
                                                                                                         </a:s>
                                                                                                      </a:s>
                                                                                                      <a:s> )</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                                <a:s>.</a:s>
                                                                                                <a:s r="128">
                                                                                                   <a:s>codes</a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                             <a:s> )</a:s>
                                                                                          </a:s>
                                                                                          <a:s> PosCode</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s>&#xd;
                  </a:s>
                                                                                    <a:s r="134">
                                                                                       <a:s>where </a:s>
                                                                                       <a:s r="134">
                                                                                          <a:s r="131">
                                                                                             <a:s r="130">
                                                                                                <a:s>PosCode</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="131">
                                                                                                <a:s>code</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s> in </a:s>
                                                                                          <a:s r="133">
                                                                                             <a:s r="132">
                                                                                                <a:s>ClaimWithPosCode</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="133">
                                                                                                <a:s>&quot;POSAsString&quot;</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>&#xd;
              )</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s>&#xd;
          )</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
      }</a:s>
                                                      </a:s>
                                                      <a:s> )</a:s>
                                                   </a:s>
                                                   <a:s> LineItemDefinition</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s r="157">
                                                <a:s>return </a:s>
                                                <a:s r="156">
                                                   <a:s>( </a:s>
                                                   <a:s r="156">
                                                      <a:s>if </a:s>
                                                      <a:s r="144">
                                                         <a:s>exists </a:s>
                                                         <a:s r="143">
                                                            <a:s r="142">
                                                               <a:s>LineItemDefinition</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="143">
                                                               <a:s>&quot;LineItems&quot;</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> then </a:s>
                                                      <a:s r="154">
                                                         <a:s>( </a:s>
                                                         <a:s r="154">
                                                            <a:s>Tuple {&#xd;
              </a:s>
                                                            <a:s>
                                                               <a:s>Claim: </a:s>
                                                               <a:s r="146">
                                                                  <a:s r="145">
                                                                     <a:s>LineItemDefinition</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="146">
                                                                     <a:s>&quot;Claim&quot;</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>,&#xd;
              </a:s>
                                                            <a:s>
                                                               <a:s>ServicePeriod: </a:s>
                                                               <a:s r="153">
                                                                  <a:s>
                                                                     <a:s r="148">
                                                                        <a:s r="147">
                                                                           <a:s>
                                                                              <a:s>LineItemDefinition.LineItems.serviced</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s> NormalDate</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
                </a:s>
                                                                  <a:s r="152">
                                                                     <a:s>return </a:s>
                                                                     <a:s r="151">
                                                                        <a:s r="149">
                                                                           <a:s>FHIRBase</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="151">
                                                                           <a:s>&quot;Normalize Interval&quot; ( </a:s>
                                                                           <a:s r="150">
                                                                              <a:s>NormalDate</a:s>
                                                                           </a:s>
                                                                           <a:s> )</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
            }</a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
          )</a:s>
                                                      </a:s>
                                                      <a:s r="155"> &#xd;
            else null</a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
        )</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s> FinalList</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="163">
                              <a:s>where </a:s>
                              <a:s r="163">
                                 <a:s r="162">
                                    <a:s>FinalList</a:s>
                                 </a:s>
                                 <a:s> is not null</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="Claim">
                  <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="166" locator="33:3-61:33" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="Claim">
                     <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="102" locator="33:3-39:22" alias="ClaimWithPosCode">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="MedicalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="ProceduresAsStrings">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="POSAsString">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="101" locator="33:3-39:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="MedicalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="ProceduresAsStrings">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="POSAsString">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="MedicalClaim">
                     <value localId="88" locator="34:21-34:65" name="Professional or Institutional Claims" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand localId="87" locator="34:60-34:64" name="claim" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
                  <element name="ProceduresAsStrings">
                     <value localId="94" locator="35:28-36:19" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source localId="90" locator="35:28-35:53" alias="p">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="89" locator="35:28-35:51" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="93" locator="36:7-36:19">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="92" locator="36:14-36:19" resultTypeName="t:String" path="code" scope="p" xsi:type="Property"/>
                        </return>
                     </value>
                  </element>
                  <element name="POSAsString">
                     <value localId="100" locator="37:20-38:21" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source localId="96" locator="37:20-37:31" alias="pos">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="95" locator="37:20-37:27" name="posCodes" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="99" locator="38:7-38:21">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="98" locator="38:14-38:21" resultTypeName="t:String" path="code" scope="pos" xsi:type="Property"/>
                        </return>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="165" locator="40:5-61:33">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="Claim">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="164" locator="40:12-61:33" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="Claim">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
                  <source localId="161" locator="40:12-60:21" alias="FinalList">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="Claim">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="160" locator="40:12-60:11" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <source localId="104" locator="40:14-40:60" alias="ClaimofInterest">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="103" locator="40:14-40:44" path="MedicalClaim" scope="ClaimWithPosCode" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="159" locator="41:7-60:9">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="Claim">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </elementType>
                           </resultTypeSpecifier>
                           <expression localId="158" locator="41:14-60:9" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="Claim">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </resultTypeSpecifier>
                              <source localId="141" locator="41:14-52:28" alias="LineItemDefinition">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="LineItems">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                                 <expression localId="140" locator="41:14-52:9" xsi:type="Tuple">
                                    <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItems">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </resultTypeSpecifier>
                                    <element name="Claim">
                                       <value localId="105" locator="42:18-42:32" resultTypeName="fhir:Claim" name="ClaimofInterest" xsi:type="AliasRef"/>
                                    </element>
                                    <element name="LineItems">
                                       <value localId="139" locator="43:22-51:11" xsi:type="If">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <condition asType="t:Boolean" xsi:type="As">
                                             <operand localId="107" locator="43:25-43:47" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                <operand localId="106" locator="43:25-43:39" resultTypeName="fhir:Claim" name="ClaimofInterest" xsi:type="AliasRef"/>
                                             </operand>
                                          </condition>
                                          <then xsi:type="As">
                                             <operand localId="108" locator="43:54-43:57" resultTypeName="t:Any" xsi:type="Null"/>
                                             <asTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </asTypeSpecifier>
                                          </then>
                                          <else localId="138" locator="44:16-51:11" xsi:type="Query">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <source localId="110" locator="44:16-44:46" alias="ItemOnLine">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <expression localId="109" locator="44:16-44:35" path="item" scope="ClaimofInterest" xsi:type="Property">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                </expression>
                                             </source>
                                             <where localId="137" locator="45:11-51:11" resultTypeName="t:Boolean" xsi:type="And">
                                                <operand localId="123" locator="45:19-47:13" resultTypeName="t:Boolean" xsi:type="Exists">
                                                   <operand localId="122" locator="45:26-47:13" xsi:type="Query">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <source localId="116" locator="45:28-45:99" alias="LineCode">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                         </resultTypeSpecifier>
                                                         <expression localId="115" locator="45:28-45:90" path="codes" xsi:type="Property">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <source localId="114" locator="45:30-45:82" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                               <operand localId="113" locator="45:54-45:80" resultTypeName="fhir:CodeableConcept" path="productOrService" scope="ItemOnLine" xsi:type="Property"/>
                                                            </source>
                                                         </expression>
                                                      </source>
                                                      <where localId="121" locator="46:17-46:77" resultTypeName="t:Boolean" xsi:type="In">
                                                         <operand localId="118" locator="46:23-46:35" resultTypeName="t:String" path="code" scope="LineCode" xsi:type="Property"/>
                                                         <operand localId="120" locator="46:40-46:77" path="ProceduresAsStrings" scope="ClaimWithPosCode" xsi:type="Property">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                         </operand>
                                                      </where>
                                                   </operand>
                                                </operand>
                                                <operand localId="136" locator="48:19-50:15" resultTypeName="t:Boolean" xsi:type="Exists">
                                                   <operand localId="135" locator="48:26-50:15" xsi:type="Query">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <source localId="129" locator="48:28-48:90" alias="PosCode">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                         </resultTypeSpecifier>
                                                         <expression localId="128" locator="48:28-48:82" path="codes" xsi:type="Property">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <source localId="127" locator="48:30-48:74" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                               <operand asType="fhir:CodeableConcept" xsi:type="As">
                                                                  <operand localId="126" locator="48:54-48:72" path="location" scope="ItemOnLine" xsi:type="Property">
                                                                     <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                        <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                                        <choice name="fhir:Address" xsi:type="NamedTypeSpecifier"/>
                                                                        <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                                     </resultTypeSpecifier>
                                                                  </operand>
                                                               </operand>
                                                            </source>
                                                         </expression>
                                                      </source>
                                                      <where localId="134" locator="49:19-49:70" resultTypeName="t:Boolean" xsi:type="In">
                                                         <operand localId="131" locator="49:25-49:36" resultTypeName="t:String" path="code" scope="PosCode" xsi:type="Property"/>
                                                         <operand localId="133" locator="49:41-49:70" path="POSAsString" scope="ClaimWithPosCode" xsi:type="Property">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                         </operand>
                                                      </where>
                                                   </operand>
                                                </operand>
                                             </where>
                                          </else>
                                       </value>
                                    </element>
                                 </expression>
                              </source>
                              <return localId="157" locator="53:9-60:9">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                                 <expression localId="156" locator="53:16-60:9" xsi:type="If">
                                    <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ServicePeriod">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                    </resultTypeSpecifier>
                                    <condition asType="t:Boolean" xsi:type="As">
                                       <operand localId="144" locator="53:21-53:57" resultTypeName="t:Boolean" xsi:type="Exists">
                                          <operand localId="143" locator="53:28-53:57" path="LineItems" scope="LineItemDefinition" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                          </operand>
                                       </operand>
                                    </condition>
                                    <then localId="154" locator="53:64-58:11" xsi:type="Tuple">
                                       <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                          <element name="Claim">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ServicePeriod">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                       </resultTypeSpecifier>
                                       <element name="Claim">
                                          <value localId="146" locator="54:22-54:47" resultTypeName="fhir:Claim" path="Claim" scope="LineItemDefinition" xsi:type="Property"/>
                                       </element>
                                       <element name="ServicePeriod">
                                          <value localId="153" locator="55:30-56:67" xsi:type="Query">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </resultTypeSpecifier>
                                             <source localId="148" locator="55:30-55:77" alias="NormalDate">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="ChoiceTypeSpecifier">
                                                      <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                      <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                                <expression localId="147" locator="55:30-55:66" xsi:type="Query">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                      </elementType>
                                                   </resultTypeSpecifier>
                                                   <source alias="$this">
                                                      <expression path="LineItems" scope="LineItemDefinition" xsi:type="Property"/>
                                                   </source>
                                                   <where xsi:type="Not">
                                                      <operand xsi:type="IsNull">
                                                         <operand path="serviced" xsi:type="Property">
                                                            <source name="$this" xsi:type="AliasRef"/>
                                                         </operand>
                                                      </operand>
                                                   </where>
                                                   <return>
                                                      <expression path="serviced" xsi:type="Property">
                                                         <source name="$this" xsi:type="AliasRef"/>
                                                      </expression>
                                                   </return>
                                                </expression>
                                             </source>
                                             <return localId="152" locator="56:17-56:67">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                                <expression localId="151" locator="56:24-56:67" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                   <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <operand localId="150" locator="56:56-56:65" name="NormalDate" xsi:type="AliasRef">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </operand>
                                                </expression>
                                             </return>
                                          </value>
                                       </element>
                                    </then>
                                    <else xsi:type="As">
                                       <operand localId="155" locator="59:18-59:21" resultTypeName="t:Any" xsi:type="Null"/>
                                       <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                                          <element name="Claim">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ServicePeriod">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                       </asTypeSpecifier>
                                    </else>
                                 </expression>
                              </return>
                           </expression>
                        </return>
                     </expression>
                  </source>
                  <where localId="163" locator="61:7-61:33" resultTypeName="t:Boolean" xsi:type="Not">
                     <operand locator="61:13-61:33" resultTypeName="t:Boolean" xsi:type="IsNull">
                        <operand localId="162" locator="61:13-61:21" name="FinalList" xsi:type="AliasRef">
                           <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </resultTypeSpecifier>
                        </operand>
                     </operand>
                  </where>
               </expression>
            </return>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="82" locator="32:63-32:78" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="81" locator="32:68-32:77" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="posCodes">
            <operandTypeSpecifier localId="84" locator="32:90-32:106" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="83" locator="32:95-32:105" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="86" locator="32:134-32:150" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="85" locator="32:139-32:149" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="246" locator="63:1-89:33" name="Medical Claims With Procedure in Header or on Line Item" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="246">
               <a:s>define function &quot;Medical Claims With Procedure in Header or on Line Item&quot;(claim </a:s>
               <a:s r="169">
                  <a:s>List&lt;</a:s>
                  <a:s r="168">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="171">
                  <a:s>List&lt;</a:s>
                  <a:s r="170">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="245">
                  <a:s r="245">
                     <a:s>
                        <a:s r="181">
                           <a:s r="180">
                              <a:s>( </a:s>
                              <a:s r="180">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;MedicalClaim&quot;: </a:s>
                                    <a:s r="173">
                                       <a:s>&quot;Professional or Institutional Claims&quot;(</a:s>
                                       <a:s r="172">
                                          <a:s>claim</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;ProceduresAsStrings&quot;: </a:s>
                                    <a:s r="179">
                                       <a:s>
                                          <a:s r="175">
                                             <a:s r="174">
                                                <a:s>
                                                   <a:s>ProductOrServiceValueSet</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> p</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="178">
                                          <a:s>return </a:s>
                                          <a:s r="177">
                                             <a:s r="176">
                                                <a:s>p</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="177">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimWithProcedure</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="244">
                        <a:s>return </a:s>
                        <a:s r="243">
                           <a:s>
                              <a:s r="240">
                                 <a:s r="239">
                                    <a:s>( </a:s>
                                    <a:s r="239">
                                       <a:s>
                                          <a:s r="183">
                                             <a:s r="182">
                                                <a:s>
                                                   <a:s>ClaimWithProcedure.&quot;MedicalClaim&quot;</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> ClaimofInterest</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="238">
                                          <a:s>return </a:s>
                                          <a:s r="237">
                                             <a:s>
                                                <a:s r="220">
                                                   <a:s r="219">
                                                      <a:s>( </a:s>
                                                      <a:s r="219">
                                                         <a:s>Tuple {&#xd;
        </a:s>
                                                         <a:s>
                                                            <a:s>&quot;Claim&quot;: </a:s>
                                                            <a:s r="184">
                                                               <a:s>ClaimofInterest</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>,&#xd;
        </a:s>
                                                         <a:s>
                                                            <a:s>&quot;LineItems&quot;: </a:s>
                                                            <a:s r="218">
                                                               <a:s>if </a:s>
                                                               <a:s r="186">
                                                                  <a:s r="185">
                                                                     <a:s>ClaimofInterest</a:s>
                                                                  </a:s>
                                                                  <a:s> is null</a:s>
                                                               </a:s>
                                                               <a:s r="187"> then null &#xd;
          else </a:s>
                                                               <a:s r="217">
                                                                  <a:s>
                                                                     <a:s r="189">
                                                                        <a:s r="188">
                                                                           <a:s>
                                                                              <a:s>ClaimofInterest.item</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s> ItemOnLine</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
          </a:s>
                                                                  <a:s r="216">
                                                                     <a:s>where </a:s>
                                                                     <a:s r="216">
                                                                        <a:s r="202">
                                                                           <a:s>exists </a:s>
                                                                           <a:s r="201">
                                                                              <a:s>( </a:s>
                                                                              <a:s r="201">
                                                                                 <a:s>
                                                                                    <a:s r="195">
                                                                                       <a:s r="194">
                                                                                          <a:s>( </a:s>
                                                                                          <a:s r="194">
                                                                                             <a:s r="193">
                                                                                                <a:s r="190">
                                                                                                   <a:s>FHIRHelpers</a:s>
                                                                                                </a:s>
                                                                                                <a:s>.</a:s>
                                                                                                <a:s r="193">
                                                                                                   <a:s>ToConcept ( </a:s>
                                                                                                   <a:s r="192">
                                                                                                      <a:s r="191">
                                                                                                         <a:s>ItemOnLine</a:s>
                                                                                                      </a:s>
                                                                                                      <a:s>.</a:s>
                                                                                                      <a:s r="192">
                                                                                                         <a:s>productOrService</a:s>
                                                                                                      </a:s>
                                                                                                   </a:s>
                                                                                                   <a:s> )</a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="194">
                                                                                                <a:s>codes</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s> )</a:s>
                                                                                       </a:s>
                                                                                       <a:s> LineCode</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>&#xd;
              </a:s>
                                                                                 <a:s r="200">
                                                                                    <a:s>where </a:s>
                                                                                    <a:s r="200">
                                                                                       <a:s r="197">
                                                                                          <a:s r="196">
                                                                                             <a:s>LineCode</a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="197">
                                                                                             <a:s>code</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s> in </a:s>
                                                                                       <a:s r="199">
                                                                                          <a:s r="198">
                                                                                             <a:s>ClaimWithProcedure</a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="199">
                                                                                             <a:s>&quot;ProceduresAsStrings&quot;</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>&#xd;
          )</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s>&#xd;
            or </a:s>
                                                                        <a:s r="215">
                                                                           <a:s>exists </a:s>
                                                                           <a:s r="214">
                                                                              <a:s>( </a:s>
                                                                              <a:s r="214">
                                                                                 <a:s>
                                                                                    <a:s r="207">
                                                                                       <a:s r="206">
                                                                                          <a:s>( </a:s>
                                                                                          <a:s r="206">
                                                                                             <a:s r="205">
                                                                                                <a:s>( </a:s>
                                                                                                <a:s r="205">
                                                                                                   <a:s r="204">
                                                                                                      <a:s r="203">
                                                                                                         <a:s>ClaimofInterest</a:s>
                                                                                                      </a:s>
                                                                                                      <a:s>.</a:s>
                                                                                                      <a:s r="204">
                                                                                                         <a:s>procedure</a:s>
                                                                                                      </a:s>
                                                                                                   </a:s>
                                                                                                   <a:s>.</a:s>
                                                                                                   <a:s r="205">
                                                                                                      <a:s>procedure</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                                <a:s> )</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="206">
                                                                                                <a:s>coding</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s> )</a:s>
                                                                                       </a:s>
                                                                                       <a:s> HeaderCode</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>&#xd;
                </a:s>
                                                                                 <a:s r="213">
                                                                                    <a:s>where </a:s>
                                                                                    <a:s r="213">
                                                                                       <a:s r="210">
                                                                                          <a:s r="209">
                                                                                             <a:s r="208">
                                                                                                <a:s>HeaderCode</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="209">
                                                                                                <a:s>code</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="210">
                                                                                             <a:s>value</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s> in </a:s>
                                                                                       <a:s r="212">
                                                                                          <a:s r="211">
                                                                                             <a:s>ClaimWithProcedure</a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="212">
                                                                                             <a:s>&quot;ProceduresAsStrings&quot;</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>&#xd;
            )</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
      }</a:s>
                                                      </a:s>
                                                      <a:s> )</a:s>
                                                   </a:s>
                                                   <a:s> LineItemDefinition</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s r="236">
                                                <a:s>return </a:s>
                                                <a:s r="235">
                                                   <a:s>( </a:s>
                                                   <a:s r="235">
                                                      <a:s>if </a:s>
                                                      <a:s r="223">
                                                         <a:s>exists </a:s>
                                                         <a:s r="222">
                                                            <a:s r="221">
                                                               <a:s>LineItemDefinition</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="222">
                                                               <a:s>&quot;LineItems&quot;</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> then </a:s>
                                                      <a:s r="233">
                                                         <a:s>( </a:s>
                                                         <a:s r="233">
                                                            <a:s>Tuple {&#xd;
              </a:s>
                                                            <a:s>
                                                               <a:s>Claim: </a:s>
                                                               <a:s r="225">
                                                                  <a:s r="224">
                                                                     <a:s>LineItemDefinition</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="225">
                                                                     <a:s>&quot;Claim&quot;</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>,&#xd;
              </a:s>
                                                            <a:s>
                                                               <a:s>ServicePeriod: </a:s>
                                                               <a:s r="232">
                                                                  <a:s>
                                                                     <a:s r="227">
                                                                        <a:s r="226">
                                                                           <a:s>
                                                                              <a:s>LineItemDefinition.LineItems.serviced</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s> NormalDate</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
                </a:s>
                                                                  <a:s r="231">
                                                                     <a:s>return </a:s>
                                                                     <a:s r="230">
                                                                        <a:s r="228">
                                                                           <a:s>FHIRBase</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="230">
                                                                           <a:s>&quot;Normalize Interval&quot; ( </a:s>
                                                                           <a:s r="229">
                                                                              <a:s>NormalDate</a:s>
                                                                           </a:s>
                                                                           <a:s> )</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
            }</a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
          )</a:s>
                                                      </a:s>
                                                      <a:s r="234"> &#xd;
            else null</a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
        )</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s> FinalList</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="242">
                              <a:s>where </a:s>
                              <a:s r="242">
                                 <a:s r="241">
                                    <a:s>FinalList</a:s>
                                 </a:s>
                                 <a:s> is not null</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="Claim">
                  <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="245" locator="64:3-89:33" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="Claim">
                     <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="181" locator="64:3-68:24" alias="ClaimWithProcedure">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="MedicalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="ProceduresAsStrings">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="180" locator="64:3-68:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="MedicalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="ProceduresAsStrings">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="MedicalClaim">
                     <value localId="173" locator="65:21-65:65" name="Professional or Institutional Claims" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand localId="172" locator="65:60-65:64" name="claim" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
                  <element name="ProceduresAsStrings">
                     <value localId="179" locator="66:28-67:19" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source localId="175" locator="66:28-66:53" alias="p">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="174" locator="66:28-66:51" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="178" locator="67:7-67:19">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="177" locator="67:14-67:19" resultTypeName="t:String" path="code" scope="p" xsi:type="Property"/>
                        </return>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="244" locator="69:5-89:33">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="Claim">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="243" locator="69:12-89:33" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="Claim">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
                  <source localId="240" locator="69:12-88:21" alias="FinalList">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="Claim">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="239" locator="69:12-88:11" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <source localId="183" locator="69:14-69:62" alias="ClaimofInterest">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="182" locator="69:14-69:46" path="MedicalClaim" scope="ClaimWithProcedure" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="238" locator="70:7-88:9">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="Claim">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </elementType>
                           </resultTypeSpecifier>
                           <expression localId="237" locator="70:14-88:9" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="Claim">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </resultTypeSpecifier>
                              <source localId="220" locator="70:14-80:28" alias="LineItemDefinition">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="LineItems">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                                 <expression localId="219" locator="70:14-80:9" xsi:type="Tuple">
                                    <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItems">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </resultTypeSpecifier>
                                    <element name="Claim">
                                       <value localId="184" locator="71:18-71:32" resultTypeName="fhir:Claim" name="ClaimofInterest" xsi:type="AliasRef"/>
                                    </element>
                                    <element name="LineItems">
                                       <value localId="218" locator="72:22-79:13" xsi:type="If">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <condition asType="t:Boolean" xsi:type="As">
                                             <operand localId="186" locator="72:25-72:47" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                <operand localId="185" locator="72:25-72:39" resultTypeName="fhir:Claim" name="ClaimofInterest" xsi:type="AliasRef"/>
                                             </operand>
                                          </condition>
                                          <then xsi:type="As">
                                             <operand localId="187" locator="72:54-72:57" resultTypeName="t:Any" xsi:type="Null"/>
                                             <asTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </asTypeSpecifier>
                                          </then>
                                          <else localId="217" locator="73:16-79:13" xsi:type="Query">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <source localId="189" locator="73:16-73:46" alias="ItemOnLine">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <expression localId="188" locator="73:16-73:35" path="item" scope="ClaimofInterest" xsi:type="Property">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                </expression>
                                             </source>
                                             <where localId="216" locator="74:11-79:13" resultTypeName="t:Boolean" xsi:type="Or">
                                                <operand localId="202" locator="74:17-76:11" resultTypeName="t:Boolean" xsi:type="Exists">
                                                   <operand localId="201" locator="74:24-76:11" xsi:type="Query">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <source localId="195" locator="74:26-74:97" alias="LineCode">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                         </resultTypeSpecifier>
                                                         <expression localId="194" locator="74:26-74:88" path="codes" xsi:type="Property">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <source localId="193" locator="74:28-74:80" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                               <operand localId="192" locator="74:52-74:78" resultTypeName="fhir:CodeableConcept" path="productOrService" scope="ItemOnLine" xsi:type="Property"/>
                                                            </source>
                                                         </expression>
                                                      </source>
                                                      <where localId="200" locator="75:15-75:77" resultTypeName="t:Boolean" xsi:type="In">
                                                         <operand localId="197" locator="75:21-75:33" resultTypeName="t:String" path="code" scope="LineCode" xsi:type="Property"/>
                                                         <operand localId="199" locator="75:38-75:77" path="ProceduresAsStrings" scope="ClaimWithProcedure" xsi:type="Property">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                         </operand>
                                                      </where>
                                                   </operand>
                                                </operand>
                                                <operand localId="215" locator="77:16-79:13" resultTypeName="t:Boolean" xsi:type="Exists">
                                                   <operand localId="214" locator="77:23-79:13" xsi:type="Query">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <source localId="207" locator="77:25-77:85" alias="HeaderCode">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                         </resultTypeSpecifier>
                                                         <expression localId="206" locator="77:25-77:74" xsi:type="Flatten">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <operand xsi:type="Query">
                                                               <source alias="$this">
                                                                  <expression localId="205" locator="77:27-77:65" xsi:type="Query">
                                                                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                        <elementType xsi:type="ChoiceTypeSpecifier">
                                                                           <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                                           <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                                        </elementType>
                                                                     </resultTypeSpecifier>
                                                                     <source alias="$this">
                                                                        <expression localId="204" locator="77:29-77:53" path="procedure" scope="ClaimofInterest" xsi:type="Property">
                                                                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                              <elementType name="fhir:Claim.Procedure" xsi:type="NamedTypeSpecifier"/>
                                                                           </resultTypeSpecifier>
                                                                        </expression>
                                                                     </source>
                                                                     <where xsi:type="Not">
                                                                        <operand xsi:type="IsNull">
                                                                           <operand path="procedure" xsi:type="Property">
                                                                              <source name="$this" xsi:type="AliasRef"/>
                                                                           </operand>
                                                                        </operand>
                                                                     </where>
                                                                     <return>
                                                                        <expression path="procedure" xsi:type="Property">
                                                                           <source name="$this" xsi:type="AliasRef"/>
                                                                        </expression>
                                                                     </return>
                                                                  </expression>
                                                               </source>
                                                               <where xsi:type="Not">
                                                                  <operand xsi:type="IsNull">
                                                                     <operand path="coding" xsi:type="Property">
                                                                        <source name="$this" xsi:type="AliasRef"/>
                                                                     </operand>
                                                                  </operand>
                                                               </where>
                                                               <return>
                                                                  <expression path="coding" xsi:type="Property">
                                                                     <source name="$this" xsi:type="AliasRef"/>
                                                                  </expression>
                                                               </return>
                                                            </operand>
                                                         </expression>
                                                      </source>
                                                      <where localId="213" locator="78:17-78:87" resultTypeName="t:Boolean" xsi:type="In">
                                                         <operand localId="210" locator="78:23-78:43" resultTypeName="t:String" path="value" xsi:type="Property">
                                                            <source localId="209" locator="78:23-78:37" resultTypeName="fhir:code" path="code" scope="HeaderCode" xsi:type="Property"/>
                                                         </operand>
                                                         <operand localId="212" locator="78:48-78:87" path="ProceduresAsStrings" scope="ClaimWithProcedure" xsi:type="Property">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                         </operand>
                                                      </where>
                                                   </operand>
                                                </operand>
                                             </where>
                                          </else>
                                       </value>
                                    </element>
                                 </expression>
                              </source>
                              <return localId="236" locator="81:9-88:9">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                                 <expression localId="235" locator="81:16-88:9" xsi:type="If">
                                    <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ServicePeriod">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                    </resultTypeSpecifier>
                                    <condition asType="t:Boolean" xsi:type="As">
                                       <operand localId="223" locator="81:21-81:57" resultTypeName="t:Boolean" xsi:type="Exists">
                                          <operand localId="222" locator="81:28-81:57" path="LineItems" scope="LineItemDefinition" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                          </operand>
                                       </operand>
                                    </condition>
                                    <then localId="233" locator="81:64-86:11" xsi:type="Tuple">
                                       <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                          <element name="Claim">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ServicePeriod">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                       </resultTypeSpecifier>
                                       <element name="Claim">
                                          <value localId="225" locator="82:22-82:47" resultTypeName="fhir:Claim" path="Claim" scope="LineItemDefinition" xsi:type="Property"/>
                                       </element>
                                       <element name="ServicePeriod">
                                          <value localId="232" locator="83:30-84:67" xsi:type="Query">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </resultTypeSpecifier>
                                             <source localId="227" locator="83:30-83:77" alias="NormalDate">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="ChoiceTypeSpecifier">
                                                      <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                      <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                                <expression localId="226" locator="83:30-83:66" xsi:type="Query">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                      </elementType>
                                                   </resultTypeSpecifier>
                                                   <source alias="$this">
                                                      <expression path="LineItems" scope="LineItemDefinition" xsi:type="Property"/>
                                                   </source>
                                                   <where xsi:type="Not">
                                                      <operand xsi:type="IsNull">
                                                         <operand path="serviced" xsi:type="Property">
                                                            <source name="$this" xsi:type="AliasRef"/>
                                                         </operand>
                                                      </operand>
                                                   </where>
                                                   <return>
                                                      <expression path="serviced" xsi:type="Property">
                                                         <source name="$this" xsi:type="AliasRef"/>
                                                      </expression>
                                                   </return>
                                                </expression>
                                             </source>
                                             <return localId="231" locator="84:17-84:67">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                                <expression localId="230" locator="84:24-84:67" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                   <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <operand localId="229" locator="84:56-84:65" name="NormalDate" xsi:type="AliasRef">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </operand>
                                                </expression>
                                             </return>
                                          </value>
                                       </element>
                                    </then>
                                    <else xsi:type="As">
                                       <operand localId="234" locator="87:18-87:21" resultTypeName="t:Any" xsi:type="Null"/>
                                       <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                                          <element name="Claim">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ServicePeriod">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                       </asTypeSpecifier>
                                    </else>
                                 </expression>
                              </return>
                           </expression>
                        </return>
                     </expression>
                  </source>
                  <where localId="242" locator="89:7-89:33" resultTypeName="t:Boolean" xsi:type="Not">
                     <operand locator="89:13-89:33" resultTypeName="t:Boolean" xsi:type="IsNull">
                        <operand localId="241" locator="89:13-89:21" name="FinalList" xsi:type="AliasRef">
                           <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </resultTypeSpecifier>
                        </operand>
                     </operand>
                  </where>
               </expression>
            </return>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="169" locator="63:81-63:96" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="168" locator="63:86-63:95" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="171" locator="63:124-63:140" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="170" locator="63:129-63:139" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="308" locator="91:1-111:35" name="Medical Claims With Diagnosis" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="308">
               <a:s>define function &quot;Medical Claims With Diagnosis&quot;(claim </a:s>
               <a:s r="248">
                  <a:s>List&lt;</a:s>
                  <a:s r="247">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, DiagnosisValueSet </a:s>
               <a:s r="250">
                  <a:s>List&lt;</a:s>
                  <a:s r="249">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="307">
                  <a:s r="307">
                     <a:s>
                        <a:s r="260">
                           <a:s r="259">
                              <a:s>( </a:s>
                              <a:s r="259">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;MedicalClaim&quot;: </a:s>
                                    <a:s r="252">
                                       <a:s>&quot;Professional or Institutional Claims&quot;(</a:s>
                                       <a:s r="251">
                                          <a:s>claim</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;DiagnosesAsStrings&quot;: </a:s>
                                    <a:s r="258">
                                       <a:s>
                                          <a:s r="254">
                                             <a:s r="253">
                                                <a:s>
                                                   <a:s>DiagnosisValueSet</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> d</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="257">
                                          <a:s>return </a:s>
                                          <a:s r="256">
                                             <a:s r="255">
                                                <a:s>d</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="256">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimWithDiagnosis</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="306">
                        <a:s>return </a:s>
                        <a:s r="305">
                           <a:s>
                              <a:s r="283">
                                 <a:s r="282">
                                    <a:s>( </a:s>
                                    <a:s r="282">
                                       <a:s>Tuple {&#xd;
      </a:s>
                                       <a:s>
                                          <a:s>&quot;DiagnosisItems&quot;: </a:s>
                                          <a:s r="281">
                                             <a:s>if </a:s>
                                             <a:s r="263">
                                                <a:s r="262">
                                                   <a:s r="261">
                                                      <a:s>ClaimWithDiagnosis</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="262">
                                                      <a:s>&quot;MedicalClaim&quot;</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> is null</a:s>
                                             </a:s>
                                             <a:s r="264"> then null &#xd;
        else </a:s>
                                             <a:s r="280">
                                                <a:s>
                                                   <a:s r="266">
                                                      <a:s r="265">
                                                         <a:s>
                                                            <a:s>ClaimWithDiagnosis.&quot;MedicalClaim&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> DiagnosisLine</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
        </a:s>
                                                <a:s r="279">
                                                   <a:s>where </a:s>
                                                   <a:s r="279">
                                                      <a:s>exists </a:s>
                                                      <a:s r="278">
                                                         <a:s>( </a:s>
                                                         <a:s r="278">
                                                            <a:s>
                                                               <a:s r="271">
                                                                  <a:s r="270">
                                                                     <a:s>( </a:s>
                                                                     <a:s r="270">
                                                                        <a:s r="269">
                                                                           <a:s>( </a:s>
                                                                           <a:s r="269">
                                                                              <a:s r="268">
                                                                                 <a:s r="267">
                                                                                    <a:s>DiagnosisLine</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="268">
                                                                                    <a:s>diagnosis</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>.</a:s>
                                                                              <a:s r="269">
                                                                                 <a:s>diagnosis</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> )</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="270">
                                                                           <a:s>coding</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s> )</a:s>
                                                                  </a:s>
                                                                  <a:s> HeaderCode</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
            </a:s>
                                                            <a:s r="277">
                                                               <a:s>where </a:s>
                                                               <a:s r="277">
                                                                  <a:s r="274">
                                                                     <a:s r="273">
                                                                        <a:s r="272">
                                                                           <a:s>HeaderCode</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="273">
                                                                           <a:s>code</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="274">
                                                                        <a:s>value</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> in </a:s>
                                                                  <a:s r="276">
                                                                     <a:s r="275">
                                                                        <a:s>ClaimWithDiagnosis</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="276">
                                                                        <a:s>&quot;DiagnosesAsStrings&quot;</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
        )</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
    }</a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s> HeaderDefinition</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="304">
                              <a:s>return </a:s>
                              <a:s r="303">
                                 <a:s>
                                    <a:s r="300">
                                       <a:s r="299">
                                          <a:s>( </a:s>
                                          <a:s r="299">
                                             <a:s>if </a:s>
                                             <a:s r="286">
                                                <a:s>exists </a:s>
                                                <a:s r="285">
                                                   <a:s r="284">
                                                      <a:s>HeaderDefinition</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="285">
                                                      <a:s>&quot;DiagnosisItems&quot;</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> then </a:s>
                                             <a:s r="297">
                                                <a:s>( </a:s>
                                                <a:s r="297">
                                                   <a:s>Tuple {&#xd;
          </a:s>
                                                   <a:s>
                                                      <a:s>Claim: </a:s>
                                                      <a:s r="288">
                                                         <a:s r="287">
                                                            <a:s>HeaderDefinition</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="288">
                                                            <a:s>&quot;DiagnosisItems&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>,&#xd;
          </a:s>
                                                   <a:s>
                                                      <a:s>ServicePeriod: </a:s>
                                                      <a:s r="296">
                                                         <a:s>
                                                            <a:s r="290">
                                                               <a:s r="289">
                                                                  <a:s>
                                                                     <a:s>HeaderDefinition.DiagnosisItems.item</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s> NormalDate</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
            </a:s>
                                                         <a:s r="295">
                                                            <a:s>return </a:s>
                                                            <a:s r="294">
                                                               <a:s r="291">
                                                                  <a:s>FHIRBase</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="294">
                                                                  <a:s>&quot;Normalize Interval&quot; ( </a:s>
                                                                  <a:s r="293">
                                                                     <a:s r="292">
                                                                        <a:s>NormalDate</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="293">
                                                                        <a:s>serviced</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> )</a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
        }</a:s>
                                                </a:s>
                                                <a:s>&#xd;
      )</a:s>
                                             </a:s>
                                             <a:s r="298"> &#xd;
        else null</a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                       <a:s> FinalList</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        </a:s>
                                 <a:s r="302">
                                    <a:s>where </a:s>
                                    <a:s r="302">
                                       <a:s r="301">
                                          <a:s>FinalList</a:s>
                                       </a:s>
                                       <a:s> is not null</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="Claim">
               <type xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </type>
            </element>
            <element name="ServicePeriod">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </type>
            </element>
         </resultTypeSpecifier>
         <expression localId="307" locator="92:3-111:35" xsi:type="Query">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="Claim">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </resultTypeSpecifier>
            <source localId="260" locator="92:3-96:24" alias="ClaimWithDiagnosis">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="MedicalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="DiagnosesAsStrings">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="259" locator="92:3-96:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="MedicalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="DiagnosesAsStrings">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="MedicalClaim">
                     <value localId="252" locator="93:21-93:65" name="Professional or Institutional Claims" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand localId="251" locator="93:60-93:64" name="claim" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
                  <element name="DiagnosesAsStrings">
                     <value localId="258" locator="94:27-95:19" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source localId="254" locator="94:27-94:45" alias="d">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="253" locator="94:27-94:43" name="DiagnosisValueSet" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="257" locator="95:7-95:19">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="256" locator="95:14-95:19" resultTypeName="t:String" path="code" scope="d" xsi:type="Property"/>
                        </return>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="306" locator="97:5-111:35">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="Claim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="305" locator="97:12-111:35" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="Claim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <source localId="283" locator="97:12-103:24" alias="HeaderDefinition">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="DiagnosisItems">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="282" locator="97:12-103:7" xsi:type="Tuple">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="DiagnosisItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <element name="DiagnosisItems">
                           <value localId="281" locator="98:25-102:9" xsi:type="If">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <condition asType="t:Boolean" xsi:type="As">
                                 <operand localId="263" locator="98:28-98:68" resultTypeName="t:Boolean" xsi:type="IsNull">
                                    <operand localId="262" locator="98:28-98:60" path="MedicalClaim" scope="ClaimWithDiagnosis" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                    </operand>
                                 </operand>
                              </condition>
                              <then xsi:type="As">
                                 <operand localId="264" locator="98:75-98:78" resultTypeName="t:Any" xsi:type="Null"/>
                                 <asTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </asTypeSpecifier>
                              </then>
                              <else localId="280" locator="99:14-102:9" xsi:type="Query">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <source localId="266" locator="99:14-99:60" alias="DiagnosisLine">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <expression localId="265" locator="99:14-99:46" path="MedicalClaim" scope="ClaimWithDiagnosis" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                    </expression>
                                 </source>
                                 <where localId="279" locator="100:9-102:9" resultTypeName="t:Boolean" xsi:type="Exists">
                                    <operand localId="278" locator="100:22-102:9" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <source localId="271" locator="100:24-100:82" alias="HeaderCode">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="270" locator="100:24-100:71" xsi:type="Flatten">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand xsi:type="Query">
                                                <source alias="$this">
                                                   <expression localId="269" locator="100:26-100:62" xsi:type="Query">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType xsi:type="ChoiceTypeSpecifier">
                                                            <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                            <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                         </elementType>
                                                      </resultTypeSpecifier>
                                                      <source alias="$this">
                                                         <expression localId="268" locator="100:28-100:50" path="diagnosis" scope="DiagnosisLine" xsi:type="Property">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Claim.Diagnosis" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                         </expression>
                                                      </source>
                                                      <where xsi:type="Not">
                                                         <operand xsi:type="IsNull">
                                                            <operand path="diagnosis" xsi:type="Property">
                                                               <source name="$this" xsi:type="AliasRef"/>
                                                            </operand>
                                                         </operand>
                                                      </where>
                                                      <return>
                                                         <expression path="diagnosis" xsi:type="Property">
                                                            <source name="$this" xsi:type="AliasRef"/>
                                                         </expression>
                                                      </return>
                                                   </expression>
                                                </source>
                                                <where xsi:type="Not">
                                                   <operand xsi:type="IsNull">
                                                      <operand path="coding" xsi:type="Property">
                                                         <source name="$this" xsi:type="AliasRef"/>
                                                      </operand>
                                                   </operand>
                                                </where>
                                                <return>
                                                   <expression path="coding" xsi:type="Property">
                                                      <source name="$this" xsi:type="AliasRef"/>
                                                   </expression>
                                                </return>
                                             </operand>
                                          </expression>
                                       </source>
                                       <where localId="277" locator="101:13-101:82" resultTypeName="t:Boolean" xsi:type="In">
                                          <operand localId="274" locator="101:19-101:39" resultTypeName="t:String" path="value" xsi:type="Property">
                                             <source localId="273" locator="101:19-101:33" resultTypeName="fhir:code" path="code" scope="HeaderCode" xsi:type="Property"/>
                                          </operand>
                                          <operand localId="276" locator="101:44-101:82" path="DiagnosesAsStrings" scope="ClaimWithDiagnosis" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                          </operand>
                                       </where>
                                    </operand>
                                 </where>
                              </else>
                           </value>
                        </element>
                     </expression>
                  </source>
                  <return localId="304" locator="104:7-111:35">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="Claim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="303" locator="104:14-111:35" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="Claim">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <source localId="300" locator="104:14-110:29" alias="FinalList">
                           <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </resultTypeSpecifier>
                           <expression localId="299" locator="104:14-110:19" xsi:type="If">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="Claim">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </resultTypeSpecifier>
                              <condition asType="t:Boolean" xsi:type="As">
                                 <operand localId="286" locator="104:19-104:58" resultTypeName="t:Boolean" xsi:type="Exists">
                                    <operand localId="285" locator="104:26-104:58" path="DiagnosisItems" scope="HeaderDefinition" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                    </operand>
                                 </operand>
                              </condition>
                              <then localId="297" locator="104:65-109:7" xsi:type="Tuple">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                                 <element name="Claim">
                                    <value localId="288" locator="105:18-105:50" path="DiagnosisItems" scope="HeaderDefinition" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                    </value>
                                 </element>
                                 <element name="ServicePeriod">
                                    <value localId="296" locator="106:26-107:72" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </resultTypeSpecifier>
                                       <source localId="290" locator="106:26-106:72" alias="NormalDate">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="289" locator="106:26-106:61" xsi:type="Flatten">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand xsi:type="Query">
                                                <source alias="$this">
                                                   <expression path="DiagnosisItems" scope="HeaderDefinition" xsi:type="Property"/>
                                                </source>
                                                <where xsi:type="Not">
                                                   <operand xsi:type="IsNull">
                                                      <operand path="item" xsi:type="Property">
                                                         <source name="$this" xsi:type="AliasRef"/>
                                                      </operand>
                                                   </operand>
                                                </where>
                                                <return>
                                                   <expression path="item" xsi:type="Property">
                                                      <source name="$this" xsi:type="AliasRef"/>
                                                   </expression>
                                                </return>
                                             </operand>
                                          </expression>
                                       </source>
                                       <return localId="295" locator="107:13-107:72">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </resultTypeSpecifier>
                                          <expression localId="294" locator="107:20-107:72" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand localId="293" locator="107:52-107:70" path="serviced" scope="NormalDate" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </operand>
                                          </expression>
                                       </return>
                                    </value>
                                 </element>
                              </then>
                              <else xsi:type="As">
                                 <operand localId="298" locator="110:14-110:17" resultTypeName="t:Any" xsi:type="Null"/>
                                 <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </asTypeSpecifier>
                              </else>
                           </expression>
                        </source>
                        <where localId="302" locator="111:9-111:35" resultTypeName="t:Boolean" xsi:type="Not">
                           <operand locator="111:15-111:35" resultTypeName="t:Boolean" xsi:type="IsNull">
                              <operand localId="301" locator="111:15-111:23" name="FinalList" xsi:type="AliasRef">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                              </operand>
                           </operand>
                        </where>
                     </expression>
                  </return>
               </expression>
            </return>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="248" locator="91:55-91:70" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="247" locator="91:60-91:69" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="DiagnosisValueSet">
            <operandTypeSpecifier localId="250" locator="91:91-91:107" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="249" locator="91:96-91:106" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="445" locator="113:1-150:33" name="Pharmacy Claim With Medication" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="445">
               <a:s>define function &quot;Pharmacy Claim With Medication&quot;(claim </a:s>
               <a:s r="310">
                  <a:s>List&lt;</a:s>
                  <a:s r="309">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, MedicationCodes </a:s>
               <a:s r="312">
                  <a:s>List&lt;</a:s>
                  <a:s r="311">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="444">
                  <a:s r="444">
                     <a:s>
                        <a:s r="322">
                           <a:s r="321">
                              <a:s>( </a:s>
                              <a:s r="321">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;PharmacyClaim&quot;: </a:s>
                                    <a:s r="314">
                                       <a:s>&quot;Pharmacy Claims&quot;(</a:s>
                                       <a:s r="313">
                                          <a:s>claim</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;MedicationsAsStrings&quot;: </a:s>
                                    <a:s r="320">
                                       <a:s>
                                          <a:s r="316">
                                             <a:s r="315">
                                                <a:s>
                                                   <a:s>MedicationCodes</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> p</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="319">
                                          <a:s>return </a:s>
                                          <a:s r="318">
                                             <a:s r="317">
                                                <a:s>p</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="318">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimWithMedication</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="443">
                        <a:s>return all </a:s>
                        <a:s r="442">
                           <a:s>
                              <a:s r="439">
                                 <a:s r="438">
                                    <a:s>( </a:s>
                                    <a:s r="438">
                                       <a:s>
                                          <a:s r="324">
                                             <a:s r="323">
                                                <a:s>
                                                   <a:s>ClaimWithMedication.&quot;PharmacyClaim&quot;</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> Pharmacy</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="437">
                                          <a:s>return all </a:s>
                                          <a:s r="436">
                                             <a:s>
                                                <a:s r="343">
                                                   <a:s r="342">
                                                      <a:s>( </a:s>
                                                      <a:s r="342">
                                                         <a:s>Tuple {&#xd;
        </a:s>
                                                         <a:s>
                                                            <a:s>&quot;Claim&quot;: </a:s>
                                                            <a:s r="325">
                                                               <a:s>Pharmacy</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>,&#xd;
        </a:s>
                                                         <a:s>
                                                            <a:s>&quot;LineItems&quot;: </a:s>
                                                            <a:s r="341">
                                                               <a:s>
                                                                  <a:s r="327">
                                                                     <a:s r="326">
                                                                        <a:s>
                                                                           <a:s>Pharmacy.item</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s> ItemOnLine</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>&#xd;
          </a:s>
                                                               <a:s r="340">
                                                                  <a:s>where </a:s>
                                                                  <a:s r="340">
                                                                     <a:s>exists </a:s>
                                                                     <a:s r="339">
                                                                        <a:s>( </a:s>
                                                                        <a:s r="339">
                                                                           <a:s>
                                                                              <a:s r="333">
                                                                                 <a:s r="332">
                                                                                    <a:s>( </a:s>
                                                                                    <a:s r="332">
                                                                                       <a:s r="331">
                                                                                          <a:s r="328">
                                                                                             <a:s>FHIRHelpers</a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="331">
                                                                                             <a:s>ToConcept ( </a:s>
                                                                                             <a:s r="330">
                                                                                                <a:s r="329">
                                                                                                   <a:s>ItemOnLine</a:s>
                                                                                                </a:s>
                                                                                                <a:s>.</a:s>
                                                                                                <a:s r="330">
                                                                                                   <a:s>productOrService</a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                             <a:s> )</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="332">
                                                                                          <a:s>codes</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s> )</a:s>
                                                                                 </a:s>
                                                                                 <a:s> LineCode</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
              </a:s>
                                                                           <a:s r="338">
                                                                              <a:s>where </a:s>
                                                                              <a:s r="338">
                                                                                 <a:s r="335">
                                                                                    <a:s r="334">
                                                                                       <a:s>LineCode</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="335">
                                                                                       <a:s>code</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> in </a:s>
                                                                                 <a:s r="337">
                                                                                    <a:s r="336">
                                                                                       <a:s>ClaimWithMedication</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="337">
                                                                                       <a:s>&quot;MedicationsAsStrings&quot;</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s>&#xd;
          )</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
      }</a:s>
                                                      </a:s>
                                                      <a:s> )</a:s>
                                                   </a:s>
                                                   <a:s> LineItemDefinition</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s r="435">
                                                <a:s>return all </a:s>
                                                <a:s r="434">
                                                   <a:s>
                                                      <a:s r="345">
                                                         <a:s r="344">
                                                            <a:s>
                                                               <a:s>LineItemDefinition.&quot;Claim&quot;</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> ClaimLines</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
          </a:s>
                                                   <a:s r="433">
                                                      <a:s>return all </a:s>
                                                      <a:s r="432">
                                                         <a:s>
                                                            <a:s r="407">
                                                               <a:s r="406">
                                                                  <a:s>( </a:s>
                                                                  <a:s r="406">
                                                                     <a:s>Tuple {&#xd;
            </a:s>
                                                                     <a:s>
                                                                        <a:s>CoveredDays: </a:s>
                                                                        <a:s r="405">
                                                                           <a:s>
                                                                              <a:s r="347">
                                                                                 <a:s r="346">
                                                                                    <a:s>
                                                                                       <a:s>ClaimLines.item</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> i</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
              </a:s>
                                                                           <a:s r="360">
                                                                              <a:s>where </a:s>
                                                                              <a:s r="360">
                                                                                 <a:s>exists </a:s>
                                                                                 <a:s r="359">
                                                                                    <a:s>( </a:s>
                                                                                    <a:s r="359">
                                                                                       <a:s>
                                                                                          <a:s r="353">
                                                                                             <a:s r="352">
                                                                                                <a:s>( </a:s>
                                                                                                <a:s r="352">
                                                                                                   <a:s r="351">
                                                                                                      <a:s r="348">
                                                                                                         <a:s>FHIRHelpers</a:s>
                                                                                                      </a:s>
                                                                                                      <a:s>.</a:s>
                                                                                                      <a:s r="351">
                                                                                                         <a:s>ToConcept ( </a:s>
                                                                                                         <a:s r="350">
                                                                                                            <a:s r="349">
                                                                                                               <a:s>i</a:s>
                                                                                                            </a:s>
                                                                                                            <a:s>.</a:s>
                                                                                                            <a:s r="350">
                                                                                                               <a:s>productOrService</a:s>
                                                                                                            </a:s>
                                                                                                         </a:s>
                                                                                                         <a:s> )</a:s>
                                                                                                      </a:s>
                                                                                                   </a:s>
                                                                                                   <a:s>.</a:s>
                                                                                                   <a:s r="352">
                                                                                                      <a:s>codes</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                                <a:s> )</a:s>
                                                                                             </a:s>
                                                                                             <a:s> LineCode</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s>&#xd;
                  </a:s>
                                                                                       <a:s r="358">
                                                                                          <a:s>where </a:s>
                                                                                          <a:s r="358">
                                                                                             <a:s r="355">
                                                                                                <a:s r="354">
                                                                                                   <a:s>LineCode</a:s>
                                                                                                </a:s>
                                                                                                <a:s>.</a:s>
                                                                                                <a:s r="355">
                                                                                                   <a:s>code</a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                             <a:s> in </a:s>
                                                                                             <a:s r="357">
                                                                                                <a:s r="356">
                                                                                                   <a:s>ClaimWithMedication</a:s>
                                                                                                </a:s>
                                                                                                <a:s>.</a:s>
                                                                                                <a:s r="357">
                                                                                                   <a:s>&quot;MedicationsAsStrings&quot;</a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s>&#xd;
              )</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
              </a:s>
                                                                           <a:s r="404">
                                                                              <a:s>return all </a:s>
                                                                              <a:s r="403">
                                                                                 <a:s>Tuple {&#xd;
                </a:s>
                                                                                 <a:s>
                                                                                    <a:s>DaysSupplyInterval: </a:s>
                                                                                    <a:s r="402">
                                                                                       <a:s>( </a:s>
                                                                                       <a:s r="402">
                                                                                          <a:s>if </a:s>
                                                                                          <a:s r="363">
                                                                                             <a:s r="362">
                                                                                                <a:s r="361">
                                                                                                   <a:s>i</a:s>
                                                                                                </a:s>
                                                                                                <a:s>.</a:s>
                                                                                                <a:s r="362">
                                                                                                   <a:s>quantity</a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                             <a:s> is not null</a:s>
                                                                                          </a:s>
                                                                                          <a:s> then </a:s>
                                                                                          <a:s r="400">
                                                                                             <a:s>if </a:s>
                                                                                             <a:s r="367">
                                                                                                <a:s r="365">
                                                                                                   <a:s r="364">
                                                                                                      <a:s>i</a:s>
                                                                                                   </a:s>
                                                                                                   <a:s>.</a:s>
                                                                                                   <a:s r="365">
                                                                                                      <a:s>serviced</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                                <a:s> is </a:s>
                                                                                                <a:s r="366">
                                                                                                   <a:s>Period</a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                             <a:s> then </a:s>
                                                                                             <a:s r="386">
                                                                                                <a:s>Interval[</a:s>
                                                                                                <a:s r="372">
                                                                                                   <a:s>start of </a:s>
                                                                                                   <a:s r="371">
                                                                                                      <a:s r="368">
                                                                                                         <a:s>FHIRBase</a:s>
                                                                                                      </a:s>
                                                                                                      <a:s>.</a:s>
                                                                                                      <a:s r="371">
                                                                                                         <a:s>&quot;Normalize Interval&quot; ( </a:s>
                                                                                                         <a:s r="370">
                                                                                                            <a:s r="369">
                                                                                                               <a:s>i</a:s>
                                                                                                            </a:s>
                                                                                                            <a:s>.</a:s>
                                                                                                            <a:s r="370">
                                                                                                               <a:s>serviced</a:s>
                                                                                                            </a:s>
                                                                                                         </a:s>
                                                                                                         <a:s> )</a:s>
                                                                                                      </a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                                <a:s>, </a:s>
                                                                                                <a:s r="385">
                                                                                                   <a:s r="383">
                                                                                                      <a:s r="377">
                                                                                                         <a:s>start of </a:s>
                                                                                                         <a:s r="376">
                                                                                                            <a:s r="373">
                                                                                                               <a:s>FHIRBase</a:s>
                                                                                                            </a:s>
                                                                                                            <a:s>.</a:s>
                                                                                                            <a:s r="376">
                                                                                                               <a:s>&quot;Normalize Interval&quot; ( </a:s>
                                                                                                               <a:s r="375">
                                                                                                                  <a:s r="374">
                                                                                                                     <a:s>i</a:s>
                                                                                                                  </a:s>
                                                                                                                  <a:s>.</a:s>
                                                                                                                  <a:s r="375">
                                                                                                                     <a:s>serviced</a:s>
                                                                                                                  </a:s>
                                                                                                               </a:s>
                                                                                                               <a:s> )</a:s>
                                                                                                            </a:s>
                                                                                                         </a:s>
                                                                                                      </a:s>
                                                                                                      <a:s> + </a:s>
                                                                                                      <a:s r="382">
                                                                                                         <a:s>System.Quantity { </a:s>
                                                                                                         <a:s>
                                                                                                            <a:s>value: </a:s>
                                                                                                            <a:s r="380">
                                                                                                               <a:s r="379">
                                                                                                                  <a:s r="378">
                                                                                                                     <a:s>i</a:s>
                                                                                                                  </a:s>
                                                                                                                  <a:s>.</a:s>
                                                                                                                  <a:s r="379">
                                                                                                                     <a:s>quantity</a:s>
                                                                                                                  </a:s>
                                                                                                               </a:s>
                                                                                                               <a:s>.</a:s>
                                                                                                               <a:s r="380">
                                                                                                                  <a:s>value</a:s>
                                                                                                               </a:s>
                                                                                                            </a:s>
                                                                                                         </a:s>
                                                                                                         <a:s>, </a:s>
                                                                                                         <a:s>
                                                                                                            <a:s>unit: </a:s>
                                                                                                            <a:s r="381">
                                                                                                               <a:s>'day'</a:s>
                                                                                                            </a:s>
                                                                                                         </a:s>
                                                                                                         <a:s> }</a:s>
                                                                                                      </a:s>
                                                                                                   </a:s>
                                                                                                   <a:s> - </a:s>
                                                                                                   <a:s r="384">
                                                                                                      <a:s>1 day</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                                <a:s>]</a:s>
                                                                                             </a:s>
                                                                                             <a:s>&#xd;
                    else </a:s>
                                                                                             <a:s r="399">
                                                                                                <a:s>Interval[</a:s>
                                                                                                <a:s r="388">
                                                                                                   <a:s r="387">
                                                                                                      <a:s>i</a:s>
                                                                                                   </a:s>
                                                                                                   <a:s>.</a:s>
                                                                                                   <a:s r="388">
                                                                                                      <a:s>serviced</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                                <a:s>, </a:s>
                                                                                                <a:s r="398">
                                                                                                   <a:s r="396">
                                                                                                      <a:s r="390">
                                                                                                         <a:s r="389">
                                                                                                            <a:s>i</a:s>
                                                                                                         </a:s>
                                                                                                         <a:s>.</a:s>
                                                                                                         <a:s r="390">
                                                                                                            <a:s>serviced</a:s>
                                                                                                         </a:s>
                                                                                                      </a:s>
                                                                                                      <a:s> + </a:s>
                                                                                                      <a:s r="395">
                                                                                                         <a:s>System.Quantity { </a:s>
                                                                                                         <a:s>
                                                                                                            <a:s>value: </a:s>
                                                                                                            <a:s r="393">
                                                                                                               <a:s r="392">
                                                                                                                  <a:s r="391">
                                                                                                                     <a:s>i</a:s>
                                                                                                                  </a:s>
                                                                                                                  <a:s>.</a:s>
                                                                                                                  <a:s r="392">
                                                                                                                     <a:s>quantity</a:s>
                                                                                                                  </a:s>
                                                                                                               </a:s>
                                                                                                               <a:s>.</a:s>
                                                                                                               <a:s r="393">
                                                                                                                  <a:s>value</a:s>
                                                                                                               </a:s>
                                                                                                            </a:s>
                                                                                                         </a:s>
                                                                                                         <a:s>, </a:s>
                                                                                                         <a:s>
                                                                                                            <a:s>unit: </a:s>
                                                                                                            <a:s r="394">
                                                                                                               <a:s>'day'</a:s>
                                                                                                            </a:s>
                                                                                                         </a:s>
                                                                                                         <a:s> }</a:s>
                                                                                                      </a:s>
                                                                                                   </a:s>
                                                                                                   <a:s> - </a:s>
                                                                                                   <a:s r="397">
                                                                                                      <a:s>1 day</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                                <a:s>]</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s r="401">&#xd;
                    else null</a:s>
                                                                                       </a:s>
                                                                                       <a:s>&#xd;
                )</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>&#xd;
              }</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
          }</a:s>
                                                                  </a:s>
                                                                  <a:s> )</a:s>
                                                               </a:s>
                                                               <a:s> ItemCalculation</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
            </a:s>
                                                         <a:s r="431">
                                                            <a:s>return all </a:s>
                                                            <a:s r="430">
                                                               <a:s>if </a:s>
                                                               <a:s r="410">
                                                                  <a:s>exists </a:s>
                                                                  <a:s r="409">
                                                                     <a:s r="408">
                                                                        <a:s>LineItemDefinition</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="409">
                                                                        <a:s>&quot;LineItems&quot;</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s> then </a:s>
                                                               <a:s r="428">
                                                                  <a:s>( </a:s>
                                                                  <a:s r="428">
                                                                     <a:s>Tuple {&#xd;
                </a:s>
                                                                     <a:s>
                                                                        <a:s>Claim: </a:s>
                                                                        <a:s r="412">
                                                                           <a:s r="411">
                                                                              <a:s>LineItemDefinition</a:s>
                                                                           </a:s>
                                                                           <a:s>.</a:s>
                                                                           <a:s r="412">
                                                                              <a:s>&quot;Claim&quot;</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>,&#xd;
                </a:s>
                                                                     <a:s>
                                                                        <a:s>LineItem: </a:s>
                                                                        <a:s r="414">
                                                                           <a:s r="413">
                                                                              <a:s>LineItemDefinition</a:s>
                                                                           </a:s>
                                                                           <a:s>.</a:s>
                                                                           <a:s r="414">
                                                                              <a:s>&quot;LineItems&quot;</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>,&#xd;
                </a:s>
                                                                     <a:s>
                                                                        <a:s>ServicePeriod: </a:s>
                                                                        <a:s r="421">
                                                                           <a:s>
                                                                              <a:s r="416">
                                                                                 <a:s r="415">
                                                                                    <a:s>
                                                                                       <a:s>LineItemDefinition.LineItems.serviced</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> NormalDate</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
                  </a:s>
                                                                           <a:s r="420">
                                                                              <a:s>return </a:s>
                                                                              <a:s r="419">
                                                                                 <a:s r="417">
                                                                                    <a:s>FHIRBase</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="419">
                                                                                    <a:s>&quot;Normalize Interval&quot; ( </a:s>
                                                                                    <a:s r="418">
                                                                                       <a:s>NormalDate</a:s>
                                                                                    </a:s>
                                                                                    <a:s> )</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>,&#xd;
                </a:s>
                                                                     <a:s>
                                                                        <a:s>CoveredDays: </a:s>
                                                                        <a:s r="427">
                                                                           <a:s>
                                                                              <a:s r="423">
                                                                                 <a:s r="422">
                                                                                    <a:s>
                                                                                       <a:s>ItemCalculation.CoveredDays</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> d</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
                  </a:s>
                                                                           <a:s r="426">
                                                                              <a:s>return all </a:s>
                                                                              <a:s r="425">
                                                                                 <a:s r="424">
                                                                                    <a:s>d</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="425">
                                                                                    <a:s>DaysSupplyInterval</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
              }</a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
            )</a:s>
                                                               </a:s>
                                                               <a:s r="429"> &#xd;
              else null</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s> FinalList</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="441">
                              <a:s>where </a:s>
                              <a:s r="441">
                                 <a:s r="440">
                                    <a:s>FinalList</a:s>
                                 </a:s>
                                 <a:s> is not null</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="Claim">
                  <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="LineItem">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
               <element name="CoveredDays">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="444" locator="114:3-150:33" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="Claim">
                     <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="LineItem">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
                  <element name="CoveredDays">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="322" locator="114:3-118:25" alias="ClaimWithMedication">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="PharmacyClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="MedicationsAsStrings">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="321" locator="114:3-118:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="PharmacyClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="MedicationsAsStrings">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="PharmacyClaim">
                     <value localId="314" locator="115:22-115:45" name="Pharmacy Claims" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand localId="313" locator="115:40-115:44" name="claim" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
                  <element name="MedicationsAsStrings">
                     <value localId="320" locator="116:29-117:19" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source localId="316" locator="116:29-116:45" alias="p">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="315" locator="116:29-116:43" name="MedicationCodes" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="319" locator="117:7-117:19">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="318" locator="117:14-117:19" resultTypeName="t:String" path="code" scope="p" xsi:type="Property"/>
                        </return>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="443" locator="119:5-150:33" distinct="false">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="Claim">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItem">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                     <element name="CoveredDays">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="442" locator="119:16-150:33" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="Claim">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="LineItem">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                        <element name="CoveredDays">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
                  <source localId="439" locator="119:16-149:35" alias="FinalList">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="Claim">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItem">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                           <element name="CoveredDays">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="438" locator="119:16-149:25" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItem">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                              <element name="CoveredDays">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <source localId="324" locator="119:18-119:61" alias="Pharmacy">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="323" locator="119:18-119:52" path="PharmacyClaim" scope="ClaimWithMedication" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="437" locator="120:7-149:23" distinct="false">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="Claim">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="LineItem">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                                 <element name="CoveredDays">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </elementType>
                           </resultTypeSpecifier>
                           <expression localId="436" locator="120:18-149:23" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="Claim">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="LineItem">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                                 <element name="CoveredDays">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </resultTypeSpecifier>
                              <source localId="343" locator="120:18-126:28" alias="LineItemDefinition">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="LineItems">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                                 <expression localId="342" locator="120:18-126:9" xsi:type="Tuple">
                                    <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItems">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </resultTypeSpecifier>
                                    <element name="Claim">
                                       <value localId="325" locator="121:18-121:25" resultTypeName="fhir:Claim" name="Pharmacy" xsi:type="AliasRef"/>
                                    </element>
                                    <element name="LineItems">
                                       <value localId="341" locator="122:22-125:11" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <source localId="327" locator="122:22-122:45" alias="ItemOnLine">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <expression localId="326" locator="122:22-122:34" path="item" scope="Pharmacy" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </expression>
                                          </source>
                                          <where localId="340" locator="123:11-125:11" resultTypeName="t:Boolean" xsi:type="Exists">
                                             <operand localId="339" locator="123:24-125:11" xsi:type="Query">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <source localId="333" locator="123:26-123:97" alias="LineCode">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="332" locator="123:26-123:88" path="codes" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <source localId="331" locator="123:28-123:80" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                         <operand localId="330" locator="123:52-123:78" resultTypeName="fhir:CodeableConcept" path="productOrService" scope="ItemOnLine" xsi:type="Property"/>
                                                      </source>
                                                   </expression>
                                                </source>
                                                <where localId="338" locator="124:15-124:79" resultTypeName="t:Boolean" xsi:type="In">
                                                   <operand localId="335" locator="124:21-124:33" resultTypeName="t:String" path="code" scope="LineCode" xsi:type="Property"/>
                                                   <operand localId="337" locator="124:38-124:79" path="MedicationsAsStrings" scope="ClaimWithMedication" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </operand>
                                                </where>
                                             </operand>
                                          </where>
                                       </value>
                                    </element>
                                 </expression>
                              </source>
                              <return localId="435" locator="127:9-149:23" distinct="false">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="LineItem">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="CoveredDays">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                                 <expression localId="434" locator="127:20-149:23" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItem">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                       <element name="ServicePeriod">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                       <element name="CoveredDays">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                    </resultTypeSpecifier>
                                    <source localId="345" locator="127:20-127:56" resultTypeName="fhir:Claim" alias="ClaimLines">
                                       <expression localId="344" locator="127:20-127:45" resultTypeName="fhir:Claim" path="Claim" scope="LineItemDefinition" xsi:type="Property"/>
                                    </source>
                                    <return localId="433" locator="128:11-149:23" distinct="false">
                                       <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                          <element name="Claim">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItem">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                          <element name="ServicePeriod">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                          <element name="CoveredDays">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                       </resultTypeSpecifier>
                                       <expression localId="432" locator="128:22-149:23" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                             <element name="Claim">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItem">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                             <element name="ServicePeriod">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                             <element name="CoveredDays">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                          </resultTypeSpecifier>
                                          <source localId="407" locator="128:22-139:29" alias="ItemCalculation">
                                             <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                <element name="CoveredDays">
                                                   <type xsi:type="ListTypeSpecifier">
                                                      <elementType xsi:type="TupleTypeSpecifier">
                                                         <element name="DaysSupplyInterval">
                                                            <type xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </type>
                                                         </element>
                                                      </elementType>
                                                   </type>
                                                </element>
                                             </resultTypeSpecifier>
                                             <expression localId="406" locator="128:22-139:13" xsi:type="Tuple">
                                                <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                   <element name="CoveredDays">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType xsi:type="TupleTypeSpecifier">
                                                            <element name="DaysSupplyInterval">
                                                               <type xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </type>
                                                            </element>
                                                         </elementType>
                                                      </type>
                                                   </element>
                                                </resultTypeSpecifier>
                                                <element name="CoveredDays">
                                                   <value localId="405" locator="129:26-138:15" xsi:type="Query">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType xsi:type="TupleTypeSpecifier">
                                                            <element name="DaysSupplyInterval">
                                                               <type xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </type>
                                                            </element>
                                                         </elementType>
                                                      </resultTypeSpecifier>
                                                      <source localId="347" locator="129:26-129:42" alias="i">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                         </resultTypeSpecifier>
                                                         <expression localId="346" locator="129:26-129:40" path="item" scope="ClaimLines" xsi:type="Property">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                         </expression>
                                                      </source>
                                                      <where localId="360" locator="130:15-132:15" resultTypeName="t:Boolean" xsi:type="Exists">
                                                         <operand localId="359" locator="130:28-132:15" xsi:type="Query">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <source localId="353" locator="130:30-130:92" alias="LineCode">
                                                               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <expression localId="352" locator="130:30-130:83" path="codes" xsi:type="Property">
                                                                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                     <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                                  </resultTypeSpecifier>
                                                                  <source localId="351" locator="130:32-130:75" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                     <operand localId="350" locator="130:56-130:73" resultTypeName="fhir:CodeableConcept" path="productOrService" scope="i" xsi:type="Property"/>
                                                                  </source>
                                                               </expression>
                                                            </source>
                                                            <where localId="358" locator="131:19-131:83" resultTypeName="t:Boolean" xsi:type="In">
                                                               <operand localId="355" locator="131:25-131:37" resultTypeName="t:String" path="code" scope="LineCode" xsi:type="Property"/>
                                                               <operand localId="357" locator="131:42-131:83" path="MedicationsAsStrings" scope="ClaimWithMedication" xsi:type="Property">
                                                                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                     <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                                  </resultTypeSpecifier>
                                                               </operand>
                                                            </where>
                                                         </operand>
                                                      </where>
                                                      <return localId="404" locator="133:15-138:15" distinct="false">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType xsi:type="TupleTypeSpecifier">
                                                               <element name="DaysSupplyInterval">
                                                                  <type xsi:type="IntervalTypeSpecifier">
                                                                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </type>
                                                               </element>
                                                            </elementType>
                                                         </resultTypeSpecifier>
                                                         <expression localId="403" locator="133:26-138:15" xsi:type="Tuple">
                                                            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                               <element name="DaysSupplyInterval">
                                                                  <type xsi:type="IntervalTypeSpecifier">
                                                                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </type>
                                                               </element>
                                                            </resultTypeSpecifier>
                                                            <element name="DaysSupplyInterval">
                                                               <value localId="402" locator="134:37-137:17" xsi:type="If">
                                                                  <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </resultTypeSpecifier>
                                                                  <condition asType="t:Boolean" xsi:type="As">
                                                                     <operand localId="363" locator="134:42-134:63" resultTypeName="t:Boolean" xsi:type="Not">
                                                                        <operand locator="134:42-134:63" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                                           <operand localId="362" locator="134:42-134:51" resultTypeName="fhir:SimpleQuantity" path="quantity" scope="i" xsi:type="Property"/>
                                                                        </operand>
                                                                     </operand>
                                                                  </condition>
                                                                  <then localId="400" locator="134:70-135:124" xsi:type="If">
                                                                     <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                     </resultTypeSpecifier>
                                                                     <condition asType="t:Boolean" xsi:type="As">
                                                                        <operand localId="367" locator="134:73-134:92" resultTypeName="t:Boolean" xsi:type="Is">
                                                                           <operand localId="365" locator="134:73-134:82" path="serviced" scope="i" xsi:type="Property">
                                                                              <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                                 <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                                 <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                              </resultTypeSpecifier>
                                                                           </operand>
                                                                           <isTypeSpecifier localId="366" locator="134:87-134:92" resultTypeName="fhir:Period" name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                        </operand>
                                                                     </condition>
                                                                     <then localId="386" locator="134:99-134:283" lowClosed="true" highClosed="true" xsi:type="Interval">
                                                                        <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                        </resultTypeSpecifier>
                                                                        <low localId="372" locator="134:108-134:160" resultTypeName="t:DateTime" xsi:type="Start">
                                                                           <operand localId="371" locator="134:117-134:160" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                              </resultTypeSpecifier>
                                                                              <operand localId="370" locator="134:149-134:158" path="serviced" scope="i" xsi:type="Property">
                                                                                 <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                                    <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                                    <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                                 </resultTypeSpecifier>
                                                                              </operand>
                                                                           </operand>
                                                                        </low>
                                                                        <high localId="385" locator="134:163-134:282" resultTypeName="t:DateTime" xsi:type="Subtract">
                                                                           <operand localId="383" locator="134:163-134:274" resultTypeName="t:DateTime" xsi:type="Add">
                                                                              <operand localId="377" locator="134:163-134:215" resultTypeName="t:DateTime" xsi:type="Start">
                                                                                 <operand localId="376" locator="134:172-134:215" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                                                    <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                                    </resultTypeSpecifier>
                                                                                    <operand localId="375" locator="134:204-134:213" path="serviced" scope="i" xsi:type="Property">
                                                                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                                          <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                                          <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                                       </resultTypeSpecifier>
                                                                                    </operand>
                                                                                 </operand>
                                                                              </operand>
                                                                              <operand localId="382" locator="134:219-134:274" resultTypeName="t:Quantity" classType="t:Quantity" xsi:type="Instance">
                                                                                 <element name="value">
                                                                                    <value name="ToDecimal" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                                       <operand localId="380" locator="134:244-134:259" resultTypeName="fhir:decimal" path="value" xsi:type="Property">
                                                                                          <source localId="379" locator="134:244-134:253" resultTypeName="fhir:SimpleQuantity" path="quantity" scope="i" xsi:type="Property"/>
                                                                                       </operand>
                                                                                    </value>
                                                                                 </element>
                                                                                 <element name="unit">
                                                                                    <value localId="381" locator="134:268-134:272" resultTypeName="t:String" valueType="t:String" value="day" xsi:type="Literal"/>
                                                                                 </element>
                                                                              </operand>
                                                                           </operand>
                                                                           <operand localId="384" locator="134:278-134:282" resultTypeName="t:Quantity" value="1" unit="day" xsi:type="Quantity"/>
                                                                        </high>
                                                                     </then>
                                                                     <else xsi:type="Interval">
                                                                        <low xsi:type="ToDateTime">
                                                                           <operand path="low" xsi:type="Property">
                                                                              <source localId="399" locator="135:26-135:124" lowClosed="true" highClosed="true" xsi:type="Interval">
                                                                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                                    <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                                                                 </resultTypeSpecifier>
                                                                                 <low name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                                    <operand asType="fhir:date" xsi:type="As">
                                                                                       <operand localId="388" locator="135:35-135:44" path="serviced" scope="i" xsi:type="Property">
                                                                                          <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                                             <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                                             <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                                          </resultTypeSpecifier>
                                                                                       </operand>
                                                                                    </operand>
                                                                                 </low>
                                                                                 <high localId="398" locator="135:47-135:123" resultTypeName="t:Date" xsi:type="Subtract">
                                                                                    <operand localId="396" locator="135:47-135:115" resultTypeName="t:Date" xsi:type="Add">
                                                                                       <operand name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                                          <operand asType="fhir:date" xsi:type="As">
                                                                                             <operand localId="390" locator="135:47-135:56" path="serviced" scope="i" xsi:type="Property">
                                                                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                                                   <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                                                   <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                                                </resultTypeSpecifier>
                                                                                             </operand>
                                                                                          </operand>
                                                                                       </operand>
                                                                                       <operand localId="395" locator="135:60-135:115" resultTypeName="t:Quantity" classType="t:Quantity" xsi:type="Instance">
                                                                                          <element name="value">
                                                                                             <value name="ToDecimal" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                                                <operand localId="393" locator="135:85-135:100" resultTypeName="fhir:decimal" path="value" xsi:type="Property">
                                                                                                   <source localId="392" locator="135:85-135:94" resultTypeName="fhir:SimpleQuantity" path="quantity" scope="i" xsi:type="Property"/>
                                                                                                </operand>
                                                                                             </value>
                                                                                          </element>
                                                                                          <element name="unit">
                                                                                             <value localId="394" locator="135:109-135:113" resultTypeName="t:String" valueType="t:String" value="day" xsi:type="Literal"/>
                                                                                          </element>
                                                                                       </operand>
                                                                                    </operand>
                                                                                    <operand localId="397" locator="135:119-135:123" resultTypeName="t:Quantity" value="1" unit="day" xsi:type="Quantity"/>
                                                                                 </high>
                                                                              </source>
                                                                           </operand>
                                                                        </low>
                                                                        <lowClosedExpression path="lowClosed" xsi:type="Property">
                                                                           <source localId="399" locator="135:26-135:124" lowClosed="true" highClosed="true" xsi:type="Interval">
                                                                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                                 <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                                                              </resultTypeSpecifier>
                                                                              <low name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                                 <operand asType="fhir:date" xsi:type="As">
                                                                                    <operand localId="388" locator="135:35-135:44" path="serviced" scope="i" xsi:type="Property">
                                                                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                                          <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                                          <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                                       </resultTypeSpecifier>
                                                                                    </operand>
                                                                                 </operand>
                                                                              </low>
                                                                              <high localId="398" locator="135:47-135:123" resultTypeName="t:Date" xsi:type="Subtract">
                                                                                 <operand localId="396" locator="135:47-135:115" resultTypeName="t:Date" xsi:type="Add">
                                                                                    <operand name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                                       <operand asType="fhir:date" xsi:type="As">
                                                                                          <operand localId="390" locator="135:47-135:56" path="serviced" scope="i" xsi:type="Property">
                                                                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                                                <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                                                <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                                             </resultTypeSpecifier>
                                                                                          </operand>
                                                                                       </operand>
                                                                                    </operand>
                                                                                    <operand localId="395" locator="135:60-135:115" resultTypeName="t:Quantity" classType="t:Quantity" xsi:type="Instance">
                                                                                       <element name="value">
                                                                                          <value name="ToDecimal" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                                             <operand localId="393" locator="135:85-135:100" resultTypeName="fhir:decimal" path="value" xsi:type="Property">
                                                                                                <source localId="392" locator="135:85-135:94" resultTypeName="fhir:SimpleQuantity" path="quantity" scope="i" xsi:type="Property"/>
                                                                                             </operand>
                                                                                          </value>
                                                                                       </element>
                                                                                       <element name="unit">
                                                                                          <value localId="394" locator="135:109-135:113" resultTypeName="t:String" valueType="t:String" value="day" xsi:type="Literal"/>
                                                                                       </element>
                                                                                    </operand>
                                                                                 </operand>
                                                                                 <operand localId="397" locator="135:119-135:123" resultTypeName="t:Quantity" value="1" unit="day" xsi:type="Quantity"/>
                                                                              </high>
                                                                           </source>
                                                                        </lowClosedExpression>
                                                                        <high xsi:type="ToDateTime">
                                                                           <operand path="high" xsi:type="Property">
                                                                              <source localId="399" locator="135:26-135:124" lowClosed="true" highClosed="true" xsi:type="Interval">
                                                                                 <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                                    <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                                                                 </resultTypeSpecifier>
                                                                                 <low name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                                    <operand asType="fhir:date" xsi:type="As">
                                                                                       <operand localId="388" locator="135:35-135:44" path="serviced" scope="i" xsi:type="Property">
                                                                                          <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                                             <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                                             <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                                          </resultTypeSpecifier>
                                                                                       </operand>
                                                                                    </operand>
                                                                                 </low>
                                                                                 <high localId="398" locator="135:47-135:123" resultTypeName="t:Date" xsi:type="Subtract">
                                                                                    <operand localId="396" locator="135:47-135:115" resultTypeName="t:Date" xsi:type="Add">
                                                                                       <operand name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                                          <operand asType="fhir:date" xsi:type="As">
                                                                                             <operand localId="390" locator="135:47-135:56" path="serviced" scope="i" xsi:type="Property">
                                                                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                                                   <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                                                   <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                                                </resultTypeSpecifier>
                                                                                             </operand>
                                                                                          </operand>
                                                                                       </operand>
                                                                                       <operand localId="395" locator="135:60-135:115" resultTypeName="t:Quantity" classType="t:Quantity" xsi:type="Instance">
                                                                                          <element name="value">
                                                                                             <value name="ToDecimal" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                                                <operand localId="393" locator="135:85-135:100" resultTypeName="fhir:decimal" path="value" xsi:type="Property">
                                                                                                   <source localId="392" locator="135:85-135:94" resultTypeName="fhir:SimpleQuantity" path="quantity" scope="i" xsi:type="Property"/>
                                                                                                </operand>
                                                                                             </value>
                                                                                          </element>
                                                                                          <element name="unit">
                                                                                             <value localId="394" locator="135:109-135:113" resultTypeName="t:String" valueType="t:String" value="day" xsi:type="Literal"/>
                                                                                          </element>
                                                                                       </operand>
                                                                                    </operand>
                                                                                    <operand localId="397" locator="135:119-135:123" resultTypeName="t:Quantity" value="1" unit="day" xsi:type="Quantity"/>
                                                                                 </high>
                                                                              </source>
                                                                           </operand>
                                                                        </high>
                                                                        <highClosedExpression path="highClosed" xsi:type="Property">
                                                                           <source localId="399" locator="135:26-135:124" lowClosed="true" highClosed="true" xsi:type="Interval">
                                                                              <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                                 <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                                                              </resultTypeSpecifier>
                                                                              <low name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                                 <operand asType="fhir:date" xsi:type="As">
                                                                                    <operand localId="388" locator="135:35-135:44" path="serviced" scope="i" xsi:type="Property">
                                                                                       <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                                          <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                                          <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                                       </resultTypeSpecifier>
                                                                                    </operand>
                                                                                 </operand>
                                                                              </low>
                                                                              <high localId="398" locator="135:47-135:123" resultTypeName="t:Date" xsi:type="Subtract">
                                                                                 <operand localId="396" locator="135:47-135:115" resultTypeName="t:Date" xsi:type="Add">
                                                                                    <operand name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                                       <operand asType="fhir:date" xsi:type="As">
                                                                                          <operand localId="390" locator="135:47-135:56" path="serviced" scope="i" xsi:type="Property">
                                                                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                                                <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                                                <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                                             </resultTypeSpecifier>
                                                                                          </operand>
                                                                                       </operand>
                                                                                    </operand>
                                                                                    <operand localId="395" locator="135:60-135:115" resultTypeName="t:Quantity" classType="t:Quantity" xsi:type="Instance">
                                                                                       <element name="value">
                                                                                          <value name="ToDecimal" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                                             <operand localId="393" locator="135:85-135:100" resultTypeName="fhir:decimal" path="value" xsi:type="Property">
                                                                                                <source localId="392" locator="135:85-135:94" resultTypeName="fhir:SimpleQuantity" path="quantity" scope="i" xsi:type="Property"/>
                                                                                             </operand>
                                                                                          </value>
                                                                                       </element>
                                                                                       <element name="unit">
                                                                                          <value localId="394" locator="135:109-135:113" resultTypeName="t:String" valueType="t:String" value="day" xsi:type="Literal"/>
                                                                                       </element>
                                                                                    </operand>
                                                                                 </operand>
                                                                                 <operand localId="397" locator="135:119-135:123" resultTypeName="t:Quantity" value="1" unit="day" xsi:type="Quantity"/>
                                                                              </high>
                                                                           </source>
                                                                        </highClosedExpression>
                                                                     </else>
                                                                  </then>
                                                                  <else xsi:type="As">
                                                                     <operand localId="401" locator="136:26-136:29" resultTypeName="t:Any" xsi:type="Null"/>
                                                                     <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                     </asTypeSpecifier>
                                                                  </else>
                                                               </value>
                                                            </element>
                                                         </expression>
                                                      </return>
                                                   </value>
                                                </element>
                                             </expression>
                                          </source>
                                          <return localId="431" locator="140:13-149:23" distinct="false">
                                             <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                <element name="Claim">
                                                   <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="LineItem">
                                                   <type xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                   </type>
                                                </element>
                                                <element name="ServicePeriod">
                                                   <type xsi:type="ListTypeSpecifier">
                                                      <elementType xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </elementType>
                                                   </type>
                                                </element>
                                                <element name="CoveredDays">
                                                   <type xsi:type="ListTypeSpecifier">
                                                      <elementType xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </elementType>
                                                   </type>
                                                </element>
                                             </resultTypeSpecifier>
                                             <expression localId="430" locator="140:24-149:23" xsi:type="If">
                                                <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                   <element name="Claim">
                                                      <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                   <element name="LineItem">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                   <element name="ServicePeriod">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </elementType>
                                                      </type>
                                                   </element>
                                                   <element name="CoveredDays">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </elementType>
                                                      </type>
                                                   </element>
                                                </resultTypeSpecifier>
                                                <condition asType="t:Boolean" xsi:type="As">
                                                   <operand localId="410" locator="140:27-140:63" resultTypeName="t:Boolean" xsi:type="Exists">
                                                      <operand localId="409" locator="140:34-140:63" path="LineItems" scope="LineItemDefinition" xsi:type="Property">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                         </resultTypeSpecifier>
                                                      </operand>
                                                   </operand>
                                                </condition>
                                                <then localId="428" locator="140:70-148:13" xsi:type="Tuple">
                                                   <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                      <element name="Claim">
                                                         <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                      </element>
                                                      <element name="LineItem">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                         </type>
                                                      </element>
                                                      <element name="ServicePeriod">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </elementType>
                                                         </type>
                                                      </element>
                                                      <element name="CoveredDays">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </elementType>
                                                         </type>
                                                      </element>
                                                   </resultTypeSpecifier>
                                                   <element name="Claim">
                                                      <value localId="412" locator="141:24-141:49" resultTypeName="fhir:Claim" path="Claim" scope="LineItemDefinition" xsi:type="Property"/>
                                                   </element>
                                                   <element name="LineItem">
                                                      <value localId="414" locator="142:27-142:56" path="LineItems" scope="LineItemDefinition" xsi:type="Property">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                         </resultTypeSpecifier>
                                                      </value>
                                                   </element>
                                                   <element name="ServicePeriod">
                                                      <value localId="421" locator="143:32-144:69" xsi:type="Query">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </elementType>
                                                         </resultTypeSpecifier>
                                                         <source localId="416" locator="143:32-143:79" alias="NormalDate">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType xsi:type="ChoiceTypeSpecifier">
                                                                  <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                  <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                               </elementType>
                                                            </resultTypeSpecifier>
                                                            <expression localId="415" locator="143:32-143:68" xsi:type="Query">
                                                               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                  <elementType xsi:type="ChoiceTypeSpecifier">
                                                                     <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                     <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                  </elementType>
                                                               </resultTypeSpecifier>
                                                               <source alias="$this">
                                                                  <expression path="LineItems" scope="LineItemDefinition" xsi:type="Property"/>
                                                               </source>
                                                               <where xsi:type="Not">
                                                                  <operand xsi:type="IsNull">
                                                                     <operand path="serviced" xsi:type="Property">
                                                                        <source name="$this" xsi:type="AliasRef"/>
                                                                     </operand>
                                                                  </operand>
                                                               </where>
                                                               <return>
                                                                  <expression path="serviced" xsi:type="Property">
                                                                     <source name="$this" xsi:type="AliasRef"/>
                                                                  </expression>
                                                               </return>
                                                            </expression>
                                                         </source>
                                                         <return localId="420" locator="144:19-144:69">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </elementType>
                                                            </resultTypeSpecifier>
                                                            <expression localId="419" locator="144:26-144:69" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                               <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <operand localId="418" locator="144:58-144:67" name="NormalDate" xsi:type="AliasRef">
                                                                  <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                     <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                     <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                  </resultTypeSpecifier>
                                                               </operand>
                                                            </expression>
                                                         </return>
                                                      </value>
                                                   </element>
                                                   <element name="CoveredDays">
                                                      <value localId="427" locator="145:30-146:49" xsi:type="Query">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </elementType>
                                                         </resultTypeSpecifier>
                                                         <source localId="423" locator="145:30-145:58" alias="d">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType xsi:type="TupleTypeSpecifier">
                                                                  <element name="DaysSupplyInterval">
                                                                     <type xsi:type="IntervalTypeSpecifier">
                                                                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                     </type>
                                                                  </element>
                                                               </elementType>
                                                            </resultTypeSpecifier>
                                                            <expression localId="422" locator="145:30-145:56" path="CoveredDays" scope="ItemCalculation" xsi:type="Property">
                                                               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                  <elementType xsi:type="TupleTypeSpecifier">
                                                                     <element name="DaysSupplyInterval">
                                                                        <type xsi:type="IntervalTypeSpecifier">
                                                                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                        </type>
                                                                     </element>
                                                                  </elementType>
                                                               </resultTypeSpecifier>
                                                            </expression>
                                                         </source>
                                                         <return localId="426" locator="146:19-146:49" distinct="false">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </elementType>
                                                            </resultTypeSpecifier>
                                                            <expression localId="425" locator="146:30-146:49" path="DaysSupplyInterval" scope="d" xsi:type="Property">
                                                               <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                            </expression>
                                                         </return>
                                                      </value>
                                                   </element>
                                                </then>
                                                <else xsi:type="As">
                                                   <operand localId="429" locator="149:20-149:23" resultTypeName="t:Any" xsi:type="Null"/>
                                                   <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                      <element name="Claim">
                                                         <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                      </element>
                                                      <element name="LineItem">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                         </type>
                                                      </element>
                                                      <element name="ServicePeriod">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </elementType>
                                                         </type>
                                                      </element>
                                                      <element name="CoveredDays">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </elementType>
                                                         </type>
                                                      </element>
                                                   </asTypeSpecifier>
                                                </else>
                                             </expression>
                                          </return>
                                       </expression>
                                    </return>
                                 </expression>
                              </return>
                           </expression>
                        </return>
                     </expression>
                  </source>
                  <where localId="441" locator="150:7-150:33" resultTypeName="t:Boolean" xsi:type="Not">
                     <operand locator="150:13-150:33" resultTypeName="t:Boolean" xsi:type="IsNull">
                        <operand localId="440" locator="150:13-150:21" name="FinalList" xsi:type="AliasRef">
                           <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItem">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                              <element name="CoveredDays">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </resultTypeSpecifier>
                        </operand>
                     </operand>
                  </where>
               </expression>
            </return>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="310" locator="113:56-113:71" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="309" locator="113:61-113:70" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="MedicationCodes">
            <operandTypeSpecifier localId="312" locator="113:90-113:106" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="311" locator="113:95-113:105" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="557" locator="152:1-187:35" name="Medical Claims With Diagnosis and Procedure" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="557">
               <a:s>define function &quot;Medical Claims With Diagnosis and Procedure&quot;(claim </a:s>
               <a:s r="447">
                  <a:s>List&lt;</a:s>
                  <a:s r="446">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, DiagnosisValueSet </a:s>
               <a:s r="449">
                  <a:s>List&lt;</a:s>
                  <a:s r="448">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="451">
                  <a:s>List&lt;</a:s>
                  <a:s r="450">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="556">
                  <a:s r="556">
                     <a:s>
                        <a:s r="467">
                           <a:s r="466">
                              <a:s>( </a:s>
                              <a:s r="466">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;MedicalClaim&quot;: </a:s>
                                    <a:s r="453">
                                       <a:s>&quot;Professional or Institutional Claims&quot;(</a:s>
                                       <a:s r="452">
                                          <a:s>claim</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;DiagnosesAsStrings&quot;: </a:s>
                                    <a:s r="459">
                                       <a:s>
                                          <a:s r="455">
                                             <a:s r="454">
                                                <a:s>
                                                   <a:s>DiagnosisValueSet</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> d</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="458">
                                          <a:s>return </a:s>
                                          <a:s r="457">
                                             <a:s r="456">
                                                <a:s>d</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="457">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;ProceduresAsStrings&quot;: </a:s>
                                    <a:s r="465">
                                       <a:s>
                                          <a:s r="461">
                                             <a:s r="460">
                                                <a:s>
                                                   <a:s>ProductOrServiceValueSet</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> p</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="464">
                                          <a:s>return </a:s>
                                          <a:s r="463">
                                             <a:s r="462">
                                                <a:s>p</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="463">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimWithDiagnosis</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="555">
                        <a:s>return </a:s>
                        <a:s r="554">
                           <a:s>
                              <a:s r="490">
                                 <a:s r="489">
                                    <a:s>( </a:s>
                                    <a:s r="489">
                                       <a:s>Tuple {&#xd;
      </a:s>
                                       <a:s>
                                          <a:s>&quot;DiagnosisItems&quot;: </a:s>
                                          <a:s r="488">
                                             <a:s>if </a:s>
                                             <a:s r="470">
                                                <a:s r="469">
                                                   <a:s r="468">
                                                      <a:s>ClaimWithDiagnosis</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="469">
                                                      <a:s>&quot;MedicalClaim&quot;</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> is null</a:s>
                                             </a:s>
                                             <a:s r="471"> then null &#xd;
        else </a:s>
                                             <a:s r="487">
                                                <a:s>
                                                   <a:s r="473">
                                                      <a:s r="472">
                                                         <a:s>
                                                            <a:s>ClaimWithDiagnosis.&quot;MedicalClaim&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> DiagnosisLine</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
        </a:s>
                                                <a:s r="486">
                                                   <a:s>where </a:s>
                                                   <a:s r="486">
                                                      <a:s>exists </a:s>
                                                      <a:s r="485">
                                                         <a:s>( </a:s>
                                                         <a:s r="485">
                                                            <a:s>
                                                               <a:s r="478">
                                                                  <a:s r="477">
                                                                     <a:s>( </a:s>
                                                                     <a:s r="477">
                                                                        <a:s r="476">
                                                                           <a:s>( </a:s>
                                                                           <a:s r="476">
                                                                              <a:s r="475">
                                                                                 <a:s r="474">
                                                                                    <a:s>DiagnosisLine</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="475">
                                                                                    <a:s>diagnosis</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>.</a:s>
                                                                              <a:s r="476">
                                                                                 <a:s>diagnosis</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> )</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="477">
                                                                           <a:s>coding</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s> )</a:s>
                                                                  </a:s>
                                                                  <a:s> HeaderCode</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
            </a:s>
                                                            <a:s r="484">
                                                               <a:s>where </a:s>
                                                               <a:s r="484">
                                                                  <a:s r="481">
                                                                     <a:s r="480">
                                                                        <a:s r="479">
                                                                           <a:s>HeaderCode</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="480">
                                                                           <a:s>code</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="481">
                                                                        <a:s>value</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> in </a:s>
                                                                  <a:s r="483">
                                                                     <a:s r="482">
                                                                        <a:s>ClaimWithDiagnosis</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="483">
                                                                        <a:s>&quot;DiagnosesAsStrings&quot;</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
        )</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
    }</a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s> ClaimWithProcedure</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="553">
                              <a:s>return </a:s>
                              <a:s r="552">
                                 <a:s>
                                    <a:s r="549">
                                       <a:s r="548">
                                          <a:s>( </a:s>
                                          <a:s r="548">
                                             <a:s>
                                                <a:s r="492">
                                                   <a:s r="491">
                                                      <a:s>
                                                         <a:s>ClaimWithProcedure.&quot;DiagnosisItems&quot;</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> ClaimofInterest</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s r="547">
                                                <a:s>return </a:s>
                                                <a:s r="546">
                                                   <a:s>
                                                      <a:s r="528">
                                                         <a:s r="527">
                                                            <a:s>( </a:s>
                                                            <a:s r="527">
                                                               <a:s>Tuple {&#xd;
          </a:s>
                                                               <a:s>
                                                                  <a:s>&quot;ProcedureItems&quot;: </a:s>
                                                                  <a:s r="526">
                                                                     <a:s>if </a:s>
                                                                     <a:s r="494">
                                                                        <a:s r="493">
                                                                           <a:s>ClaimofInterest</a:s>
                                                                        </a:s>
                                                                        <a:s> is null</a:s>
                                                                     </a:s>
                                                                     <a:s r="495"> then null &#xd;
            else </a:s>
                                                                     <a:s r="525">
                                                                        <a:s>
                                                                           <a:s r="497">
                                                                              <a:s r="496">
                                                                                 <a:s>
                                                                                    <a:s>ClaimofInterest</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> ItemOnLine</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s>&#xd;
            </a:s>
                                                                        <a:s r="524">
                                                                           <a:s>where </a:s>
                                                                           <a:s r="524">
                                                                              <a:s>( </a:s>
                                                                              <a:s r="524">
                                                                                 <a:s r="510">
                                                                                    <a:s>exists </a:s>
                                                                                    <a:s r="509">
                                                                                       <a:s>( </a:s>
                                                                                       <a:s r="509">
                                                                                          <a:s>
                                                                                             <a:s r="502">
                                                                                                <a:s r="501">
                                                                                                   <a:s>( </a:s>
                                                                                                   <a:s r="501">
                                                                                                      <a:s r="500">
                                                                                                         <a:s>( </a:s>
                                                                                                         <a:s r="500">
                                                                                                            <a:s r="499">
                                                                                                               <a:s r="498">
                                                                                                                  <a:s>ItemOnLine</a:s>
                                                                                                               </a:s>
                                                                                                               <a:s>.</a:s>
                                                                                                               <a:s r="499">
                                                                                                                  <a:s>procedure</a:s>
                                                                                                               </a:s>
                                                                                                            </a:s>
                                                                                                            <a:s>.</a:s>
                                                                                                            <a:s r="500">
                                                                                                               <a:s>procedure</a:s>
                                                                                                            </a:s>
                                                                                                         </a:s>
                                                                                                         <a:s> )</a:s>
                                                                                                      </a:s>
                                                                                                      <a:s>.</a:s>
                                                                                                      <a:s r="501">
                                                                                                         <a:s>coding</a:s>
                                                                                                      </a:s>
                                                                                                   </a:s>
                                                                                                   <a:s> )</a:s>
                                                                                                </a:s>
                                                                                                <a:s> ProcedureHeaderCode</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s>&#xd;
                  </a:s>
                                                                                          <a:s r="508">
                                                                                             <a:s>where </a:s>
                                                                                             <a:s r="508">
                                                                                                <a:s r="505">
                                                                                                   <a:s r="504">
                                                                                                      <a:s r="503">
                                                                                                         <a:s>ProcedureHeaderCode</a:s>
                                                                                                      </a:s>
                                                                                                      <a:s>.</a:s>
                                                                                                      <a:s r="504">
                                                                                                         <a:s>code</a:s>
                                                                                                      </a:s>
                                                                                                   </a:s>
                                                                                                   <a:s>.</a:s>
                                                                                                   <a:s r="505">
                                                                                                      <a:s>value</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                                <a:s> in </a:s>
                                                                                                <a:s r="507">
                                                                                                   <a:s r="506">
                                                                                                      <a:s>ClaimWithDiagnosis</a:s>
                                                                                                   </a:s>
                                                                                                   <a:s>.</a:s>
                                                                                                   <a:s r="507">
                                                                                                      <a:s>&quot;ProceduresAsStrings&quot;</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s>&#xd;
              )</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>&#xd;
                or </a:s>
                                                                                 <a:s r="523">
                                                                                    <a:s>exists </a:s>
                                                                                    <a:s r="522">
                                                                                       <a:s>( </a:s>
                                                                                       <a:s r="522">
                                                                                          <a:s>
                                                                                             <a:s r="515">
                                                                                                <a:s r="514">
                                                                                                   <a:s>( </a:s>
                                                                                                   <a:s r="514">
                                                                                                      <a:s r="513">
                                                                                                         <a:s r="512">
                                                                                                            <a:s r="511">
                                                                                                               <a:s>ItemOnLine</a:s>
                                                                                                            </a:s>
                                                                                                            <a:s>.</a:s>
                                                                                                            <a:s r="512">
                                                                                                               <a:s>item</a:s>
                                                                                                            </a:s>
                                                                                                         </a:s>
                                                                                                         <a:s>.</a:s>
                                                                                                         <a:s r="513">
                                                                                                            <a:s>productOrService</a:s>
                                                                                                         </a:s>
                                                                                                      </a:s>
                                                                                                      <a:s>.</a:s>
                                                                                                      <a:s r="514">
                                                                                                         <a:s>coding</a:s>
                                                                                                      </a:s>
                                                                                                   </a:s>
                                                                                                   <a:s> )</a:s>
                                                                                                </a:s>
                                                                                                <a:s> LineCode</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s>&#xd;
                    </a:s>
                                                                                          <a:s r="521">
                                                                                             <a:s>where </a:s>
                                                                                             <a:s r="521">
                                                                                                <a:s r="518">
                                                                                                   <a:s r="517">
                                                                                                      <a:s r="516">
                                                                                                         <a:s>LineCode</a:s>
                                                                                                      </a:s>
                                                                                                      <a:s>.</a:s>
                                                                                                      <a:s r="517">
                                                                                                         <a:s>code</a:s>
                                                                                                      </a:s>
                                                                                                   </a:s>
                                                                                                   <a:s>.</a:s>
                                                                                                   <a:s r="518">
                                                                                                      <a:s>value</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                                <a:s> in </a:s>
                                                                                                <a:s r="520">
                                                                                                   <a:s r="519">
                                                                                                      <a:s>ClaimWithDiagnosis</a:s>
                                                                                                   </a:s>
                                                                                                   <a:s>.</a:s>
                                                                                                   <a:s r="520">
                                                                                                      <a:s>&quot;ProceduresAsStrings&quot;</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s>&#xd;
                )</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>&#xd;
            )</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>&#xd;
        }</a:s>
                                                            </a:s>
                                                            <a:s> )</a:s>
                                                         </a:s>
                                                         <a:s> HeaderDefinition</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
          </a:s>
                                                   <a:s r="545">
                                                      <a:s>return </a:s>
                                                      <a:s r="544">
                                                         <a:s>( </a:s>
                                                         <a:s r="544">
                                                            <a:s>if </a:s>
                                                            <a:s r="531">
                                                               <a:s r="530">
                                                                  <a:s r="529">
                                                                     <a:s>HeaderDefinition</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="530">
                                                                     <a:s>&quot;ProcedureItems&quot;</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s> is not null</a:s>
                                                            </a:s>
                                                            <a:s> then </a:s>
                                                            <a:s r="542">
                                                               <a:s>( </a:s>
                                                               <a:s r="542">
                                                                  <a:s>Tuple {&#xd;
                </a:s>
                                                                  <a:s>
                                                                     <a:s>Claim: </a:s>
                                                                     <a:s r="533">
                                                                        <a:s r="532">
                                                                           <a:s>HeaderDefinition</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="533">
                                                                           <a:s>&quot;ProcedureItems&quot;</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>,&#xd;
                </a:s>
                                                                  <a:s>
                                                                     <a:s>ServicePeriod: </a:s>
                                                                     <a:s r="541">
                                                                        <a:s>
                                                                           <a:s r="535">
                                                                              <a:s r="534">
                                                                                 <a:s>
                                                                                    <a:s>HeaderDefinition.ProcedureItems.item</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> NormalDate</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s>&#xd;
                  </a:s>
                                                                        <a:s r="540">
                                                                           <a:s>return </a:s>
                                                                           <a:s r="539">
                                                                              <a:s r="536">
                                                                                 <a:s>FHIRBase</a:s>
                                                                              </a:s>
                                                                              <a:s>.</a:s>
                                                                              <a:s r="539">
                                                                                 <a:s>&quot;Normalize Interval&quot; ( </a:s>
                                                                                 <a:s r="538">
                                                                                    <a:s r="537">
                                                                                       <a:s>NormalDate</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="538">
                                                                                       <a:s>serviced</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> )</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
              }</a:s>
                                                               </a:s>
                                                               <a:s>&#xd;
            )</a:s>
                                                            </a:s>
                                                            <a:s r="543"> &#xd;
              else null</a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
          )</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                       <a:s> FinalList</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        </a:s>
                                 <a:s r="551">
                                    <a:s>where </a:s>
                                    <a:s r="551">
                                       <a:s r="550">
                                          <a:s>FinalList</a:s>
                                       </a:s>
                                       <a:s> is not null</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="Claim">
                  <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="556" locator="153:3-187:35" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="Claim">
                     <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="467" locator="153:3-159:24" alias="ClaimWithDiagnosis">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="MedicalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="DiagnosesAsStrings">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="ProceduresAsStrings">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="466" locator="153:3-159:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="MedicalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="DiagnosesAsStrings">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="ProceduresAsStrings">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="MedicalClaim">
                     <value localId="453" locator="154:21-154:65" name="Professional or Institutional Claims" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand localId="452" locator="154:60-154:64" name="claim" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
                  <element name="DiagnosesAsStrings">
                     <value localId="459" locator="155:27-156:19" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source localId="455" locator="155:27-155:45" alias="d">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="454" locator="155:27-155:43" name="DiagnosisValueSet" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="458" locator="156:7-156:19">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="457" locator="156:14-156:19" resultTypeName="t:String" path="code" scope="d" xsi:type="Property"/>
                        </return>
                     </value>
                  </element>
                  <element name="ProceduresAsStrings">
                     <value localId="465" locator="157:28-158:19" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source localId="461" locator="157:28-157:53" alias="p">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="460" locator="157:28-157:51" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="464" locator="158:7-158:19">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="463" locator="158:14-158:19" resultTypeName="t:String" path="code" scope="p" xsi:type="Property"/>
                        </return>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="555" locator="160:5-187:35">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="Claim">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="554" locator="160:12-187:35" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="Claim">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
                  <source localId="490" locator="160:12-166:26" alias="ClaimWithProcedure">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="DiagnosisItems">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="489" locator="160:12-166:7" xsi:type="Tuple">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="DiagnosisItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <element name="DiagnosisItems">
                           <value localId="488" locator="161:25-165:9" xsi:type="If">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <condition asType="t:Boolean" xsi:type="As">
                                 <operand localId="470" locator="161:28-161:68" resultTypeName="t:Boolean" xsi:type="IsNull">
                                    <operand localId="469" locator="161:28-161:60" path="MedicalClaim" scope="ClaimWithDiagnosis" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                    </operand>
                                 </operand>
                              </condition>
                              <then xsi:type="As">
                                 <operand localId="471" locator="161:75-161:78" resultTypeName="t:Any" xsi:type="Null"/>
                                 <asTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </asTypeSpecifier>
                              </then>
                              <else localId="487" locator="162:14-165:9" xsi:type="Query">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <source localId="473" locator="162:14-162:60" alias="DiagnosisLine">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <expression localId="472" locator="162:14-162:46" path="MedicalClaim" scope="ClaimWithDiagnosis" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                    </expression>
                                 </source>
                                 <where localId="486" locator="163:9-165:9" resultTypeName="t:Boolean" xsi:type="Exists">
                                    <operand localId="485" locator="163:22-165:9" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <source localId="478" locator="163:24-163:82" alias="HeaderCode">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="477" locator="163:24-163:71" xsi:type="Flatten">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand xsi:type="Query">
                                                <source alias="$this">
                                                   <expression localId="476" locator="163:26-163:62" xsi:type="Query">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType xsi:type="ChoiceTypeSpecifier">
                                                            <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                            <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                         </elementType>
                                                      </resultTypeSpecifier>
                                                      <source alias="$this">
                                                         <expression localId="475" locator="163:28-163:50" path="diagnosis" scope="DiagnosisLine" xsi:type="Property">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Claim.Diagnosis" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                         </expression>
                                                      </source>
                                                      <where xsi:type="Not">
                                                         <operand xsi:type="IsNull">
                                                            <operand path="diagnosis" xsi:type="Property">
                                                               <source name="$this" xsi:type="AliasRef"/>
                                                            </operand>
                                                         </operand>
                                                      </where>
                                                      <return>
                                                         <expression path="diagnosis" xsi:type="Property">
                                                            <source name="$this" xsi:type="AliasRef"/>
                                                         </expression>
                                                      </return>
                                                   </expression>
                                                </source>
                                                <where xsi:type="Not">
                                                   <operand xsi:type="IsNull">
                                                      <operand path="coding" xsi:type="Property">
                                                         <source name="$this" xsi:type="AliasRef"/>
                                                      </operand>
                                                   </operand>
                                                </where>
                                                <return>
                                                   <expression path="coding" xsi:type="Property">
                                                      <source name="$this" xsi:type="AliasRef"/>
                                                   </expression>
                                                </return>
                                             </operand>
                                          </expression>
                                       </source>
                                       <where localId="484" locator="164:13-164:82" resultTypeName="t:Boolean" xsi:type="In">
                                          <operand localId="481" locator="164:19-164:39" resultTypeName="t:String" path="value" xsi:type="Property">
                                             <source localId="480" locator="164:19-164:33" resultTypeName="fhir:code" path="code" scope="HeaderCode" xsi:type="Property"/>
                                          </operand>
                                          <operand localId="483" locator="164:44-164:82" path="DiagnosesAsStrings" scope="ClaimWithDiagnosis" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                          </operand>
                                       </where>
                                    </operand>
                                 </where>
                              </else>
                           </value>
                        </element>
                     </expression>
                  </source>
                  <return localId="553" locator="167:7-187:35">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="Claim">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="552" locator="167:14-187:35" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <source localId="549" locator="167:14-186:23" alias="FinalList">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="Claim">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </elementType>
                           </resultTypeSpecifier>
                           <expression localId="548" locator="167:14-186:13" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </elementType>
                              </resultTypeSpecifier>
                              <source localId="492" locator="167:16-167:66" alias="ClaimofInterest">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="491" locator="167:16-167:50" path="DiagnosisItems" scope="ClaimWithProcedure" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </expression>
                              </source>
                              <return localId="547" locator="168:9-186:11">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ServicePeriod">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                    </elementType>
                                 </resultTypeSpecifier>
                                 <expression localId="546" locator="168:16-186:11" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ServicePeriod">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                    </resultTypeSpecifier>
                                    <source localId="528" locator="168:16-178:28" alias="HeaderDefinition">
                                       <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                          <element name="ProcedureItems">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                       </resultTypeSpecifier>
                                       <expression localId="527" locator="168:16-178:11" xsi:type="Tuple">
                                          <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                             <element name="ProcedureItems">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                          </resultTypeSpecifier>
                                          <element name="ProcedureItems">
                                             <value localId="526" locator="169:29-177:13" resultTypeName="fhir:Claim" xsi:type="If">
                                                <condition asType="t:Boolean" xsi:type="As">
                                                   <operand localId="494" locator="169:32-169:54" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                      <operand localId="493" locator="169:32-169:46" resultTypeName="fhir:Claim" name="ClaimofInterest" xsi:type="AliasRef"/>
                                                   </operand>
                                                </condition>
                                                <then asType="fhir:Claim" xsi:type="As">
                                                   <operand localId="495" locator="169:61-169:64" resultTypeName="t:Any" xsi:type="Null"/>
                                                </then>
                                                <else localId="525" locator="170:18-177:13" resultTypeName="fhir:Claim" xsi:type="Query">
                                                   <source localId="497" locator="170:18-170:43" resultTypeName="fhir:Claim" alias="ItemOnLine">
                                                      <expression localId="496" locator="170:18-170:32" resultTypeName="fhir:Claim" name="ClaimofInterest" xsi:type="AliasRef"/>
                                                   </source>
                                                   <where localId="524" locator="171:13-177:13" resultTypeName="t:Boolean" xsi:type="Or">
                                                      <operand localId="510" locator="171:21-173:15" resultTypeName="t:Boolean" xsi:type="Exists">
                                                         <operand localId="509" locator="171:28-173:15" xsi:type="Query">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <source localId="502" locator="171:30-171:94" alias="ProcedureHeaderCode">
                                                               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <expression localId="501" locator="171:30-171:74" xsi:type="Flatten">
                                                                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                     <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                                  </resultTypeSpecifier>
                                                                  <operand xsi:type="Query">
                                                                     <source alias="$this">
                                                                        <expression localId="500" locator="171:32-171:65" xsi:type="Query">
                                                                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                              <elementType xsi:type="ChoiceTypeSpecifier">
                                                                                 <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                                                 <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                                              </elementType>
                                                                           </resultTypeSpecifier>
                                                                           <source alias="$this">
                                                                              <expression localId="499" locator="171:34-171:53" path="procedure" scope="ItemOnLine" xsi:type="Property">
                                                                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                                    <elementType name="fhir:Claim.Procedure" xsi:type="NamedTypeSpecifier"/>
                                                                                 </resultTypeSpecifier>
                                                                              </expression>
                                                                           </source>
                                                                           <where xsi:type="Not">
                                                                              <operand xsi:type="IsNull">
                                                                                 <operand path="procedure" xsi:type="Property">
                                                                                    <source name="$this" xsi:type="AliasRef"/>
                                                                                 </operand>
                                                                              </operand>
                                                                           </where>
                                                                           <return>
                                                                              <expression path="procedure" xsi:type="Property">
                                                                                 <source name="$this" xsi:type="AliasRef"/>
                                                                              </expression>
                                                                           </return>
                                                                        </expression>
                                                                     </source>
                                                                     <where xsi:type="Not">
                                                                        <operand xsi:type="IsNull">
                                                                           <operand path="coding" xsi:type="Property">
                                                                              <source name="$this" xsi:type="AliasRef"/>
                                                                           </operand>
                                                                        </operand>
                                                                     </where>
                                                                     <return>
                                                                        <expression path="coding" xsi:type="Property">
                                                                           <source name="$this" xsi:type="AliasRef"/>
                                                                        </expression>
                                                                     </return>
                                                                  </operand>
                                                               </expression>
                                                            </source>
                                                            <where localId="508" locator="172:19-172:98" resultTypeName="t:Boolean" xsi:type="In">
                                                               <operand localId="505" locator="172:25-172:54" resultTypeName="t:String" path="value" xsi:type="Property">
                                                                  <source localId="504" locator="172:25-172:48" resultTypeName="fhir:code" path="code" scope="ProcedureHeaderCode" xsi:type="Property"/>
                                                               </operand>
                                                               <operand localId="507" locator="172:59-172:98" path="ProceduresAsStrings" scope="ClaimWithDiagnosis" xsi:type="Property">
                                                                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                     <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                                  </resultTypeSpecifier>
                                                               </operand>
                                                            </where>
                                                         </operand>
                                                      </operand>
                                                      <operand localId="523" locator="174:20-176:17" resultTypeName="t:Boolean" xsi:type="Exists">
                                                         <operand localId="522" locator="174:27-176:17" xsi:type="Query">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <source localId="515" locator="174:29-174:80" alias="LineCode">
                                                               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <expression localId="514" locator="174:29-174:71" xsi:type="Flatten">
                                                                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                     <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                                  </resultTypeSpecifier>
                                                                  <operand xsi:type="Query">
                                                                     <source alias="$this">
                                                                        <expression localId="513" locator="174:31-174:62" xsi:type="Query">
                                                                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                              <elementType name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                                           </resultTypeSpecifier>
                                                                           <source alias="$this">
                                                                              <expression localId="512" locator="174:31-174:45" path="item" scope="ItemOnLine" xsi:type="Property">
                                                                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                                                 </resultTypeSpecifier>
                                                                              </expression>
                                                                           </source>
                                                                           <where xsi:type="Not">
                                                                              <operand xsi:type="IsNull">
                                                                                 <operand path="productOrService" xsi:type="Property">
                                                                                    <source name="$this" xsi:type="AliasRef"/>
                                                                                 </operand>
                                                                              </operand>
                                                                           </where>
                                                                           <return>
                                                                              <expression path="productOrService" xsi:type="Property">
                                                                                 <source name="$this" xsi:type="AliasRef"/>
                                                                              </expression>
                                                                           </return>
                                                                        </expression>
                                                                     </source>
                                                                     <where xsi:type="Not">
                                                                        <operand xsi:type="IsNull">
                                                                           <operand path="coding" xsi:type="Property">
                                                                              <source name="$this" xsi:type="AliasRef"/>
                                                                           </operand>
                                                                        </operand>
                                                                     </where>
                                                                     <return>
                                                                        <expression path="coding" xsi:type="Property">
                                                                           <source name="$this" xsi:type="AliasRef"/>
                                                                        </expression>
                                                                     </return>
                                                                  </operand>
                                                               </expression>
                                                            </source>
                                                            <where localId="521" locator="175:21-175:89" resultTypeName="t:Boolean" xsi:type="In">
                                                               <operand localId="518" locator="175:27-175:45" resultTypeName="t:String" path="value" xsi:type="Property">
                                                                  <source localId="517" locator="175:27-175:39" resultTypeName="fhir:code" path="code" scope="LineCode" xsi:type="Property"/>
                                                               </operand>
                                                               <operand localId="520" locator="175:50-175:89" path="ProceduresAsStrings" scope="ClaimWithDiagnosis" xsi:type="Property">
                                                                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                     <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                                  </resultTypeSpecifier>
                                                               </operand>
                                                            </where>
                                                         </operand>
                                                      </operand>
                                                   </where>
                                                </else>
                                             </value>
                                          </element>
                                       </expression>
                                    </source>
                                    <return localId="545" locator="179:11-186:11">
                                       <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                          <element name="Claim">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ServicePeriod">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                       </resultTypeSpecifier>
                                       <expression localId="544" locator="179:18-186:11" xsi:type="If">
                                          <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                             <element name="Claim">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ServicePeriod">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                          </resultTypeSpecifier>
                                          <condition asType="t:Boolean" xsi:type="As">
                                             <operand localId="531" locator="179:23-179:67" resultTypeName="t:Boolean" xsi:type="Not">
                                                <operand locator="179:23-179:67" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                   <operand localId="530" locator="179:23-179:55" resultTypeName="fhir:Claim" path="ProcedureItems" scope="HeaderDefinition" xsi:type="Property"/>
                                                </operand>
                                             </operand>
                                          </condition>
                                          <then localId="542" locator="179:74-184:13" xsi:type="Tuple">
                                             <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                <element name="Claim">
                                                   <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="ServicePeriod">
                                                   <type xsi:type="ListTypeSpecifier">
                                                      <elementType xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </elementType>
                                                   </type>
                                                </element>
                                             </resultTypeSpecifier>
                                             <element name="Claim">
                                                <value localId="533" locator="180:24-180:56" resultTypeName="fhir:Claim" path="ProcedureItems" scope="HeaderDefinition" xsi:type="Property"/>
                                             </element>
                                             <element name="ServicePeriod">
                                                <value localId="541" locator="181:32-182:78" xsi:type="Query">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </elementType>
                                                   </resultTypeSpecifier>
                                                   <source localId="535" locator="181:32-181:78" alias="NormalDate">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <expression localId="534" locator="181:32-181:67" path="item" xsi:type="Property">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                         </resultTypeSpecifier>
                                                         <source path="ProcedureItems" scope="HeaderDefinition" xsi:type="Property"/>
                                                      </expression>
                                                   </source>
                                                   <return localId="540" locator="182:19-182:78">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </elementType>
                                                      </resultTypeSpecifier>
                                                      <expression localId="539" locator="182:26-182:78" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                         <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </resultTypeSpecifier>
                                                         <operand localId="538" locator="182:58-182:76" path="serviced" scope="NormalDate" xsi:type="Property">
                                                            <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                               <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                               <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                         </operand>
                                                      </expression>
                                                   </return>
                                                </value>
                                             </element>
                                          </then>
                                          <else xsi:type="As">
                                             <operand localId="543" locator="185:20-185:23" resultTypeName="t:Any" xsi:type="Null"/>
                                             <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                <element name="Claim">
                                                   <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="ServicePeriod">
                                                   <type xsi:type="ListTypeSpecifier">
                                                      <elementType xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </elementType>
                                                   </type>
                                                </element>
                                             </asTypeSpecifier>
                                          </else>
                                       </expression>
                                    </return>
                                 </expression>
                              </return>
                           </expression>
                        </source>
                        <where localId="551" locator="187:9-187:35" resultTypeName="t:Boolean" xsi:type="Not">
                           <operand locator="187:15-187:35" resultTypeName="t:Boolean" xsi:type="IsNull">
                              <operand localId="550" locator="187:15-187:23" name="FinalList" xsi:type="AliasRef">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                              </operand>
                           </operand>
                        </where>
                     </expression>
                  </return>
               </expression>
            </return>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="447" locator="152:69-152:84" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="446" locator="152:74-152:83" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="DiagnosisValueSet">
            <operandTypeSpecifier localId="449" locator="152:105-152:121" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="448" locator="152:110-152:120" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="451" locator="152:149-152:165" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="450" locator="152:154-152:164" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="688" locator="189:1-230:33" name="Medical Claims With Principal Diagnosis and Procedure" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="688">
               <a:s>define function &quot;Medical Claims With Principal Diagnosis and Procedure&quot;(claim </a:s>
               <a:s r="559">
                  <a:s>List&lt;</a:s>
                  <a:s r="558">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, DiagnosisValueSet </a:s>
               <a:s r="561">
                  <a:s>List&lt;</a:s>
                  <a:s r="560">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="563">
                  <a:s>List&lt;</a:s>
                  <a:s r="562">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="687">
                  <a:s r="687">
                     <a:s>
                        <a:s r="579">
                           <a:s r="578">
                              <a:s>( </a:s>
                              <a:s r="578">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;MedicalClaim&quot;: </a:s>
                                    <a:s r="565">
                                       <a:s>&quot;Professional or Institutional Claims&quot;(</a:s>
                                       <a:s r="564">
                                          <a:s>claim</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;DiagnosesAsStrings&quot;: </a:s>
                                    <a:s r="571">
                                       <a:s>
                                          <a:s r="567">
                                             <a:s r="566">
                                                <a:s>
                                                   <a:s>DiagnosisValueSet</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> d</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="570">
                                          <a:s>return </a:s>
                                          <a:s r="569">
                                             <a:s r="568">
                                                <a:s>d</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="569">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;ProceduresAsStrings&quot;: </a:s>
                                    <a:s r="577">
                                       <a:s>
                                          <a:s r="573">
                                             <a:s r="572">
                                                <a:s>
                                                   <a:s>ProductOrServiceValueSet</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> p</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="576">
                                          <a:s>return </a:s>
                                          <a:s r="575">
                                             <a:s r="574">
                                                <a:s>p</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="575">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimWithProcedure</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="686">
                        <a:s>return </a:s>
                        <a:s r="685">
                           <a:s>
                              <a:s r="682">
                                 <a:s r="681">
                                    <a:s>( </a:s>
                                    <a:s r="681">
                                       <a:s>
                                          <a:s r="581">
                                             <a:s r="580">
                                                <a:s>
                                                   <a:s>ClaimWithProcedure.&quot;MedicalClaim&quot;</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> ClaimofInterest</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="680">
                                          <a:s>return </a:s>
                                          <a:s r="679">
                                             <a:s>
                                                <a:s r="618">
                                                   <a:s r="617">
                                                      <a:s>( </a:s>
                                                      <a:s r="617">
                                                         <a:s>Tuple {&#xd;
        </a:s>
                                                         <a:s>
                                                            <a:s>Claim: </a:s>
                                                            <a:s r="582">
                                                               <a:s>ClaimofInterest</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>,&#xd;
        </a:s>
                                                         <a:s>
                                                            <a:s>&quot;ProcedureItems&quot;: </a:s>
                                                            <a:s r="616">
                                                               <a:s>if </a:s>
                                                               <a:s r="584">
                                                                  <a:s r="583">
                                                                     <a:s>ClaimofInterest</a:s>
                                                                  </a:s>
                                                                  <a:s> is null</a:s>
                                                               </a:s>
                                                               <a:s r="585"> then null &#xd;
          else </a:s>
                                                               <a:s r="615">
                                                                  <a:s>
                                                                     <a:s r="587">
                                                                        <a:s r="586">
                                                                           <a:s>
                                                                              <a:s>ClaimofInterest</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s> ItemOnLine</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
          </a:s>
                                                                  <a:s r="614">
                                                                     <a:s>where </a:s>
                                                                     <a:s r="614">
                                                                        <a:s r="600">
                                                                           <a:s>exists </a:s>
                                                                           <a:s r="599">
                                                                              <a:s>( </a:s>
                                                                              <a:s r="599">
                                                                                 <a:s>
                                                                                    <a:s r="592">
                                                                                       <a:s r="591">
                                                                                          <a:s>( </a:s>
                                                                                          <a:s r="591">
                                                                                             <a:s r="590">
                                                                                                <a:s r="589">
                                                                                                   <a:s r="588">
                                                                                                      <a:s>ItemOnLine</a:s>
                                                                                                   </a:s>
                                                                                                   <a:s>.</a:s>
                                                                                                   <a:s r="589">
                                                                                                      <a:s>item</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                                <a:s>.</a:s>
                                                                                                <a:s r="590">
                                                                                                   <a:s>productOrService</a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="591">
                                                                                                <a:s>coding</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s> )</a:s>
                                                                                       </a:s>
                                                                                       <a:s> LineCode</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>&#xd;
              </a:s>
                                                                                 <a:s r="598">
                                                                                    <a:s>where </a:s>
                                                                                    <a:s r="598">
                                                                                       <a:s r="595">
                                                                                          <a:s r="594">
                                                                                             <a:s r="593">
                                                                                                <a:s>LineCode</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="594">
                                                                                                <a:s>code</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="595">
                                                                                             <a:s>value</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s> in </a:s>
                                                                                       <a:s r="597">
                                                                                          <a:s r="596">
                                                                                             <a:s>ClaimWithProcedure</a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="597">
                                                                                             <a:s>&quot;ProceduresAsStrings&quot;</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>&#xd;
          )</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s>&#xd;
            or </a:s>
                                                                        <a:s r="613">
                                                                           <a:s>exists </a:s>
                                                                           <a:s r="612">
                                                                              <a:s>( </a:s>
                                                                              <a:s r="612">
                                                                                 <a:s>
                                                                                    <a:s r="605">
                                                                                       <a:s r="604">
                                                                                          <a:s>( </a:s>
                                                                                          <a:s r="604">
                                                                                             <a:s r="603">
                                                                                                <a:s>( </a:s>
                                                                                                <a:s r="603">
                                                                                                   <a:s r="602">
                                                                                                      <a:s r="601">
                                                                                                         <a:s>ItemOnLine</a:s>
                                                                                                      </a:s>
                                                                                                      <a:s>.</a:s>
                                                                                                      <a:s r="602">
                                                                                                         <a:s>procedure</a:s>
                                                                                                      </a:s>
                                                                                                   </a:s>
                                                                                                   <a:s>.</a:s>
                                                                                                   <a:s r="603">
                                                                                                      <a:s>procedure</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                                <a:s> )</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="604">
                                                                                                <a:s>coding</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s> )</a:s>
                                                                                       </a:s>
                                                                                       <a:s> HeaderCode</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>&#xd;
                </a:s>
                                                                                 <a:s r="611">
                                                                                    <a:s>where </a:s>
                                                                                    <a:s r="611">
                                                                                       <a:s r="608">
                                                                                          <a:s r="607">
                                                                                             <a:s r="606">
                                                                                                <a:s>HeaderCode</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="607">
                                                                                                <a:s>code</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="608">
                                                                                             <a:s>value</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s> in </a:s>
                                                                                       <a:s r="610">
                                                                                          <a:s r="609">
                                                                                             <a:s>ClaimWithProcedure</a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="610">
                                                                                             <a:s>&quot;ProceduresAsStrings&quot;</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>&#xd;
            )</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
      }</a:s>
                                                      </a:s>
                                                      <a:s> )</a:s>
                                                   </a:s>
                                                   <a:s> DiagnosisCheck</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s r="678">
                                                <a:s>return </a:s>
                                                <a:s r="677">
                                                   <a:s>
                                                      <a:s r="620">
                                                         <a:s r="619">
                                                            <a:s>
                                                               <a:s>DiagnosisCheck.&quot;ProcedureItems&quot;</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> ClaimforDiagnosis</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
          </a:s>
                                                   <a:s r="676">
                                                      <a:s>return </a:s>
                                                      <a:s r="675">
                                                         <a:s>
                                                            <a:s r="654">
                                                               <a:s r="653">
                                                                  <a:s>( </a:s>
                                                                  <a:s r="653">
                                                                     <a:s>Tuple {&#xd;
            </a:s>
                                                                     <a:s>
                                                                        <a:s>Procedure: </a:s>
                                                                        <a:s r="622">
                                                                           <a:s r="621">
                                                                              <a:s>ClaimforDiagnosis</a:s>
                                                                           </a:s>
                                                                           <a:s>.</a:s>
                                                                           <a:s r="622">
                                                                              <a:s>item</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>,&#xd;
            </a:s>
                                                                     <a:s>
                                                                        <a:s>&quot;LineItems&quot;: </a:s>
                                                                        <a:s r="652">
                                                                           <a:s>if </a:s>
                                                                           <a:s r="624">
                                                                              <a:s r="623">
                                                                                 <a:s>ClaimforDiagnosis</a:s>
                                                                              </a:s>
                                                                              <a:s> is null</a:s>
                                                                           </a:s>
                                                                           <a:s r="625"> then null &#xd;
              else </a:s>
                                                                           <a:s r="651">
                                                                              <a:s>
                                                                                 <a:s r="627">
                                                                                    <a:s r="626">
                                                                                       <a:s>
                                                                                          <a:s>ClaimforDiagnosis</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s> RightClaim</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>&#xd;
              </a:s>
                                                                              <a:s r="650">
                                                                                 <a:s>where </a:s>
                                                                                 <a:s r="650">
                                                                                    <a:s>exists </a:s>
                                                                                    <a:s r="649">
                                                                                       <a:s>( </a:s>
                                                                                       <a:s r="649">
                                                                                          <a:s>
                                                                                             <a:s r="629">
                                                                                                <a:s r="628">
                                                                                                   <a:s>
                                                                                                      <a:s>RightClaim.diagnosis</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                                <a:s> RightDiagnosis</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s>&#xd;
                  </a:s>
                                                                                          <a:s r="648">
                                                                                             <a:s>where </a:s>
                                                                                             <a:s r="648">
                                                                                                <a:s r="635">
                                                                                                   <a:s r="633">
                                                                                                      <a:s r="630">
                                                                                                         <a:s>FHIRHelpers</a:s>
                                                                                                      </a:s>
                                                                                                      <a:s>.</a:s>
                                                                                                      <a:s r="633">
                                                                                                         <a:s>ToInteger ( </a:s>
                                                                                                         <a:s r="632">
                                                                                                            <a:s r="631">
                                                                                                               <a:s>RightDiagnosis</a:s>
                                                                                                            </a:s>
                                                                                                            <a:s>.</a:s>
                                                                                                            <a:s r="632">
                                                                                                               <a:s>sequence</a:s>
                                                                                                            </a:s>
                                                                                                         </a:s>
                                                                                                         <a:s> )</a:s>
                                                                                                      </a:s>
                                                                                                   </a:s>
                                                                                                   <a:s r="634"> = 1</a:s>
                                                                                                </a:s>
                                                                                                <a:s>&#xd;
                    and </a:s>
                                                                                                <a:s r="647">
                                                                                                   <a:s>exists </a:s>
                                                                                                   <a:s r="646">
                                                                                                      <a:s>( </a:s>
                                                                                                      <a:s r="646">
                                                                                                         <a:s>
                                                                                                            <a:s r="639">
                                                                                                               <a:s r="638">
                                                                                                                  <a:s>( </a:s>
                                                                                                                  <a:s r="638">
                                                                                                                     <a:s r="637">
                                                                                                                        <a:s>( </a:s>
                                                                                                                        <a:s r="637">
                                                                                                                           <a:s r="636">
                                                                                                                              <a:s>RightDiagnosis</a:s>
                                                                                                                           </a:s>
                                                                                                                           <a:s>.</a:s>
                                                                                                                           <a:s r="637">
                                                                                                                              <a:s>diagnosis</a:s>
                                                                                                                           </a:s>
                                                                                                                        </a:s>
                                                                                                                        <a:s> )</a:s>
                                                                                                                     </a:s>
                                                                                                                     <a:s>.</a:s>
                                                                                                                     <a:s r="638">
                                                                                                                        <a:s>coding</a:s>
                                                                                                                     </a:s>
                                                                                                                  </a:s>
                                                                                                                  <a:s> )</a:s>
                                                                                                               </a:s>
                                                                                                               <a:s> DiagnosisCode</a:s>
                                                                                                            </a:s>
                                                                                                         </a:s>
                                                                                                         <a:s>&#xd;
                        </a:s>
                                                                                                         <a:s r="645">
                                                                                                            <a:s>where </a:s>
                                                                                                            <a:s r="645">
                                                                                                               <a:s r="642">
                                                                                                                  <a:s r="641">
                                                                                                                     <a:s r="640">
                                                                                                                        <a:s>DiagnosisCode</a:s>
                                                                                                                     </a:s>
                                                                                                                     <a:s>.</a:s>
                                                                                                                     <a:s r="641">
                                                                                                                        <a:s>code</a:s>
                                                                                                                     </a:s>
                                                                                                                  </a:s>
                                                                                                                  <a:s>.</a:s>
                                                                                                                  <a:s r="642">
                                                                                                                     <a:s>value</a:s>
                                                                                                                  </a:s>
                                                                                                               </a:s>
                                                                                                               <a:s> in </a:s>
                                                                                                               <a:s r="644">
                                                                                                                  <a:s r="643">
                                                                                                                     <a:s>ClaimWithProcedure</a:s>
                                                                                                                  </a:s>
                                                                                                                  <a:s>.</a:s>
                                                                                                                  <a:s r="644">
                                                                                                                     <a:s>&quot;DiagnosesAsStrings&quot;</a:s>
                                                                                                                  </a:s>
                                                                                                               </a:s>
                                                                                                            </a:s>
                                                                                                         </a:s>
                                                                                                      </a:s>
                                                                                                      <a:s>&#xd;
                    )</a:s>
                                                                                                   </a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s>&#xd;
              )</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
          }</a:s>
                                                                  </a:s>
                                                                  <a:s> )</a:s>
                                                               </a:s>
                                                               <a:s> LineItemDefinition</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
            </a:s>
                                                         <a:s r="674">
                                                            <a:s>return </a:s>
                                                            <a:s r="673">
                                                               <a:s>( </a:s>
                                                               <a:s r="673">
                                                                  <a:s>if </a:s>
                                                                  <a:s r="660">
                                                                     <a:s r="656">
                                                                        <a:s r="655">
                                                                           <a:s>LineItemDefinition</a:s>
                                                                        </a:s>
                                                                        <a:s> is not null</a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
                and </a:s>
                                                                     <a:s r="659">
                                                                        <a:s r="658">
                                                                           <a:s r="657">
                                                                              <a:s>LineItemDefinition</a:s>
                                                                           </a:s>
                                                                           <a:s>.</a:s>
                                                                           <a:s r="658">
                                                                              <a:s>&quot;LineItems&quot;</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s> is not null</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> then </a:s>
                                                                  <a:s r="671">
                                                                     <a:s>( </a:s>
                                                                     <a:s r="671">
                                                                        <a:s>Tuple {&#xd;
                  </a:s>
                                                                        <a:s>
                                                                           <a:s>Claim: </a:s>
                                                                           <a:s r="662">
                                                                              <a:s r="661">
                                                                                 <a:s>LineItemDefinition</a:s>
                                                                              </a:s>
                                                                              <a:s>.</a:s>
                                                                              <a:s r="662">
                                                                                 <a:s>&quot;LineItems&quot;</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s>,&#xd;
                  </a:s>
                                                                        <a:s>
                                                                           <a:s>ServicePeriod: </a:s>
                                                                           <a:s r="670">
                                                                              <a:s>
                                                                                 <a:s r="664">
                                                                                    <a:s r="663">
                                                                                       <a:s>
                                                                                          <a:s>LineItemDefinition.&quot;LineItems&quot;.item</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s> NormalDate</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>&#xd;
                    </a:s>
                                                                              <a:s r="669">
                                                                                 <a:s>return all </a:s>
                                                                                 <a:s r="668">
                                                                                    <a:s r="665">
                                                                                       <a:s>FHIRBase</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="668">
                                                                                       <a:s>&quot;Normalize Interval&quot; ( </a:s>
                                                                                       <a:s r="667">
                                                                                          <a:s r="666">
                                                                                             <a:s>NormalDate</a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="667">
                                                                                             <a:s>serviced</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s> )</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s>&#xd;
                }</a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
              )</a:s>
                                                                  </a:s>
                                                                  <a:s r="672"> &#xd;
                else null</a:s>
                                                               </a:s>
                                                               <a:s>&#xd;
            )</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s> FinalList</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="684">
                              <a:s>where </a:s>
                              <a:s r="684">
                                 <a:s r="683">
                                    <a:s>FinalList</a:s>
                                 </a:s>
                                 <a:s> is not null</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="Claim">
                  <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="687" locator="190:3-230:33" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="Claim">
                     <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="579" locator="190:3-196:24" alias="ClaimWithProcedure">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="MedicalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="DiagnosesAsStrings">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="ProceduresAsStrings">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="578" locator="190:3-196:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="MedicalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="DiagnosesAsStrings">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="ProceduresAsStrings">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="MedicalClaim">
                     <value localId="565" locator="191:21-191:65" name="Professional or Institutional Claims" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand localId="564" locator="191:60-191:64" name="claim" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
                  <element name="DiagnosesAsStrings">
                     <value localId="571" locator="192:27-193:19" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source localId="567" locator="192:27-192:45" alias="d">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="566" locator="192:27-192:43" name="DiagnosisValueSet" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="570" locator="193:7-193:19">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="569" locator="193:14-193:19" resultTypeName="t:String" path="code" scope="d" xsi:type="Property"/>
                        </return>
                     </value>
                  </element>
                  <element name="ProceduresAsStrings">
                     <value localId="577" locator="194:28-195:19" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source localId="573" locator="194:28-194:53" alias="p">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="572" locator="194:28-194:51" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="576" locator="195:7-195:19">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="575" locator="195:14-195:19" resultTypeName="t:String" path="code" scope="p" xsi:type="Property"/>
                        </return>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="686" locator="197:5-230:33">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="Claim">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="685" locator="197:12-230:33" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="Claim">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
                  <source localId="682" locator="197:12-229:25" alias="FinalList">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="Claim">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="681" locator="197:12-229:15" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <source localId="581" locator="197:14-197:62" alias="ClaimofInterest">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="580" locator="197:14-197:46" path="MedicalClaim" scope="ClaimWithProcedure" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="680" locator="198:7-229:13">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="Claim">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </elementType>
                           </resultTypeSpecifier>
                           <expression localId="679" locator="198:14-229:13" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="Claim">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </resultTypeSpecifier>
                              <source localId="618" locator="198:14-208:24" alias="DiagnosisCheck">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="ProcedureItems">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                 </resultTypeSpecifier>
                                 <expression localId="617" locator="198:14-208:9" xsi:type="Tuple">
                                    <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ProcedureItems">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                    </resultTypeSpecifier>
                                    <element name="Claim">
                                       <value localId="582" locator="199:16-199:30" resultTypeName="fhir:Claim" name="ClaimofInterest" xsi:type="AliasRef"/>
                                    </element>
                                    <element name="ProcedureItems">
                                       <value localId="616" locator="200:27-207:13" resultTypeName="fhir:Claim" xsi:type="If">
                                          <condition asType="t:Boolean" xsi:type="As">
                                             <operand localId="584" locator="200:30-200:52" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                <operand localId="583" locator="200:30-200:44" resultTypeName="fhir:Claim" name="ClaimofInterest" xsi:type="AliasRef"/>
                                             </operand>
                                          </condition>
                                          <then asType="fhir:Claim" xsi:type="As">
                                             <operand localId="585" locator="200:59-200:62" resultTypeName="t:Any" xsi:type="Null"/>
                                          </then>
                                          <else localId="615" locator="201:16-207:13" resultTypeName="fhir:Claim" xsi:type="Query">
                                             <source localId="587" locator="201:16-201:41" resultTypeName="fhir:Claim" alias="ItemOnLine">
                                                <expression localId="586" locator="201:16-201:30" resultTypeName="fhir:Claim" name="ClaimofInterest" xsi:type="AliasRef"/>
                                             </source>
                                             <where localId="614" locator="202:11-207:13" resultTypeName="t:Boolean" xsi:type="Or">
                                                <operand localId="600" locator="202:17-204:11" resultTypeName="t:Boolean" xsi:type="Exists">
                                                   <operand localId="599" locator="202:24-204:11" xsi:type="Query">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <source localId="592" locator="202:26-202:77" alias="LineCode">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                         </resultTypeSpecifier>
                                                         <expression localId="591" locator="202:26-202:68" xsi:type="Flatten">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <operand xsi:type="Query">
                                                               <source alias="$this">
                                                                  <expression localId="590" locator="202:28-202:59" xsi:type="Query">
                                                                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                        <elementType name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                                     </resultTypeSpecifier>
                                                                     <source alias="$this">
                                                                        <expression localId="589" locator="202:28-202:42" path="item" scope="ItemOnLine" xsi:type="Property">
                                                                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                                           </resultTypeSpecifier>
                                                                        </expression>
                                                                     </source>
                                                                     <where xsi:type="Not">
                                                                        <operand xsi:type="IsNull">
                                                                           <operand path="productOrService" xsi:type="Property">
                                                                              <source name="$this" xsi:type="AliasRef"/>
                                                                           </operand>
                                                                        </operand>
                                                                     </where>
                                                                     <return>
                                                                        <expression path="productOrService" xsi:type="Property">
                                                                           <source name="$this" xsi:type="AliasRef"/>
                                                                        </expression>
                                                                     </return>
                                                                  </expression>
                                                               </source>
                                                               <where xsi:type="Not">
                                                                  <operand xsi:type="IsNull">
                                                                     <operand path="coding" xsi:type="Property">
                                                                        <source name="$this" xsi:type="AliasRef"/>
                                                                     </operand>
                                                                  </operand>
                                                               </where>
                                                               <return>
                                                                  <expression path="coding" xsi:type="Property">
                                                                     <source name="$this" xsi:type="AliasRef"/>
                                                                  </expression>
                                                               </return>
                                                            </operand>
                                                         </expression>
                                                      </source>
                                                      <where localId="598" locator="203:15-203:83" resultTypeName="t:Boolean" xsi:type="In">
                                                         <operand localId="595" locator="203:21-203:39" resultTypeName="t:String" path="value" xsi:type="Property">
                                                            <source localId="594" locator="203:21-203:33" resultTypeName="fhir:code" path="code" scope="LineCode" xsi:type="Property"/>
                                                         </operand>
                                                         <operand localId="597" locator="203:44-203:83" path="ProceduresAsStrings" scope="ClaimWithProcedure" xsi:type="Property">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                         </operand>
                                                      </where>
                                                   </operand>
                                                </operand>
                                                <operand localId="613" locator="205:16-207:13" resultTypeName="t:Boolean" xsi:type="Exists">
                                                   <operand localId="612" locator="205:23-207:13" xsi:type="Query">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <source localId="605" locator="205:25-205:80" alias="HeaderCode">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                         </resultTypeSpecifier>
                                                         <expression localId="604" locator="205:25-205:69" xsi:type="Flatten">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <operand xsi:type="Query">
                                                               <source alias="$this">
                                                                  <expression localId="603" locator="205:27-205:60" xsi:type="Query">
                                                                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                        <elementType xsi:type="ChoiceTypeSpecifier">
                                                                           <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                                           <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                                        </elementType>
                                                                     </resultTypeSpecifier>
                                                                     <source alias="$this">
                                                                        <expression localId="602" locator="205:29-205:48" path="procedure" scope="ItemOnLine" xsi:type="Property">
                                                                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                              <elementType name="fhir:Claim.Procedure" xsi:type="NamedTypeSpecifier"/>
                                                                           </resultTypeSpecifier>
                                                                        </expression>
                                                                     </source>
                                                                     <where xsi:type="Not">
                                                                        <operand xsi:type="IsNull">
                                                                           <operand path="procedure" xsi:type="Property">
                                                                              <source name="$this" xsi:type="AliasRef"/>
                                                                           </operand>
                                                                        </operand>
                                                                     </where>
                                                                     <return>
                                                                        <expression path="procedure" xsi:type="Property">
                                                                           <source name="$this" xsi:type="AliasRef"/>
                                                                        </expression>
                                                                     </return>
                                                                  </expression>
                                                               </source>
                                                               <where xsi:type="Not">
                                                                  <operand xsi:type="IsNull">
                                                                     <operand path="coding" xsi:type="Property">
                                                                        <source name="$this" xsi:type="AliasRef"/>
                                                                     </operand>
                                                                  </operand>
                                                               </where>
                                                               <return>
                                                                  <expression path="coding" xsi:type="Property">
                                                                     <source name="$this" xsi:type="AliasRef"/>
                                                                  </expression>
                                                               </return>
                                                            </operand>
                                                         </expression>
                                                      </source>
                                                      <where localId="611" locator="206:17-206:87" resultTypeName="t:Boolean" xsi:type="In">
                                                         <operand localId="608" locator="206:23-206:43" resultTypeName="t:String" path="value" xsi:type="Property">
                                                            <source localId="607" locator="206:23-206:37" resultTypeName="fhir:code" path="code" scope="HeaderCode" xsi:type="Property"/>
                                                         </operand>
                                                         <operand localId="610" locator="206:48-206:87" path="ProceduresAsStrings" scope="ClaimWithProcedure" xsi:type="Property">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                         </operand>
                                                      </where>
                                                   </operand>
                                                </operand>
                                             </where>
                                          </else>
                                       </value>
                                    </element>
                                 </expression>
                              </source>
                              <return localId="678" locator="209:9-229:13">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                                 <expression localId="677" locator="209:16-229:13" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ServicePeriod">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                    </resultTypeSpecifier>
                                    <source localId="620" locator="209:16-209:64" resultTypeName="fhir:Claim" alias="ClaimforDiagnosis">
                                       <expression localId="619" locator="209:16-209:46" resultTypeName="fhir:Claim" path="ProcedureItems" scope="DiagnosisCheck" xsi:type="Property"/>
                                    </source>
                                    <return localId="676" locator="210:11-229:13">
                                       <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                          <element name="Claim">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ServicePeriod">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                       </resultTypeSpecifier>
                                       <expression localId="675" locator="210:18-229:13" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                             <element name="Claim">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ServicePeriod">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                          </resultTypeSpecifier>
                                          <source localId="654" locator="210:18-220:32" alias="LineItemDefinition">
                                             <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                <element name="Procedure">
                                                   <type xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                   </type>
                                                </element>
                                                <element name="LineItems">
                                                   <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                             </resultTypeSpecifier>
                                             <expression localId="653" locator="210:18-220:13" xsi:type="Tuple">
                                                <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                   <element name="Procedure">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                   <element name="LineItems">
                                                      <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                </resultTypeSpecifier>
                                                <element name="Procedure">
                                                   <value localId="622" locator="211:24-211:45" path="item" scope="ClaimforDiagnosis" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </value>
                                                </element>
                                                <element name="LineItems">
                                                   <value localId="652" locator="212:26-219:15" resultTypeName="fhir:Claim" xsi:type="If">
                                                      <condition asType="t:Boolean" xsi:type="As">
                                                         <operand localId="624" locator="212:29-212:53" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                            <operand localId="623" locator="212:29-212:45" resultTypeName="fhir:Claim" name="ClaimforDiagnosis" xsi:type="AliasRef"/>
                                                         </operand>
                                                      </condition>
                                                      <then asType="fhir:Claim" xsi:type="As">
                                                         <operand localId="625" locator="212:60-212:63" resultTypeName="t:Any" xsi:type="Null"/>
                                                      </then>
                                                      <else localId="651" locator="213:20-219:15" resultTypeName="fhir:Claim" xsi:type="Query">
                                                         <source localId="627" locator="213:20-213:47" resultTypeName="fhir:Claim" alias="RightClaim">
                                                            <expression localId="626" locator="213:20-213:36" resultTypeName="fhir:Claim" name="ClaimforDiagnosis" xsi:type="AliasRef"/>
                                                         </source>
                                                         <where localId="650" locator="214:15-219:15" resultTypeName="t:Boolean" xsi:type="Exists">
                                                            <operand localId="649" locator="214:28-219:15" xsi:type="Query">
                                                               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:Claim.Diagnosis" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <source localId="629" locator="214:30-214:64" alias="RightDiagnosis">
                                                                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                     <elementType name="fhir:Claim.Diagnosis" xsi:type="NamedTypeSpecifier"/>
                                                                  </resultTypeSpecifier>
                                                                  <expression localId="628" locator="214:30-214:49" path="diagnosis" scope="RightClaim" xsi:type="Property">
                                                                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                        <elementType name="fhir:Claim.Diagnosis" xsi:type="NamedTypeSpecifier"/>
                                                                     </resultTypeSpecifier>
                                                                  </expression>
                                                               </source>
                                                               <where localId="648" locator="215:19-218:21" resultTypeName="t:Boolean" xsi:type="And">
                                                                  <operand localId="635" locator="215:25-215:77" resultTypeName="t:Boolean" xsi:type="Equal">
                                                                     <operand localId="633" locator="215:25-215:73" resultTypeName="t:Integer" name="ToInteger" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                        <operand localId="632" locator="215:49-215:71" resultTypeName="fhir:positiveInt" path="sequence" scope="RightDiagnosis" xsi:type="Property"/>
                                                                     </operand>
                                                                     <operand localId="634" locator="215:77" resultTypeName="t:Integer" valueType="t:Integer" value="1" xsi:type="Literal"/>
                                                                  </operand>
                                                                  <operand localId="647" locator="216:25-218:21" resultTypeName="t:Boolean" xsi:type="Exists">
                                                                     <operand localId="646" locator="216:32-218:21" xsi:type="Query">
                                                                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                           <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                                        </resultTypeSpecifier>
                                                                        <source localId="639" locator="216:34-216:86" alias="DiagnosisCode">
                                                                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                              <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                                           </resultTypeSpecifier>
                                                                           <expression localId="638" locator="216:34-216:72" path="coding" xsi:type="Property">
                                                                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                                 <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                                              </resultTypeSpecifier>
                                                                              <source localId="637" locator="216:36-216:63" path="diagnosis" scope="RightDiagnosis" xsi:type="Property">
                                                                                 <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                                    <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                                                    <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                                                 </resultTypeSpecifier>
                                                                              </source>
                                                                           </expression>
                                                                        </source>
                                                                        <where localId="645" locator="217:25-217:97" resultTypeName="t:Boolean" xsi:type="In">
                                                                           <operand localId="642" locator="217:31-217:54" resultTypeName="t:String" path="value" xsi:type="Property">
                                                                              <source localId="641" locator="217:31-217:48" resultTypeName="fhir:code" path="code" scope="DiagnosisCode" xsi:type="Property"/>
                                                                           </operand>
                                                                           <operand localId="644" locator="217:59-217:97" path="DiagnosesAsStrings" scope="ClaimWithProcedure" xsi:type="Property">
                                                                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                                 <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                                              </resultTypeSpecifier>
                                                                           </operand>
                                                                        </where>
                                                                     </operand>
                                                                  </operand>
                                                               </where>
                                                            </operand>
                                                         </where>
                                                      </else>
                                                   </value>
                                                </element>
                                             </expression>
                                          </source>
                                          <return localId="674" locator="221:13-229:13">
                                             <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                <element name="Claim">
                                                   <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="ServicePeriod">
                                                   <type xsi:type="ListTypeSpecifier">
                                                      <elementType xsi:type="IntervalTypeSpecifier">
                                                         <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                      </elementType>
                                                   </type>
                                                </element>
                                             </resultTypeSpecifier>
                                             <expression localId="673" locator="221:20-229:13" xsi:type="If">
                                                <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                   <element name="Claim">
                                                      <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                   <element name="ServicePeriod">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </elementType>
                                                      </type>
                                                   </element>
                                                </resultTypeSpecifier>
                                                <condition asType="t:Boolean" xsi:type="As">
                                                   <operand localId="660" locator="221:25-222:62" resultTypeName="t:Boolean" xsi:type="And">
                                                      <operand localId="656" locator="221:25-221:54" resultTypeName="t:Boolean" xsi:type="Not">
                                                         <operand locator="221:25-221:54" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                            <operand localId="655" locator="221:25-221:42" name="LineItemDefinition" xsi:type="AliasRef">
                                                               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                                  <element name="Procedure">
                                                                     <type xsi:type="ListTypeSpecifier">
                                                                        <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                                     </type>
                                                                  </element>
                                                                  <element name="LineItems">
                                                                     <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                                  </element>
                                                               </resultTypeSpecifier>
                                                            </operand>
                                                         </operand>
                                                      </operand>
                                                      <operand localId="659" locator="222:21-222:62" resultTypeName="t:Boolean" xsi:type="Not">
                                                         <operand locator="222:21-222:62" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                            <operand localId="658" locator="222:21-222:50" resultTypeName="fhir:Claim" path="LineItems" scope="LineItemDefinition" xsi:type="Property"/>
                                                         </operand>
                                                      </operand>
                                                   </operand>
                                                </condition>
                                                <then localId="671" locator="222:69-227:15" xsi:type="Tuple">
                                                   <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                      <element name="Claim">
                                                         <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                      </element>
                                                      <element name="ServicePeriod">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </elementType>
                                                         </type>
                                                      </element>
                                                   </resultTypeSpecifier>
                                                   <element name="Claim">
                                                      <value localId="662" locator="223:26-223:55" resultTypeName="fhir:Claim" path="LineItems" scope="LineItemDefinition" xsi:type="Property"/>
                                                   </element>
                                                   <element name="ServicePeriod">
                                                      <value localId="670" locator="224:34-225:84" xsi:type="Query">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </elementType>
                                                         </resultTypeSpecifier>
                                                         <source localId="664" locator="224:34-224:79" alias="NormalDate">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                            <expression localId="663" locator="224:34-224:68" path="item" xsi:type="Property">
                                                               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <source path="LineItems" scope="LineItemDefinition" xsi:type="Property"/>
                                                            </expression>
                                                         </source>
                                                         <return localId="669" locator="225:21-225:84" distinct="false">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </elementType>
                                                            </resultTypeSpecifier>
                                                            <expression localId="668" locator="225:32-225:84" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                               <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <operand localId="667" locator="225:64-225:82" path="serviced" scope="NormalDate" xsi:type="Property">
                                                                  <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                     <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                     <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                  </resultTypeSpecifier>
                                                               </operand>
                                                            </expression>
                                                         </return>
                                                      </value>
                                                   </element>
                                                </then>
                                                <else xsi:type="As">
                                                   <operand localId="672" locator="228:22-228:25" resultTypeName="t:Any" xsi:type="Null"/>
                                                   <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                                                      <element name="Claim">
                                                         <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                      </element>
                                                      <element name="ServicePeriod">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType xsi:type="IntervalTypeSpecifier">
                                                               <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                            </elementType>
                                                         </type>
                                                      </element>
                                                   </asTypeSpecifier>
                                                </else>
                                             </expression>
                                          </return>
                                       </expression>
                                    </return>
                                 </expression>
                              </return>
                           </expression>
                        </return>
                     </expression>
                  </source>
                  <where localId="684" locator="230:7-230:33" resultTypeName="t:Boolean" xsi:type="Not">
                     <operand locator="230:13-230:33" resultTypeName="t:Boolean" xsi:type="IsNull">
                        <operand localId="683" locator="230:13-230:21" name="FinalList" xsi:type="AliasRef">
                           <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </resultTypeSpecifier>
                        </operand>
                     </operand>
                  </where>
               </expression>
            </return>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="559" locator="189:79-189:94" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="558" locator="189:84-189:93" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="DiagnosisValueSet">
            <operandTypeSpecifier localId="561" locator="189:115-189:131" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="560" locator="189:120-189:130" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="563" locator="189:159-189:175" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="562" locator="189:164-189:174" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="763" locator="232:1-256:35" name="Medical Claims With Principal Diagnosis" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="763">
               <a:s>define function &quot;Medical Claims With Principal Diagnosis&quot;(claim </a:s>
               <a:s r="690">
                  <a:s>List&lt;</a:s>
                  <a:s r="689">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, DiagnosisValueSet </a:s>
               <a:s r="692">
                  <a:s>List&lt;</a:s>
                  <a:s r="691">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="762">
                  <a:s r="762">
                     <a:s>
                        <a:s r="702">
                           <a:s r="701">
                              <a:s>( </a:s>
                              <a:s r="701">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;MedicalClaim&quot;: </a:s>
                                    <a:s r="694">
                                       <a:s>&quot;Professional or Institutional Claims&quot;(</a:s>
                                       <a:s r="693">
                                          <a:s>claim</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;DiagnosesAsStrings&quot;: </a:s>
                                    <a:s r="700">
                                       <a:s>
                                          <a:s r="696">
                                             <a:s r="695">
                                                <a:s>
                                                   <a:s>DiagnosisValueSet</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> d</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="699">
                                          <a:s>return </a:s>
                                          <a:s r="698">
                                             <a:s r="697">
                                                <a:s>d</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="698">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimWithDiagnosis</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="761">
                        <a:s>return </a:s>
                        <a:s r="760">
                           <a:s>
                              <a:s r="735">
                                 <a:s r="734">
                                    <a:s>( </a:s>
                                    <a:s r="734">
                                       <a:s>Tuple {&#xd;
      </a:s>
                                       <a:s>
                                          <a:s>&quot;LineItems&quot;: </a:s>
                                          <a:s r="733">
                                             <a:s>if </a:s>
                                             <a:s r="705">
                                                <a:s r="704">
                                                   <a:s r="703">
                                                      <a:s>ClaimWithDiagnosis</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="704">
                                                      <a:s>&quot;MedicalClaim&quot;</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> is null</a:s>
                                             </a:s>
                                             <a:s r="706"> then null &#xd;
        else </a:s>
                                             <a:s r="732">
                                                <a:s>
                                                   <a:s r="708">
                                                      <a:s r="707">
                                                         <a:s>
                                                            <a:s>ClaimWithDiagnosis.&quot;MedicalClaim&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> RightClaim</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
        </a:s>
                                                <a:s r="731">
                                                   <a:s>where </a:s>
                                                   <a:s r="731">
                                                      <a:s>exists </a:s>
                                                      <a:s r="730">
                                                         <a:s>( </a:s>
                                                         <a:s r="730">
                                                            <a:s>
                                                               <a:s r="710">
                                                                  <a:s r="709">
                                                                     <a:s>
                                                                        <a:s>RightClaim.diagnosis</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> RightDiagnosis</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
            </a:s>
                                                            <a:s r="729">
                                                               <a:s>where </a:s>
                                                               <a:s r="729">
                                                                  <a:s r="716">
                                                                     <a:s r="714">
                                                                        <a:s r="711">
                                                                           <a:s>FHIRHelpers</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="714">
                                                                           <a:s>ToInteger ( </a:s>
                                                                           <a:s r="713">
                                                                              <a:s r="712">
                                                                                 <a:s>RightDiagnosis</a:s>
                                                                              </a:s>
                                                                              <a:s>.</a:s>
                                                                              <a:s r="713">
                                                                                 <a:s>sequence</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> )</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s r="715"> = 1</a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
              and </a:s>
                                                                  <a:s r="728">
                                                                     <a:s>exists </a:s>
                                                                     <a:s r="727">
                                                                        <a:s>( </a:s>
                                                                        <a:s r="727">
                                                                           <a:s>
                                                                              <a:s r="720">
                                                                                 <a:s r="719">
                                                                                    <a:s>( </a:s>
                                                                                    <a:s r="719">
                                                                                       <a:s r="718">
                                                                                          <a:s>( </a:s>
                                                                                          <a:s r="718">
                                                                                             <a:s r="717">
                                                                                                <a:s>RightDiagnosis</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="718">
                                                                                                <a:s>diagnosis</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s> )</a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="719">
                                                                                          <a:s>coding</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s> )</a:s>
                                                                                 </a:s>
                                                                                 <a:s> DiagnosisCode</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
                  </a:s>
                                                                           <a:s r="726">
                                                                              <a:s>where </a:s>
                                                                              <a:s r="726">
                                                                                 <a:s r="723">
                                                                                    <a:s r="722">
                                                                                       <a:s r="721">
                                                                                          <a:s>DiagnosisCode</a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="722">
                                                                                          <a:s>code</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="723">
                                                                                       <a:s>value</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> in </a:s>
                                                                                 <a:s r="725">
                                                                                    <a:s r="724">
                                                                                       <a:s>ClaimWithDiagnosis</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="725">
                                                                                       <a:s>&quot;DiagnosesAsStrings&quot;</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s>&#xd;
              )</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
        )</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
    }</a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s> LineItemDefinition</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="759">
                              <a:s>return </a:s>
                              <a:s r="758">
                                 <a:s>
                                    <a:s r="755">
                                       <a:s r="754">
                                          <a:s>( </a:s>
                                          <a:s r="754">
                                             <a:s>
                                                <a:s r="737">
                                                   <a:s r="736">
                                                      <a:s>
                                                         <a:s>LineItemDefinition.&quot;LineItems&quot;</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> ClaimWithDiagnosis</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s r="753">
                                                <a:s>return </a:s>
                                                <a:s r="752">
                                                   <a:s>if </a:s>
                                                   <a:s r="739">
                                                      <a:s r="738">
                                                         <a:s>ClaimWithDiagnosis</a:s>
                                                      </a:s>
                                                      <a:s> is not null</a:s>
                                                   </a:s>
                                                   <a:s> then </a:s>
                                                   <a:s r="750">
                                                      <a:s>( </a:s>
                                                      <a:s r="750">
                                                         <a:s>Tuple {&#xd;
            </a:s>
                                                         <a:s>
                                                            <a:s>Claim: </a:s>
                                                            <a:s r="741">
                                                               <a:s r="740">
                                                                  <a:s>LineItemDefinition</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="741">
                                                                  <a:s>&quot;LineItems&quot;</a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>,&#xd;
            </a:s>
                                                         <a:s>
                                                            <a:s>ServicePeriod: </a:s>
                                                            <a:s r="749">
                                                               <a:s>
                                                                  <a:s r="743">
                                                                     <a:s r="742">
                                                                        <a:s>
                                                                           <a:s>LineItemDefinition.LineItems.item</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s> NormalDate</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>&#xd;
              </a:s>
                                                               <a:s r="748">
                                                                  <a:s>return </a:s>
                                                                  <a:s r="747">
                                                                     <a:s r="744">
                                                                        <a:s>FHIRBase</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="747">
                                                                        <a:s>&quot;Normalize Interval&quot; ( </a:s>
                                                                        <a:s r="746">
                                                                           <a:s r="745">
                                                                              <a:s>NormalDate</a:s>
                                                                           </a:s>
                                                                           <a:s>.</a:s>
                                                                           <a:s r="746">
                                                                              <a:s>serviced</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s> )</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
          }</a:s>
                                                      </a:s>
                                                      <a:s>&#xd;
        )</a:s>
                                                   </a:s>
                                                   <a:s r="751"> &#xd;
          else null</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                       <a:s> FinalList</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        </a:s>
                                 <a:s r="757">
                                    <a:s>where </a:s>
                                    <a:s r="757">
                                       <a:s r="756">
                                          <a:s>FinalList</a:s>
                                       </a:s>
                                       <a:s> is not null</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="Claim">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="762" locator="233:3-256:35" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="Claim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="702" locator="233:3-237:24" alias="ClaimWithDiagnosis">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="MedicalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="DiagnosesAsStrings">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="701" locator="233:3-237:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="MedicalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="DiagnosesAsStrings">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="MedicalClaim">
                     <value localId="694" locator="234:21-234:65" name="Professional or Institutional Claims" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand localId="693" locator="234:60-234:64" name="claim" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
                  <element name="DiagnosesAsStrings">
                     <value localId="700" locator="235:27-236:19" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source localId="696" locator="235:27-235:45" alias="d">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="695" locator="235:27-235:43" name="DiagnosisValueSet" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <return localId="699" locator="236:7-236:19">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="698" locator="236:14-236:19" resultTypeName="t:String" path="code" scope="d" xsi:type="Property"/>
                        </return>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="761" locator="238:5-256:35">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="Claim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="760" locator="238:12-256:35" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="Claim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
                  <source localId="735" locator="238:12-247:26" alias="LineItemDefinition">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="LineItems">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="734" locator="238:12-247:7" xsi:type="Tuple">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <element name="LineItems">
                           <value localId="733" locator="239:20-246:9" xsi:type="If">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <condition asType="t:Boolean" xsi:type="As">
                                 <operand localId="705" locator="239:23-239:63" resultTypeName="t:Boolean" xsi:type="IsNull">
                                    <operand localId="704" locator="239:23-239:55" path="MedicalClaim" scope="ClaimWithDiagnosis" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                    </operand>
                                 </operand>
                              </condition>
                              <then xsi:type="As">
                                 <operand localId="706" locator="239:70-239:73" resultTypeName="t:Any" xsi:type="Null"/>
                                 <asTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </asTypeSpecifier>
                              </then>
                              <else localId="732" locator="240:14-246:9" xsi:type="Query">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <source localId="708" locator="240:14-240:57" alias="RightClaim">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <expression localId="707" locator="240:14-240:46" path="MedicalClaim" scope="ClaimWithDiagnosis" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                    </expression>
                                 </source>
                                 <where localId="731" locator="241:9-246:9" resultTypeName="t:Boolean" xsi:type="Exists">
                                    <operand localId="730" locator="241:22-246:9" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Diagnosis" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <source localId="710" locator="241:24-241:58" alias="RightDiagnosis">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Diagnosis" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="709" locator="241:24-241:43" path="diagnosis" scope="RightClaim" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Diagnosis" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                          </expression>
                                       </source>
                                       <where localId="729" locator="242:13-245:15" resultTypeName="t:Boolean" xsi:type="And">
                                          <operand localId="716" locator="242:19-242:71" resultTypeName="t:Boolean" xsi:type="Equal">
                                             <operand localId="714" locator="242:19-242:67" resultTypeName="t:Integer" name="ToInteger" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="713" locator="242:43-242:65" resultTypeName="fhir:positiveInt" path="sequence" scope="RightDiagnosis" xsi:type="Property"/>
                                             </operand>
                                             <operand localId="715" locator="242:71" resultTypeName="t:Integer" valueType="t:Integer" value="1" xsi:type="Literal"/>
                                          </operand>
                                          <operand localId="728" locator="243:19-245:15" resultTypeName="t:Boolean" xsi:type="Exists">
                                             <operand localId="727" locator="243:26-245:15" xsi:type="Query">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <source localId="720" locator="243:28-243:80" alias="DiagnosisCode">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="719" locator="243:28-243:66" path="coding" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <source localId="718" locator="243:30-243:57" path="diagnosis" scope="RightDiagnosis" xsi:type="Property">
                                                         <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                            <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                            <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                         </resultTypeSpecifier>
                                                      </source>
                                                   </expression>
                                                </source>
                                                <where localId="726" locator="244:19-244:91" resultTypeName="t:Boolean" xsi:type="In">
                                                   <operand localId="723" locator="244:25-244:48" resultTypeName="t:String" path="value" xsi:type="Property">
                                                      <source localId="722" locator="244:25-244:42" resultTypeName="fhir:code" path="code" scope="DiagnosisCode" xsi:type="Property"/>
                                                   </operand>
                                                   <operand localId="725" locator="244:53-244:91" path="DiagnosesAsStrings" scope="ClaimWithDiagnosis" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </operand>
                                                </where>
                                             </operand>
                                          </operand>
                                       </where>
                                    </operand>
                                 </where>
                              </else>
                           </value>
                        </element>
                     </expression>
                  </source>
                  <return localId="759" locator="248:7-256:35">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="Claim">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="758" locator="248:14-256:35" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <source localId="755" locator="248:14-255:31" alias="FinalList">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="Claim">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </elementType>
                           </resultTypeSpecifier>
                           <expression localId="754" locator="248:14-255:21" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </elementType>
                              </resultTypeSpecifier>
                              <source localId="737" locator="248:16-248:64" alias="ClaimWithDiagnosis">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="736" locator="248:16-248:45" path="LineItems" scope="LineItemDefinition" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </expression>
                              </source>
                              <return localId="753" locator="249:9-255:19">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                       <element name="ServicePeriod">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                    </elementType>
                                 </resultTypeSpecifier>
                                 <expression localId="752" locator="249:16-255:19" xsi:type="If">
                                    <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                       <element name="ServicePeriod">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                    </resultTypeSpecifier>
                                    <condition asType="t:Boolean" xsi:type="As">
                                       <operand localId="739" locator="249:19-249:48" resultTypeName="t:Boolean" xsi:type="Not">
                                          <operand locator="249:19-249:48" resultTypeName="t:Boolean" xsi:type="IsNull">
                                             <operand localId="738" locator="249:19-249:36" resultTypeName="fhir:Claim" name="ClaimWithDiagnosis" xsi:type="AliasRef"/>
                                          </operand>
                                       </operand>
                                    </condition>
                                    <then localId="750" locator="249:55-254:9" xsi:type="Tuple">
                                       <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                          <element name="Claim">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                          <element name="ServicePeriod">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                       </resultTypeSpecifier>
                                       <element name="Claim">
                                          <value localId="741" locator="250:20-250:49" path="LineItems" scope="LineItemDefinition" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                          </value>
                                       </element>
                                       <element name="ServicePeriod">
                                          <value localId="749" locator="251:28-252:74" xsi:type="Query">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </resultTypeSpecifier>
                                             <source localId="743" locator="251:28-251:71" alias="NormalDate">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <expression localId="742" locator="251:28-251:60" xsi:type="Flatten">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <operand xsi:type="Query">
                                                      <source alias="$this">
                                                         <expression path="LineItems" scope="LineItemDefinition" xsi:type="Property"/>
                                                      </source>
                                                      <where xsi:type="Not">
                                                         <operand xsi:type="IsNull">
                                                            <operand path="item" xsi:type="Property">
                                                               <source name="$this" xsi:type="AliasRef"/>
                                                            </operand>
                                                         </operand>
                                                      </where>
                                                      <return>
                                                         <expression path="item" xsi:type="Property">
                                                            <source name="$this" xsi:type="AliasRef"/>
                                                         </expression>
                                                      </return>
                                                   </operand>
                                                </expression>
                                             </source>
                                             <return localId="748" locator="252:15-252:74">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                                <expression localId="747" locator="252:22-252:74" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                   <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <operand localId="746" locator="252:54-252:72" path="serviced" scope="NormalDate" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </operand>
                                                </expression>
                                             </return>
                                          </value>
                                       </element>
                                    </then>
                                    <else xsi:type="As">
                                       <operand localId="751" locator="255:16-255:19" resultTypeName="t:Any" xsi:type="Null"/>
                                       <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                                          <element name="Claim">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                          <element name="ServicePeriod">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                       </asTypeSpecifier>
                                    </else>
                                 </expression>
                              </return>
                           </expression>
                        </source>
                        <where localId="757" locator="256:9-256:35" resultTypeName="t:Boolean" xsi:type="Not">
                           <operand locator="256:15-256:35" resultTypeName="t:Boolean" xsi:type="IsNull">
                              <operand localId="756" locator="256:15-256:23" name="FinalList" xsi:type="AliasRef">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                              </operand>
                           </operand>
                        </where>
                     </expression>
                  </return>
               </expression>
            </return>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="690" locator="232:65-232:80" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="689" locator="232:70-232:79" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="DiagnosisValueSet">
            <operandTypeSpecifier localId="692" locator="232:101-232:117" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="691" locator="232:106-232:116" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="783" locator="287:1-292:3" name="Get All Professional and Institutional Claims and Claim Responses" context="Unfiltered" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="783">
               <a:s>define function &quot;Get All Professional and Institutional Claims and Claim Responses&quot;(claimResponse </a:s>
               <a:s r="775">
                  <a:s>List&lt;</a:s>
                  <a:s r="774">
                     <a:s>FHIR.ClaimResponse</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, claim </a:s>
               <a:s r="777">
                  <a:s>List&lt;</a:s>
                  <a:s r="776">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="782">
                  <a:s r="782">
                     <a:s>( </a:s>
                     <a:s r="782">
                        <a:s>Tuple {&#xd;
      </a:s>
                        <a:s>
                           <a:s>&quot;MedicalClaimResponse&quot;: </a:s>
                           <a:s r="779">
                              <a:s>&quot;Professional or Institutional Claims Response&quot;(</a:s>
                              <a:s r="778">
                                 <a:s>claimResponse</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
      </a:s>
                        <a:s>
                           <a:s>&quot;MedicalClaim&quot;: </a:s>
                           <a:s r="781">
                              <a:s>&quot;Professional or Institutional Claims&quot;(</a:s>
                              <a:s r="780">
                                 <a:s>claim</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
    }</a:s>
                     </a:s>
                     <a:s>&#xd;
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="MedicalClaimResponse">
               <type xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </type>
            </element>
            <element name="MedicalClaim">
               <type xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </type>
            </element>
         </resultTypeSpecifier>
         <expression localId="782" locator="288:3-292:3" xsi:type="Tuple">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="MedicalClaimResponse">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
               <element name="MedicalClaim">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
            </resultTypeSpecifier>
            <element name="MedicalClaimResponse">
               <value localId="779" locator="289:31-289:92" name="Professional or Institutional Claims Response" xsi:type="FunctionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <operand localId="778" locator="289:79-289:91" name="claimResponse" xsi:type="OperandRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </value>
            </element>
            <element name="MedicalClaim">
               <value localId="781" locator="290:23-290:67" name="Professional or Institutional Claims" xsi:type="FunctionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <operand localId="780" locator="290:62-290:66" name="claim" xsi:type="OperandRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </value>
            </element>
         </expression>
         <operand name="claimResponse">
            <operandTypeSpecifier localId="775" locator="287:99-287:122" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="774" locator="287:104-287:121" resultTypeName="fhir:ClaimResponse" name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="claim">
            <operandTypeSpecifier localId="777" locator="287:131-287:146" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="776" locator="287:136-287:145" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="856" locator="422:1-440:7" name="Get All Paid Claim Reponses" context="Unfiltered" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="856">
               <a:s>define function &quot;Get All Paid Claim Reponses&quot;(claimResponse </a:s>
               <a:s r="810">
                  <a:s>List&lt;</a:s>
                  <a:s r="809">
                     <a:s>FHIR.ClaimResponse</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="855">
                  <a:s r="855">
                     <a:s>
                        <a:s r="821">
                           <a:s r="820">
                              <a:s>( </a:s>
                              <a:s r="820">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;PaidResponse&quot;: </a:s>
                                    <a:s r="819">
                                       <a:s>
                                          <a:s r="812">
                                             <a:s r="811">
                                                <a:s>
                                                   <a:s>claimResponse</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> ResponseItem</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="818">
                                          <a:s>where </a:s>
                                          <a:s r="818">
                                             <a:s r="814">
                                                <a:s r="813">
                                                   <a:s>ResponseItem</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="814">
                                                   <a:s>outcome</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> in </a:s>
                                             <a:s r="817">
                                                <a:s>{ </a:s>
                                                <a:s r="815">
                                                   <a:s>'complete'</a:s>
                                                </a:s>
                                                <a:s>, </a:s>
                                                <a:s r="816">
                                                   <a:s>'partial'</a:s>
                                                </a:s>
                                                <a:s> }</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimResponse</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="854">
                        <a:s>return </a:s>
                        <a:s r="853">
                           <a:s>
                              <a:s r="823">
                                 <a:s r="822">
                                    <a:s>
                                       <a:s>ClaimResponse.&quot;PaidResponse&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> ClmResp</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="852">
                              <a:s>return </a:s>
                              <a:s r="851">
                                 <a:s>( </a:s>
                                 <a:s r="851">
                                    <a:s>Tuple {&#xd;
          </a:s>
                                    <a:s>
                                       <a:s>&quot;Response&quot;: </a:s>
                                       <a:s r="824">
                                          <a:s>ClmResp</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>,&#xd;
          </a:s>
                                    <a:s>
                                       <a:s>&quot;ResponseID&quot;: </a:s>
                                       <a:s r="829">
                                          <a:s r="825">
                                             <a:s>FHIRBase</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="829">
                                             <a:s>&quot;GetId&quot; ( </a:s>
                                             <a:s r="828">
                                                <a:s r="827">
                                                   <a:s r="826">
                                                      <a:s>ClmResp</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="827">
                                                      <a:s>request</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="828">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> )</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>,&#xd;
          </a:s>
                                    <a:s>
                                       <a:s>&quot;LineItems&quot;: </a:s>
                                       <a:s r="850">
                                          <a:s>
                                             <a:s r="831">
                                                <a:s r="830">
                                                   <a:s>
                                                      <a:s>ClmResp.item</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> ResponseItem</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>&#xd;
            </a:s>
                                          <a:s r="849">
                                             <a:s>where </a:s>
                                             <a:s r="849">
                                                <a:s>( </a:s>
                                                <a:s r="849">
                                                   <a:s r="840">
                                                      <a:s>exists </a:s>
                                                      <a:s r="839">
                                                         <a:s>( </a:s>
                                                         <a:s r="839">
                                                            <a:s>
                                                               <a:s r="833">
                                                                  <a:s r="832">
                                                                     <a:s>
                                                                        <a:s>ResponseItem.adjudication.category.coding</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> CategoryItem</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
                  </a:s>
                                                            <a:s r="838">
                                                               <a:s>where </a:s>
                                                               <a:s r="838">
                                                                  <a:s r="836">
                                                                     <a:s r="835">
                                                                        <a:s r="834">
                                                                           <a:s>CategoryItem</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="835">
                                                                           <a:s>code</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="836">
                                                                        <a:s>value</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> = </a:s>
                                                                  <a:s r="837">
                                                                     <a:s>'benefit'</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
              )</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
                and </a:s>
                                                   <a:s r="848">
                                                      <a:s>exists </a:s>
                                                      <a:s r="847">
                                                         <a:s>( </a:s>
                                                         <a:s r="847">
                                                            <a:s>
                                                               <a:s r="842">
                                                                  <a:s r="841">
                                                                     <a:s>
                                                                        <a:s>ResponseItem.adjudication.amount</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> DollarAmount</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
                    </a:s>
                                                            <a:s r="846">
                                                               <a:s>where </a:s>
                                                               <a:s r="846">
                                                                  <a:s r="844">
                                                                     <a:s r="843">
                                                                        <a:s>DollarAmount</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="844">
                                                                        <a:s>value</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s r="845"> > 0</a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
                )</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
            )</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
        }</a:s>
                                 </a:s>
                                 <a:s>&#xd;
      )</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="Response">
                  <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="ResponseID">
                  <type name="t:String" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="LineItems">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="855" locator="423:3-440:7" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="Response">
                     <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="ResponseID">
                     <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="LineItems">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="821" locator="423:3-426:19" alias="ClaimResponse">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="PaidResponse">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="820" locator="423:3-426:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="PaidResponse">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="PaidResponse">
                     <value localId="819" locator="424:21-425:61" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source localId="812" locator="424:21-424:46" alias="ResponseItem">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="811" locator="424:21-424:33" name="claimResponse" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <where localId="818" locator="425:7-425:61" resultTypeName="t:Boolean" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="814" locator="425:13-425:32" resultTypeName="fhir:RemittanceOutcome" path="outcome" scope="ResponseItem" xsi:type="Property"/>
                           </operand>
                           <operand localId="817" locator="425:37-425:61" xsi:type="List">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <element localId="815" locator="425:39-425:48" resultTypeName="t:String" valueType="t:String" value="complete" xsi:type="Literal"/>
                              <element localId="816" locator="425:51-425:59" resultTypeName="t:String" valueType="t:String" value="partial" xsi:type="Literal"/>
                           </operand>
                        </where>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="854" locator="427:5-440:7">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="Response">
                        <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ResponseID">
                        <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItems">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="853" locator="427:12-440:7" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="Response">
                           <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ResponseID">
                           <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="LineItems">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </elementType>
                  </resultTypeSpecifier>
                  <source localId="823" locator="427:12-427:47" alias="ClmResp">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <expression localId="822" locator="427:12-427:39" path="PaidResponse" scope="ClaimResponse" xsi:type="Property">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <return localId="852" locator="428:7-440:7">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="Response">
                              <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ResponseID">
                              <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </resultTypeSpecifier>
                     <expression localId="851" locator="428:14-440:7" xsi:type="Tuple">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="Response">
                              <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ResponseID">
                              <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <element name="Response">
                           <value localId="824" locator="429:23-429:29" resultTypeName="fhir:ClaimResponse" name="ClmResp" xsi:type="AliasRef"/>
                        </element>
                        <element name="ResponseID">
                           <value localId="829" locator="430:25-430:70" resultTypeName="t:String" name="GetId" libraryName="FHIRBase" xsi:type="FunctionRef">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="828" locator="430:44-430:68" resultTypeName="fhir:string" path="reference" xsi:type="Property">
                                    <source localId="827" locator="430:44-430:58" resultTypeName="fhir:Reference" path="request" scope="ClmResp" xsi:type="Property"/>
                                 </operand>
                              </operand>
                           </value>
                        </element>
                        <element name="LineItems">
                           <value localId="850" locator="431:24-438:13" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <source localId="831" locator="431:24-431:48" alias="ResponseItem">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="830" locator="431:24-431:35" path="item" scope="ClmResp" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </expression>
                              </source>
                              <where localId="849" locator="432:13-438:13" resultTypeName="t:Boolean" xsi:type="And">
                                 <operand localId="840" locator="432:21-434:15" resultTypeName="t:Boolean" xsi:type="Exists">
                                    <operand localId="839" locator="432:28-434:15" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <source localId="833" locator="432:30-432:83" alias="CategoryItem">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="832" locator="432:30-432:70" xsi:type="Flatten">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand xsi:type="Query">
                                                <source alias="$this">
                                                   <expression xsi:type="Query">
                                                      <source alias="$this">
                                                         <expression path="adjudication" scope="ResponseItem" xsi:type="Property"/>
                                                      </source>
                                                      <where xsi:type="Not">
                                                         <operand xsi:type="IsNull">
                                                            <operand path="category" xsi:type="Property">
                                                               <source name="$this" xsi:type="AliasRef"/>
                                                            </operand>
                                                         </operand>
                                                      </where>
                                                      <return>
                                                         <expression path="category" xsi:type="Property">
                                                            <source name="$this" xsi:type="AliasRef"/>
                                                         </expression>
                                                      </return>
                                                   </expression>
                                                </source>
                                                <where xsi:type="Not">
                                                   <operand xsi:type="IsNull">
                                                      <operand path="coding" xsi:type="Property">
                                                         <source name="$this" xsi:type="AliasRef"/>
                                                      </operand>
                                                   </operand>
                                                </where>
                                                <return>
                                                   <expression path="coding" xsi:type="Property">
                                                      <source name="$this" xsi:type="AliasRef"/>
                                                   </expression>
                                                </return>
                                             </operand>
                                          </expression>
                                       </source>
                                       <where localId="838" locator="433:19-433:59" resultTypeName="t:Boolean" xsi:type="Equal">
                                          <operand localId="836" locator="433:25-433:47" resultTypeName="t:String" path="value" xsi:type="Property">
                                             <source localId="835" locator="433:25-433:41" resultTypeName="fhir:code" path="code" scope="CategoryItem" xsi:type="Property"/>
                                          </operand>
                                          <operand localId="837" locator="433:51-433:59" resultTypeName="t:String" valueType="t:String" value="benefit" xsi:type="Literal"/>
                                       </where>
                                    </operand>
                                 </operand>
                                 <operand localId="848" locator="435:21-437:17" resultTypeName="t:Boolean" xsi:type="Exists">
                                    <operand localId="847" locator="435:28-437:17" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Money" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <source localId="842" locator="435:30-435:74" alias="DollarAmount">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Money" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="841" locator="435:30-435:61" xsi:type="Query">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Money" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <source alias="$this">
                                                <expression path="adjudication" scope="ResponseItem" xsi:type="Property"/>
                                             </source>
                                             <where xsi:type="Not">
                                                <operand xsi:type="IsNull">
                                                   <operand path="amount" xsi:type="Property">
                                                      <source name="$this" xsi:type="AliasRef"/>
                                                   </operand>
                                                </operand>
                                             </where>
                                             <return>
                                                <expression path="amount" xsi:type="Property">
                                                   <source name="$this" xsi:type="AliasRef"/>
                                                </expression>
                                             </return>
                                          </expression>
                                       </source>
                                       <where localId="846" locator="436:21-436:48" resultTypeName="t:Boolean" xsi:type="Greater">
                                          <operand name="ToDecimal" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="844" locator="436:27-436:44" resultTypeName="fhir:decimal" path="value" scope="DollarAmount" xsi:type="Property"/>
                                          </operand>
                                          <operand xsi:type="ToDecimal">
                                             <operand localId="845" locator="436:48" resultTypeName="t:Integer" valueType="t:Integer" value="0" xsi:type="Literal"/>
                                          </operand>
                                       </where>
                                    </operand>
                                 </operand>
                              </where>
                           </value>
                        </element>
                     </expression>
                  </return>
               </expression>
            </return>
         </expression>
         <operand name="claimResponse">
            <operandTypeSpecifier localId="810" locator="422:61-422:84" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="809" locator="422:66-422:83" resultTypeName="fhir:ClaimResponse" name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="911" locator="442:1-458:5" name="Get All Claims With Procedure and Diagnosis" context="Unfiltered" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="911">
               <a:s>define function &quot;Get All Claims With Procedure and Diagnosis&quot;(claim </a:s>
               <a:s r="862">
                  <a:s>List&lt;</a:s>
                  <a:s r="861">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="864">
                  <a:s>List&lt;</a:s>
                  <a:s r="863">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, DiagnosisValueSet </a:s>
               <a:s r="866">
                  <a:s>List&lt;</a:s>
                  <a:s r="865">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="910">
                  <a:s r="910">
                     <a:s>
                        <a:s r="892">
                           <a:s r="891">
                              <a:s>( </a:s>
                              <a:s r="891">
                                 <a:s>
                                    <a:s r="868">
                                       <a:s r="867">
                                          <a:s>
                                             <a:s>claim</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> AllClaims</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
    </a:s>
                                 <a:s r="890">
                                    <a:s>where </a:s>
                                    <a:s r="890">
                                       <a:s r="877">
                                          <a:s>exists </a:s>
                                          <a:s r="876">
                                             <a:s>( </a:s>
                                             <a:s r="876">
                                                <a:s>
                                                   <a:s r="870">
                                                      <a:s r="869">
                                                         <a:s>
                                                            <a:s>AllClaims.item.productOrService.coding</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> ProductOrServiceCode</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
        </a:s>
                                                <a:s r="875">
                                                   <a:s>where </a:s>
                                                   <a:s r="875">
                                                      <a:s r="873">
                                                         <a:s r="871">
                                                            <a:s>FHIRHelpers</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="873">
                                                            <a:s>ToCode ( </a:s>
                                                            <a:s r="872">
                                                               <a:s>ProductOrServiceCode</a:s>
                                                            </a:s>
                                                            <a:s> )</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> in </a:s>
                                                      <a:s r="874">
                                                         <a:s>ProductOrServiceValueSet</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
    )</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      and </a:s>
                                       <a:s r="889">
                                          <a:s>exists </a:s>
                                          <a:s r="888">
                                             <a:s>( </a:s>
                                             <a:s r="888">
                                                <a:s>
                                                   <a:s r="882">
                                                      <a:s r="881">
                                                         <a:s>( </a:s>
                                                         <a:s r="881">
                                                            <a:s r="880">
                                                               <a:s r="879">
                                                                  <a:s r="878">
                                                                     <a:s>AllClaims</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="879">
                                                                     <a:s>diagnosis</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="880">
                                                                  <a:s>diagnosis</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="881">
                                                               <a:s>coding</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> )</a:s>
                                                      </a:s>
                                                      <a:s> DiagnosisCode</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
          </a:s>
                                                <a:s r="887">
                                                   <a:s>where </a:s>
                                                   <a:s r="887">
                                                      <a:s r="885">
                                                         <a:s r="883">
                                                            <a:s>FHIRHelpers</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="885">
                                                            <a:s>ToCode ( </a:s>
                                                            <a:s r="884">
                                                               <a:s>DiagnosisCode</a:s>
                                                            </a:s>
                                                            <a:s> )</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> in </a:s>
                                                      <a:s r="886">
                                                         <a:s>DiagnosisValueSet</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
      )</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ProcedureClaims</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="909">
                        <a:s>return </a:s>
                        <a:s r="908">
                           <a:s>( </a:s>
                           <a:s r="908">
                              <a:s>Tuple {&#xd;
        </a:s>
                              <a:s>
                                 <a:s>&quot;ClaimofInterest&quot;: </a:s>
                                 <a:s r="893">
                                    <a:s>ProcedureClaims</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,&#xd;
        </a:s>
                              <a:s>
                                 <a:s>&quot;ClaimID&quot;: </a:s>
                                 <a:s r="895">
                                    <a:s r="894">
                                       <a:s>ProcedureClaims</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="895">
                                       <a:s>id</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,&#xd;
        </a:s>
                              <a:s>
                                 <a:s>&quot;LineItems&quot;: </a:s>
                                 <a:s r="907">
                                    <a:s>
                                       <a:s r="897">
                                          <a:s r="896">
                                             <a:s>
                                                <a:s>ProcedureClaims.item</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> ResponseItem</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
          </a:s>
                                    <a:s r="906">
                                       <a:s>where </a:s>
                                       <a:s r="906">
                                          <a:s>exists </a:s>
                                          <a:s r="905">
                                             <a:s>( </a:s>
                                             <a:s r="905">
                                                <a:s>
                                                   <a:s r="899">
                                                      <a:s r="898">
                                                         <a:s>
                                                            <a:s>ResponseItem.productOrService.coding</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> ProductOrServiceCode</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
              </a:s>
                                                <a:s r="904">
                                                   <a:s>where </a:s>
                                                   <a:s r="904">
                                                      <a:s r="902">
                                                         <a:s r="900">
                                                            <a:s>FHIRHelpers</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="902">
                                                            <a:s>ToCode ( </a:s>
                                                            <a:s r="901">
                                                               <a:s>ProductOrServiceCode</a:s>
                                                            </a:s>
                                                            <a:s> )</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> in </a:s>
                                                      <a:s r="903">
                                                         <a:s>ProductOrServiceValueSet</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
          )</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
      }</a:s>
                           </a:s>
                           <a:s>&#xd;
    )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="ClaimofInterest">
                  <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="ClaimID">
                  <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="LineItems">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="910" locator="443:3-458:5" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="ClaimofInterest">
                     <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="ClaimID">
                     <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="LineItems">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="892" locator="443:3-449:25" alias="ProcedureClaims">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="891" locator="443:3-449:9" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source localId="868" locator="443:5-443:19" alias="AllClaims">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <expression localId="867" locator="443:5-443:9" name="claim" xsi:type="OperandRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where localId="890" locator="444:5-449:7" resultTypeName="t:Boolean" xsi:type="And">
                     <operand localId="877" locator="444:11-446:5" resultTypeName="t:Boolean" xsi:type="Exists">
                        <operand localId="876" locator="444:18-446:5" xsi:type="Query">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <source localId="870" locator="444:20-444:78" alias="ProductOrServiceCode">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <expression localId="869" locator="444:20-444:57" xsi:type="Flatten">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand xsi:type="Query">
                                    <source alias="$this">
                                       <expression xsi:type="Query">
                                          <source alias="$this">
                                             <expression path="item" scope="AllClaims" xsi:type="Property"/>
                                          </source>
                                          <where xsi:type="Not">
                                             <operand xsi:type="IsNull">
                                                <operand path="productOrService" xsi:type="Property">
                                                   <source name="$this" xsi:type="AliasRef"/>
                                                </operand>
                                             </operand>
                                          </where>
                                          <return>
                                             <expression path="productOrService" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </expression>
                                          </return>
                                       </expression>
                                    </source>
                                    <where xsi:type="Not">
                                       <operand xsi:type="IsNull">
                                          <operand path="coding" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </operand>
                                       </operand>
                                    </where>
                                    <return>
                                       <expression path="coding" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </expression>
                                    </return>
                                 </operand>
                              </expression>
                           </source>
                           <where localId="875" locator="445:9-445:85" resultTypeName="t:Boolean" xsi:type="In">
                              <operand localId="873" locator="445:15-445:57" resultTypeName="t:Code" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="872" locator="445:36-445:55" resultTypeName="fhir:Coding" name="ProductOrServiceCode" xsi:type="AliasRef"/>
                              </operand>
                              <operand localId="874" locator="445:62-445:85" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </operand>
                           </where>
                        </operand>
                     </operand>
                     <operand localId="889" locator="447:11-449:7" resultTypeName="t:Boolean" xsi:type="Exists">
                        <operand localId="888" locator="447:18-449:7" xsi:type="Query">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <source localId="882" locator="447:20-447:73" alias="DiagnosisCode">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <expression localId="881" locator="447:20-447:59" xsi:type="Flatten">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand xsi:type="Query">
                                    <source alias="$this">
                                       <expression localId="880" locator="447:22-447:50" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="ChoiceTypeSpecifier">
                                                <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </resultTypeSpecifier>
                                          <source alias="$this">
                                             <expression localId="879" locator="447:22-447:40" path="diagnosis" scope="AllClaims" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Diagnosis" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </expression>
                                          </source>
                                          <where xsi:type="Not">
                                             <operand xsi:type="IsNull">
                                                <operand path="diagnosis" xsi:type="Property">
                                                   <source name="$this" xsi:type="AliasRef"/>
                                                </operand>
                                             </operand>
                                          </where>
                                          <return>
                                             <expression path="diagnosis" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </expression>
                                          </return>
                                       </expression>
                                    </source>
                                    <where xsi:type="Not">
                                       <operand xsi:type="IsNull">
                                          <operand path="coding" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </operand>
                                       </operand>
                                    </where>
                                    <return>
                                       <expression path="coding" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </expression>
                                    </return>
                                 </operand>
                              </expression>
                           </source>
                           <where localId="887" locator="448:11-448:73" resultTypeName="t:Boolean" xsi:type="In">
                              <operand localId="885" locator="448:17-448:52" resultTypeName="t:Code" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="884" locator="448:38-448:50" resultTypeName="fhir:Coding" name="DiagnosisCode" xsi:type="AliasRef"/>
                              </operand>
                              <operand localId="886" locator="448:57-448:73" name="DiagnosisValueSet" xsi:type="OperandRef">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </operand>
                           </where>
                        </operand>
                     </operand>
                  </where>
               </expression>
            </source>
            <return localId="909" locator="450:5-458:5">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="ClaimofInterest">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ClaimID">
                        <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItems">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="908" locator="450:12-458:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="ClaimofInterest">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ClaimID">
                        <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItems">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="ClaimofInterest">
                     <value localId="893" locator="451:28-451:42" resultTypeName="fhir:Claim" name="ProcedureClaims" xsi:type="AliasRef"/>
                  </element>
                  <element name="ClaimID">
                     <value localId="895" locator="452:20-452:37" resultTypeName="fhir:id" path="id" scope="ProcedureClaims" xsi:type="Property"/>
                  </element>
                  <element name="LineItems">
                     <value localId="907" locator="453:22-456:11" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source localId="897" locator="453:22-453:54" alias="ResponseItem">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="896" locator="453:22-453:41" path="item" scope="ProcedureClaims" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <where localId="906" locator="454:11-456:11" resultTypeName="t:Boolean" xsi:type="Exists">
                           <operand localId="905" locator="454:24-456:11" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <source localId="899" locator="454:26-454:82" alias="ProductOrServiceCode">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="898" locator="454:26-454:61" path="coding" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <source path="productOrService" scope="ResponseItem" xsi:type="Property"/>
                                 </expression>
                              </source>
                              <where localId="904" locator="455:15-455:91" resultTypeName="t:Boolean" xsi:type="In">
                                 <operand localId="902" locator="455:21-455:63" resultTypeName="t:Code" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="901" locator="455:42-455:61" resultTypeName="fhir:Coding" name="ProductOrServiceCode" xsi:type="AliasRef"/>
                                 </operand>
                                 <operand localId="903" locator="455:68-455:91" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </operand>
                              </where>
                           </operand>
                        </where>
                     </value>
                  </element>
               </expression>
            </return>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="862" locator="442:69-442:84" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="861" locator="442:74-442:83" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="864" locator="442:112-442:128" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="863" locator="442:117-442:127" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="DiagnosisValueSet">
            <operandTypeSpecifier localId="866" locator="442:149-442:165" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="865" locator="442:154-442:164" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="977" locator="301:1-328:35" name="Get Corresponding Claim for Services and Conditions" context="Unfiltered" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="977">
               <a:s>define function &quot;Get Corresponding Claim for Services and Conditions&quot;(claimResponse </a:s>
               <a:s r="801">
                  <a:s>List&lt;</a:s>
                  <a:s r="800">
                     <a:s>FHIR.ClaimResponse</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, claim </a:s>
               <a:s r="803">
                  <a:s>List&lt;</a:s>
                  <a:s r="802">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="805">
                  <a:s>List&lt;</a:s>
                  <a:s r="804">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, DiagnosisValueSet </a:s>
               <a:s r="807">
                  <a:s>List&lt;</a:s>
                  <a:s r="806">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="976">
                  <a:s r="976">
                     <a:s>
                        <a:s r="914">
                           <a:s r="913">
                              <a:s>( </a:s>
                              <a:s r="913">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;PaidMedicalClaimResponse&quot;: </a:s>
                                    <a:s r="857">
                                       <a:s>&quot;Get All Paid Claim Reponses&quot;(</a:s>
                                       <a:s r="808">
                                          <a:s>claimResponse</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;MedicalClaim&quot;: </a:s>
                                    <a:s r="912">
                                       <a:s>&quot;Get All Claims With Procedure and Diagnosis&quot;(</a:s>
                                       <a:s r="858">
                                          <a:s>claim</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="859">
                                          <a:s>ProductOrServiceValueSet</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="860">
                                          <a:s>DiagnosisValueSet</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimAndResponse</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="975">
                        <a:s>return </a:s>
                        <a:s r="974">
                           <a:s>
                              <a:s r="950">
                                 <a:s r="949">
                                    <a:s>( </a:s>
                                    <a:s r="949">
                                       <a:s>Tuple {&#xd;
      </a:s>
                                       <a:s>
                                          <a:s>AggregateClaim: </a:s>
                                          <a:s r="948">
                                             <a:s>
                                                <a:s r="916">
                                                   <a:s r="915">
                                                      <a:s>
                                                         <a:s>ClaimAndResponse.MedicalClaim</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> medClaim</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s>
                                                <a:s>let </a:s>
                                                <a:s r="943">
                                                   <a:s>lItem: </a:s>
                                                   <a:s r="942">
                                                      <a:s>( </a:s>
                                                      <a:s r="942">
                                                         <a:s>
                                                            <a:s r="918">
                                                               <a:s r="917">
                                                                  <a:s>
                                                                     <a:s>medClaim.LineItems</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s> medClaimLineItem</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
            </a:s>
                                                         <a:s r="941">
                                                            <a:s>where </a:s>
                                                            <a:s r="941">
                                                               <a:s>exists </a:s>
                                                               <a:s r="940">
                                                                  <a:s>( </a:s>
                                                                  <a:s r="940">
                                                                     <a:s>
                                                                        <a:s r="920">
                                                                           <a:s r="919">
                                                                              <a:s>
                                                                                 <a:s>ClaimAndResponse.&quot;PaidMedicalClaimResponse&quot;</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> pClaim</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
                </a:s>
                                                                     <a:s r="939">
                                                                        <a:s>with </a:s>
                                                                        <a:s r="922">
                                                                           <a:s r="921">
                                                                              <a:s>
                                                                                 <a:s>pClaim.LineItems</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> pClaimLineItem</a:s>
                                                                        </a:s>
                                                                        <a:s>&#xd;
                  such that </a:s>
                                                                        <a:s r="938">
                                                                           <a:s r="932">
                                                                              <a:s r="925">
                                                                                 <a:s r="924">
                                                                                    <a:s r="923">
                                                                                       <a:s>medClaim</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="924">
                                                                                       <a:s>ClaimofInterest</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="925">
                                                                                    <a:s>id</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> = </a:s>
                                                                              <a:s r="931">
                                                                                 <a:s r="926">
                                                                                    <a:s>FHIRBase</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="931">
                                                                                    <a:s>GetId ( </a:s>
                                                                                    <a:s r="930">
                                                                                       <a:s r="929">
                                                                                          <a:s r="928">
                                                                                             <a:s r="927">
                                                                                                <a:s>pClaim</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="928">
                                                                                                <a:s>Response</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="929">
                                                                                             <a:s>request</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="930">
                                                                                          <a:s>reference</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s> )</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
                    and </a:s>
                                                                           <a:s r="937">
                                                                              <a:s r="934">
                                                                                 <a:s r="933">
                                                                                    <a:s>medClaimLineItem</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="934">
                                                                                    <a:s>sequence</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> = </a:s>
                                                                              <a:s r="936">
                                                                                 <a:s r="935">
                                                                                    <a:s>pClaimLineItem</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="936">
                                                                                    <a:s>itemSequence</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
            )</a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>&#xd;
        )</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s r="947">
                                                <a:s>return </a:s>
                                                <a:s r="946">
                                                   <a:s>Tuple {&#xd;
          </a:s>
                                                   <a:s>
                                                      <a:s>PaidClaim: </a:s>
                                                      <a:s r="944">
                                                         <a:s>medClaim</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>,&#xd;
          </a:s>
                                                   <a:s>
                                                      <a:s>ClaimItem: </a:s>
                                                      <a:s r="945">
                                                         <a:s>lItem</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
        }</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
    }</a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s> ClaimWithPaidResponse</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="973">
                              <a:s>return </a:s>
                              <a:s r="972">
                                 <a:s>
                                    <a:s r="969">
                                       <a:s r="968">
                                          <a:s>( </a:s>
                                          <a:s r="968">
                                             <a:s>( </a:s>
                                             <a:s r="968">
                                                <a:s>if </a:s>
                                                <a:s r="954">
                                                   <a:s>exists </a:s>
                                                   <a:s r="953">
                                                      <a:s r="952">
                                                         <a:s r="951">
                                                            <a:s>ClaimWithPaidResponse</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="952">
                                                            <a:s>AggregateClaim</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="953">
                                                         <a:s>&quot;ClaimItem&quot;</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> then </a:s>
                                                <a:s r="966">
                                                   <a:s>( </a:s>
                                                   <a:s r="966">
                                                      <a:s>Tuple {&#xd;
            </a:s>
                                                      <a:s>
                                                         <a:s>originalClaim: </a:s>
                                                         <a:s r="957">
                                                            <a:s r="956">
                                                               <a:s r="955">
                                                                  <a:s>ClaimWithPaidResponse</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="956">
                                                                  <a:s>AggregateClaim</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="957">
                                                               <a:s>PaidClaim</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>,&#xd;
            </a:s>
                                                      <a:s>
                                                         <a:s>ServicePeriod: </a:s>
                                                         <a:s r="965">
                                                            <a:s>
                                                               <a:s r="959">
                                                                  <a:s r="958">
                                                                     <a:s>
                                                                        <a:s>ClaimWithPaidResponse.AggregateClaim.ClaimItem</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> PaidItem</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
              </a:s>
                                                            <a:s r="964">
                                                               <a:s>return </a:s>
                                                               <a:s r="963">
                                                                  <a:s r="960">
                                                                     <a:s>FHIRBase</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="963">
                                                                     <a:s>&quot;Normalize Interval&quot; ( </a:s>
                                                                     <a:s r="962">
                                                                        <a:s r="961">
                                                                           <a:s>PaidItem</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="962">
                                                                           <a:s>serviced</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s> )</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>&#xd;
          }</a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
        )</a:s>
                                                </a:s>
                                                <a:s r="967"> &#xd;
          else null</a:s>
                                             </a:s>
                                             <a:s>&#xd;
      )</a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                       <a:s> FinalList</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        </a:s>
                                 <a:s r="971">
                                    <a:s>where </a:s>
                                    <a:s r="971">
                                       <a:s r="970">
                                          <a:s>FinalList</a:s>
                                       </a:s>
                                       <a:s> is not null</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="originalClaim">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="ClaimofInterest">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ClaimID">
                        <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItems">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </elementType>
               </type>
            </element>
            <element name="ServicePeriod">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </type>
            </element>
         </resultTypeSpecifier>
         <expression localId="976" locator="302:3-328:35" xsi:type="Query">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="originalClaim">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="ClaimofInterest">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ClaimID">
                           <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="LineItems">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </elementType>
                  </type>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </resultTypeSpecifier>
            <source localId="914" locator="302:3-305:22" alias="ClaimAndResponse">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="PaidMedicalClaimResponse">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="Response">
                              <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ResponseID">
                              <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
                  <element name="MedicalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="ClaimofInterest">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ClaimID">
                              <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="913" locator="302:3-305:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="PaidMedicalClaimResponse">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Response">
                                 <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ResponseID">
                                 <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                     <element name="MedicalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="ClaimofInterest">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ClaimID">
                                 <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="PaidMedicalClaimResponse">
                     <value localId="857" locator="303:33-303:76" name="Get All Paid Claim Reponses" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Response">
                                 <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ResponseID">
                                 <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <operand localId="808" locator="303:63-303:75" name="claimResponse" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
                  <element name="MedicalClaim">
                     <value localId="912" locator="304:21-304:117" name="Get All Claims With Procedure and Diagnosis" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="ClaimofInterest">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ClaimID">
                                 <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <operand localId="858" locator="304:67-304:71" name="claim" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                        <operand localId="859" locator="304:74-304:97" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                        <operand localId="860" locator="304:100-304:116" name="DiagnosisValueSet" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="975" locator="306:5-328:35">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="originalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="ClaimofInterest">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ClaimID">
                              <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="974" locator="306:12-328:35" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="originalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="ClaimofInterest">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ClaimID">
                                 <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <source localId="950" locator="306:12-319:29" alias="ClaimWithPaidResponse">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="AggregateClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="PaidClaim">
                                    <type xsi:type="TupleTypeSpecifier">
                                       <element name="ClaimofInterest">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ClaimID">
                                          <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItems">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </type>
                                 </element>
                                 <element name="ClaimItem">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="949" locator="306:12-319:7" xsi:type="Tuple">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="AggregateClaim">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="PaidClaim">
                                       <type xsi:type="TupleTypeSpecifier">
                                          <element name="ClaimofInterest">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ClaimID">
                                             <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItems">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </type>
                                    </element>
                                    <element name="ClaimItem">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </elementType>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <element name="AggregateClaim">
                           <value localId="948" locator="307:23-318:9" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="PaidClaim">
                                       <type xsi:type="TupleTypeSpecifier">
                                          <element name="ClaimofInterest">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ClaimID">
                                             <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItems">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </type>
                                    </element>
                                    <element name="ClaimItem">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </elementType>
                              </resultTypeSpecifier>
                              <source localId="916" locator="307:23-307:60" alias="medClaim">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="ClaimofInterest">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ClaimID">
                                          <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItems">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </elementType>
                                 </resultTypeSpecifier>
                                 <expression localId="915" locator="307:23-307:51" path="MedicalClaim" scope="ClaimAndResponse" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="TupleTypeSpecifier">
                                          <element name="ClaimofInterest">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ClaimID">
                                             <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItems">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </elementType>
                                    </resultTypeSpecifier>
                                 </expression>
                              </source>
                              <let localId="943" locator="308:13-314:9" identifier="lItem">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="942" locator="308:20-314:9" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <source localId="918" locator="308:22-308:56" alias="medClaimLineItem">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <expression localId="917" locator="308:22-308:39" path="LineItems" scope="medClaim" xsi:type="Property">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                       </expression>
                                    </source>
                                    <where localId="941" locator="309:13-313:13" resultTypeName="t:Boolean" xsi:type="Exists">
                                       <operand localId="940" locator="309:26-313:13" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="TupleTypeSpecifier">
                                                <element name="Response">
                                                   <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="ResponseID">
                                                   <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="LineItems">
                                                   <type xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                   </type>
                                                </element>
                                             </elementType>
                                          </resultTypeSpecifier>
                                          <source localId="920" locator="309:28-309:77" alias="pClaim">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="TupleTypeSpecifier">
                                                   <element name="Response">
                                                      <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                   <element name="ResponseID">
                                                      <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                   <element name="LineItems">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                </elementType>
                                             </resultTypeSpecifier>
                                             <expression localId="919" locator="309:28-309:70" path="PaidMedicalClaimResponse" scope="ClaimAndResponse" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="TupleTypeSpecifier">
                                                      <element name="Response">
                                                         <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                                                      </element>
                                                      <element name="ResponseID">
                                                         <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                      </element>
                                                      <element name="LineItems">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                         </type>
                                                      </element>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                             </expression>
                                          </source>
                                          <relationship localId="939" locator="310:17-312:79" alias="pClaimLineItem" xsi:type="With">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <expression localId="921" locator="310:22-310:37" path="LineItems" scope="pClaim" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </expression>
                                             <suchThat localId="938" locator="311:29-312:79" resultTypeName="t:Boolean" xsi:type="And">
                                                <operand localId="932" locator="311:29-311:110" resultTypeName="t:Boolean" xsi:type="Equal">
                                                   <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <operand localId="925" locator="311:29-311:55" resultTypeName="fhir:id" path="id" xsi:type="Property">
                                                         <source localId="924" locator="311:29-311:52" resultTypeName="fhir:Claim" path="ClaimofInterest" scope="medClaim" xsi:type="Property"/>
                                                      </operand>
                                                   </operand>
                                                   <operand localId="931" locator="311:59-311:110" resultTypeName="t:String" name="GetId" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                      <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                         <operand localId="930" locator="311:76-311:108" resultTypeName="fhir:string" path="reference" xsi:type="Property">
                                                            <source localId="929" locator="311:76-311:98" resultTypeName="fhir:Reference" path="request" xsi:type="Property">
                                                               <source localId="928" locator="311:76-311:90" resultTypeName="fhir:ClaimResponse" path="Response" scope="pClaim" xsi:type="Property"/>
                                                            </source>
                                                         </operand>
                                                      </operand>
                                                   </operand>
                                                </operand>
                                                <operand localId="937" locator="312:25-312:79" resultTypeName="t:Boolean" xsi:type="Equal">
                                                   <operand localId="934" locator="312:25-312:49" resultTypeName="fhir:positiveInt" path="sequence" scope="medClaimLineItem" xsi:type="Property"/>
                                                   <operand localId="936" locator="312:53-312:79" resultTypeName="fhir:positiveInt" path="itemSequence" scope="pClaimLineItem" xsi:type="Property"/>
                                                </operand>
                                             </suchThat>
                                          </relationship>
                                       </operand>
                                    </where>
                                 </expression>
                              </let>
                              <return localId="947" locator="315:9-318:9">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="PaidClaim">
                                          <type xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </type>
                                       </element>
                                       <element name="ClaimItem">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </elementType>
                                 </resultTypeSpecifier>
                                 <expression localId="946" locator="315:16-318:9" xsi:type="Tuple">
                                    <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                       <element name="PaidClaim">
                                          <type xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </type>
                                       </element>
                                       <element name="ClaimItem">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </resultTypeSpecifier>
                                    <element name="PaidClaim">
                                       <value localId="944" locator="316:22-316:29" name="medClaim" xsi:type="AliasRef">
                                          <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </resultTypeSpecifier>
                                       </value>
                                    </element>
                                    <element name="ClaimItem">
                                       <value localId="945" locator="317:22-317:26" name="lItem" xsi:type="QueryLetRef">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                       </value>
                                    </element>
                                 </expression>
                              </return>
                           </value>
                        </element>
                     </expression>
                  </source>
                  <return localId="973" locator="320:7-328:35">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="originalClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="ClaimofInterest">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ClaimID">
                                    <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="LineItems">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="972" locator="320:14-328:35" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="originalClaim">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="ClaimofInterest">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="ClaimID">
                                       <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="LineItems">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </elementType>
                              </type>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <source localId="969" locator="320:14-327:19" alias="FinalList">
                           <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="originalClaim">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="ClaimofInterest">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ClaimID">
                                          <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItems">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </elementType>
                                 </type>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </resultTypeSpecifier>
                           <expression localId="968" locator="320:14-327:9" xsi:type="If">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="originalClaim">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="TupleTypeSpecifier">
                                          <element name="ClaimofInterest">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ClaimID">
                                             <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItems">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </elementType>
                                    </type>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </resultTypeSpecifier>
                              <condition asType="t:Boolean" xsi:type="As">
                                 <operand localId="954" locator="320:21-320:75" resultTypeName="t:Boolean" xsi:type="Exists">
                                    <operand localId="953" locator="320:28-320:75" xsi:type="Flatten">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <operand xsi:type="Query">
                                          <source alias="$this">
                                             <expression localId="952" locator="320:28-320:63" path="AggregateClaim" scope="ClaimWithPaidResponse" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="TupleTypeSpecifier">
                                                      <element name="PaidClaim">
                                                         <type xsi:type="TupleTypeSpecifier">
                                                            <element name="ClaimofInterest">
                                                               <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                            </element>
                                                            <element name="ClaimID">
                                                               <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                                            </element>
                                                            <element name="LineItems">
                                                               <type xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                               </type>
                                                            </element>
                                                         </type>
                                                      </element>
                                                      <element name="ClaimItem">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                         </type>
                                                      </element>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                             </expression>
                                          </source>
                                          <where xsi:type="Not">
                                             <operand xsi:type="IsNull">
                                                <operand path="ClaimItem" xsi:type="Property">
                                                   <source name="$this" xsi:type="AliasRef"/>
                                                </operand>
                                             </operand>
                                          </where>
                                          <return>
                                             <expression path="ClaimItem" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </expression>
                                          </return>
                                       </operand>
                                    </operand>
                                 </operand>
                              </condition>
                              <then localId="966" locator="320:82-325:9" xsi:type="Tuple">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="originalClaim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                                 <element name="originalClaim">
                                    <value localId="957" locator="321:28-321:73" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </elementType>
                                       </resultTypeSpecifier>
                                       <source alias="$this">
                                          <expression localId="956" locator="321:28-321:63" path="AggregateClaim" scope="ClaimWithPaidResponse" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="TupleTypeSpecifier">
                                                   <element name="PaidClaim">
                                                      <type xsi:type="TupleTypeSpecifier">
                                                         <element name="ClaimofInterest">
                                                            <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                         </element>
                                                         <element name="ClaimID">
                                                            <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                                         </element>
                                                         <element name="LineItems">
                                                            <type xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                            </type>
                                                         </element>
                                                      </type>
                                                   </element>
                                                   <element name="ClaimItem">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                </elementType>
                                             </resultTypeSpecifier>
                                          </expression>
                                       </source>
                                       <where xsi:type="Not">
                                          <operand xsi:type="IsNull">
                                             <operand path="PaidClaim" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </operand>
                                          </operand>
                                       </where>
                                       <return>
                                          <expression path="PaidClaim" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </expression>
                                       </return>
                                    </value>
                                 </element>
                                 <element name="ServicePeriod">
                                    <value localId="965" locator="322:28-323:72" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </resultTypeSpecifier>
                                       <source localId="959" locator="322:28-322:82" alias="PaidItem">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="958" locator="322:28-322:73" xsi:type="Flatten">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand xsi:type="Query">
                                                <source alias="$this">
                                                   <expression path="AggregateClaim" scope="ClaimWithPaidResponse" xsi:type="Property"/>
                                                </source>
                                                <where xsi:type="Not">
                                                   <operand xsi:type="IsNull">
                                                      <operand path="ClaimItem" xsi:type="Property">
                                                         <source name="$this" xsi:type="AliasRef"/>
                                                      </operand>
                                                   </operand>
                                                </where>
                                                <return>
                                                   <expression path="ClaimItem" xsi:type="Property">
                                                      <source name="$this" xsi:type="AliasRef"/>
                                                   </expression>
                                                </return>
                                             </operand>
                                          </expression>
                                       </source>
                                       <return localId="964" locator="323:15-323:72">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </resultTypeSpecifier>
                                          <expression localId="963" locator="323:22-323:72" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand localId="962" locator="323:54-323:70" path="serviced" scope="PaidItem" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </operand>
                                          </expression>
                                       </return>
                                    </value>
                                 </element>
                              </then>
                              <else xsi:type="As">
                                 <operand localId="967" locator="326:16-326:19" resultTypeName="t:Any" xsi:type="Null"/>
                                 <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="originalClaim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </asTypeSpecifier>
                              </else>
                           </expression>
                        </source>
                        <where localId="971" locator="328:9-328:35" resultTypeName="t:Boolean" xsi:type="Not">
                           <operand locator="328:15-328:35" resultTypeName="t:Boolean" xsi:type="IsNull">
                              <operand localId="970" locator="328:15-328:23" name="FinalList" xsi:type="AliasRef">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="originalClaim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                              </operand>
                           </operand>
                        </where>
                     </expression>
                  </return>
               </expression>
            </return>
         </expression>
         <operand name="claimResponse">
            <operandTypeSpecifier localId="801" locator="301:85-301:108" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="800" locator="301:90-301:107" resultTypeName="fhir:ClaimResponse" name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="claim">
            <operandTypeSpecifier localId="803" locator="301:117-301:132" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="802" locator="301:122-301:131" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="805" locator="301:160-301:176" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="804" locator="301:165-301:175" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="DiagnosisValueSet">
            <operandTypeSpecifier localId="807" locator="301:197-301:213" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="806" locator="301:202-301:212" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="986" locator="258:1-264:31" name="Get Paid Claims for Provided Service and Condition" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="986">
               <a:s>define function &quot;Get Paid Claims for Provided Service and Condition&quot;(claimResponse </a:s>
               <a:s r="765">
                  <a:s>List&lt;</a:s>
                  <a:s r="764">
                     <a:s>FHIR.ClaimResponse</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, claim </a:s>
               <a:s r="767">
                  <a:s>List&lt;</a:s>
                  <a:s r="766">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="769">
                  <a:s>List&lt;</a:s>
                  <a:s r="768">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, DiagnosisValueSet </a:s>
               <a:s r="771">
                  <a:s>List&lt;</a:s>
                  <a:s r="770">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="985">
                  <a:s r="985">
                     <a:s>
                        <a:s r="982">
                           <a:s r="981">
                              <a:s>( </a:s>
                              <a:s r="981">
                                 <a:s>
                                    <a:s r="785">
                                       <a:s r="784">
                                          <a:s>( </a:s>
                                          <a:s r="784">
                                             <a:s>&quot;Get All Professional and Institutional Claims and Claim Responses&quot;(</a:s>
                                             <a:s r="772">
                                                <a:s>claimResponse</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="773">
                                                <a:s>claim</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> MedicalClaimAndResponse</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
    </a:s>
                                 <a:s r="980">
                                    <a:s>return </a:s>
                                    <a:s r="979">
                                       <a:s>if </a:s>
                                       <a:s r="792">
                                          <a:s>( </a:s>
                                          <a:s r="792">
                                             <a:s r="788">
                                                <a:s r="787">
                                                   <a:s r="786">
                                                      <a:s>MedicalClaimAndResponse</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="787">
                                                      <a:s>&quot;MedicalClaimResponse&quot;</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> is null</a:s>
                                             </a:s>
                                             <a:s>&#xd;
        and </a:s>
                                             <a:s r="791">
                                                <a:s r="790">
                                                   <a:s r="789">
                                                      <a:s>MedicalClaimAndResponse</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="790">
                                                      <a:s>&quot;MedicalClaim&quot;</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> is null</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>&#xd;
    )</a:s>
                                       </a:s>
                                       <a:s r="793"> then null &#xd;
      else </a:s>
                                       <a:s r="978">
                                          <a:s>&quot;Get Corresponding Claim for Services and Conditions&quot;(</a:s>
                                          <a:s r="795">
                                             <a:s r="794">
                                                <a:s>MedicalClaimAndResponse</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="795">
                                                <a:s>&quot;MedicalClaimResponse&quot;</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="797">
                                             <a:s r="796">
                                                <a:s>MedicalClaimAndResponse</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="797">
                                                <a:s>&quot;MedicalClaim&quot;</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="798">
                                             <a:s>ProductOrServiceValueSet</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="799">
                                             <a:s>DiagnosisValueSet</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> FinalList</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="984">
                        <a:s>where </a:s>
                        <a:s r="984">
                           <a:s r="983">
                              <a:s>FinalList</a:s>
                           </a:s>
                           <a:s> is not null</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="originalClaim">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="ClaimofInterest">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ClaimID">
                        <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItems">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </elementType>
               </type>
            </element>
            <element name="ServicePeriod">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </type>
            </element>
         </resultTypeSpecifier>
         <expression localId="985" locator="259:3-264:31" xsi:type="Query">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="originalClaim">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="ClaimofInterest">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ClaimID">
                           <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="LineItems">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </elementType>
                  </type>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </resultTypeSpecifier>
            <source localId="982" locator="259:3-263:208" alias="FinalList">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="originalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="ClaimofInterest">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ClaimID">
                              <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="981" locator="259:3-263:198" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="originalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="ClaimofInterest">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ClaimID">
                                 <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <source localId="785" locator="259:5-259:120" alias="MedicalClaimAndResponse">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="MedicalClaimResponse">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                        <element name="MedicalClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="784" locator="259:5-259:96" name="Get All Professional and Institutional Claims and Claim Responses" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="MedicalClaimResponse">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                           <element name="MedicalClaim">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <operand localId="772" locator="259:75-259:87" name="claimResponse" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                        <operand localId="773" locator="259:90-259:94" name="claim" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </expression>
                  </source>
                  <return localId="980" locator="260:5-263:197">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="originalClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="ClaimofInterest">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ClaimID">
                                    <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="LineItems">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="979" locator="260:12-263:197" xsi:type="If">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="originalClaim">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="ClaimofInterest">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="ClaimID">
                                       <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="LineItems">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </elementType>
                              </type>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <condition asType="t:Boolean" xsi:type="As">
                           <operand localId="792" locator="260:15-262:5" resultTypeName="t:Boolean" xsi:type="And">
                              <operand localId="788" locator="260:17-260:70" resultTypeName="t:Boolean" xsi:type="IsNull">
                                 <operand localId="787" locator="260:17-260:62" path="MedicalClaimResponse" scope="MedicalClaimAndResponse" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </operand>
                              </operand>
                              <operand localId="791" locator="261:13-261:58" resultTypeName="t:Boolean" xsi:type="IsNull">
                                 <operand localId="790" locator="261:13-261:50" path="MedicalClaim" scope="MedicalClaimAndResponse" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </operand>
                              </operand>
                           </operand>
                        </condition>
                        <then xsi:type="As">
                           <operand localId="793" locator="262:12-262:15" resultTypeName="t:Any" xsi:type="Null"/>
                           <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="originalClaim">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="ClaimofInterest">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ClaimID">
                                          <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItems">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </elementType>
                                 </type>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </asTypeSpecifier>
                        </then>
                        <else localId="978" locator="263:12-263:197" name="Get Corresponding Claim for Services and Conditions" xsi:type="FunctionRef">
                           <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="originalClaim">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="ClaimofInterest">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ClaimID">
                                          <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItems">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </elementType>
                                 </type>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </resultTypeSpecifier>
                           <operand localId="795" locator="263:66-263:111" path="MedicalClaimResponse" scope="MedicalClaimAndResponse" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                           <operand localId="797" locator="263:114-263:151" path="MedicalClaim" scope="MedicalClaimAndResponse" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                           <operand localId="798" locator="263:154-263:177" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                           <operand localId="799" locator="263:180-263:196" name="DiagnosisValueSet" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                        </else>
                     </expression>
                  </return>
               </expression>
            </source>
            <where localId="984" locator="264:5-264:31" resultTypeName="t:Boolean" xsi:type="Not">
               <operand locator="264:11-264:31" resultTypeName="t:Boolean" xsi:type="IsNull">
                  <operand localId="983" locator="264:11-264:19" name="FinalList" xsi:type="AliasRef">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="originalClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="ClaimofInterest">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ClaimID">
                                    <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="LineItems">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                  </operand>
               </operand>
            </where>
         </expression>
         <operand name="claimResponse">
            <operandTypeSpecifier localId="765" locator="258:84-258:107" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="764" locator="258:89-258:106" resultTypeName="fhir:ClaimResponse" name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="claim">
            <operandTypeSpecifier localId="767" locator="258:116-258:131" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="766" locator="258:121-258:130" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="769" locator="258:159-258:175" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="768" locator="258:164-258:174" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="DiagnosisValueSet">
            <operandTypeSpecifier localId="771" locator="258:196-258:212" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="770" locator="258:201-258:211" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="1102" locator="460:1-488:5" name="Get All Claims With Procedure or Diagnosis" context="Unfiltered" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="1102">
               <a:s>define function &quot;Get All Claims With Procedure or Diagnosis&quot;(claim </a:s>
               <a:s r="1027">
                  <a:s>List&lt;</a:s>
                  <a:s r="1026">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="1029">
                  <a:s>List&lt;</a:s>
                  <a:s r="1028">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, DiagnosisValueSet </a:s>
               <a:s r="1031">
                  <a:s>List&lt;</a:s>
                  <a:s r="1030">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="1101">
                  <a:s r="1101">
                     <a:s>
                        <a:s r="1057">
                           <a:s r="1056">
                              <a:s>( </a:s>
                              <a:s r="1056">
                                 <a:s>
                                    <a:s r="1033">
                                       <a:s r="1032">
                                          <a:s>
                                             <a:s>claim</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> AllClaims</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
    </a:s>
                                 <a:s r="1055">
                                    <a:s>where </a:s>
                                    <a:s r="1055">
                                       <a:s r="1042">
                                          <a:s>exists </a:s>
                                          <a:s r="1041">
                                             <a:s>( </a:s>
                                             <a:s r="1041">
                                                <a:s>
                                                   <a:s r="1035">
                                                      <a:s r="1034">
                                                         <a:s>
                                                            <a:s>AllClaims.item.productOrService.coding</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> ProductOrServiceCode</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
        </a:s>
                                                <a:s r="1040">
                                                   <a:s>where </a:s>
                                                   <a:s r="1040">
                                                      <a:s r="1038">
                                                         <a:s r="1036">
                                                            <a:s>FHIRHelpers</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="1038">
                                                            <a:s>ToCode ( </a:s>
                                                            <a:s r="1037">
                                                               <a:s>ProductOrServiceCode</a:s>
                                                            </a:s>
                                                            <a:s> )</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> in </a:s>
                                                      <a:s r="1039">
                                                         <a:s>ProductOrServiceValueSet</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
    )</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      or </a:s>
                                       <a:s r="1054">
                                          <a:s>exists </a:s>
                                          <a:s r="1053">
                                             <a:s>( </a:s>
                                             <a:s r="1053">
                                                <a:s>
                                                   <a:s r="1047">
                                                      <a:s r="1046">
                                                         <a:s>( </a:s>
                                                         <a:s r="1046">
                                                            <a:s r="1045">
                                                               <a:s r="1044">
                                                                  <a:s r="1043">
                                                                     <a:s>AllClaims</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="1044">
                                                                     <a:s>diagnosis</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="1045">
                                                                  <a:s>diagnosis</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="1046">
                                                               <a:s>coding</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> )</a:s>
                                                      </a:s>
                                                      <a:s> DiagnosisCode</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
          </a:s>
                                                <a:s r="1052">
                                                   <a:s>where </a:s>
                                                   <a:s r="1052">
                                                      <a:s r="1050">
                                                         <a:s r="1048">
                                                            <a:s>FHIRHelpers</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="1050">
                                                            <a:s>ToCode ( </a:s>
                                                            <a:s r="1049">
                                                               <a:s>DiagnosisCode</a:s>
                                                            </a:s>
                                                            <a:s> )</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> in </a:s>
                                                      <a:s r="1051">
                                                         <a:s>DiagnosisValueSet</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
      )</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ProcedureClaims</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="1100">
                        <a:s>return </a:s>
                        <a:s r="1099">
                           <a:s>( </a:s>
                           <a:s r="1099">
                              <a:s>if </a:s>
                              <a:s r="1070">
                                 <a:s>exists </a:s>
                                 <a:s r="1069">
                                    <a:s>( </a:s>
                                    <a:s r="1069">
                                       <a:s>
                                          <a:s r="1059">
                                             <a:s r="1058">
                                                <a:s>
                                                   <a:s>ProcedureClaims.item</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> ResponseItem</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
          </a:s>
                                       <a:s r="1068">
                                          <a:s>where </a:s>
                                          <a:s r="1068">
                                             <a:s>exists </a:s>
                                             <a:s r="1067">
                                                <a:s>( </a:s>
                                                <a:s r="1067">
                                                   <a:s>
                                                      <a:s r="1061">
                                                         <a:s r="1060">
                                                            <a:s>
                                                               <a:s>ResponseItem.productOrService.coding</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> ProductOrServiceCode</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
              </a:s>
                                                   <a:s r="1066">
                                                      <a:s>where </a:s>
                                                      <a:s r="1066">
                                                         <a:s r="1064">
                                                            <a:s r="1062">
                                                               <a:s>FHIRHelpers</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="1064">
                                                               <a:s>ToCode ( </a:s>
                                                               <a:s r="1063">
                                                                  <a:s>ProductOrServiceCode</a:s>
                                                               </a:s>
                                                               <a:s> )</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> in </a:s>
                                                         <a:s r="1065">
                                                            <a:s>ProductOrServiceValueSet</a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
          )</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
      )</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> then </a:s>
                              <a:s r="1086">
                                 <a:s>( </a:s>
                                 <a:s r="1086">
                                    <a:s>Tuple {&#xd;
          </a:s>
                                    <a:s>
                                       <a:s>&quot;ClaimofInterest&quot;: </a:s>
                                       <a:s r="1071">
                                          <a:s>ProcedureClaims</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>,&#xd;
          </a:s>
                                    <a:s>
                                       <a:s>&quot;ClaimID&quot;: </a:s>
                                       <a:s r="1073">
                                          <a:s r="1072">
                                             <a:s>ProcedureClaims</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1073">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>,&#xd;
          </a:s>
                                    <a:s>
                                       <a:s>&quot;LineItems&quot;: </a:s>
                                       <a:s r="1085">
                                          <a:s>
                                             <a:s r="1075">
                                                <a:s r="1074">
                                                   <a:s>
                                                      <a:s>ProcedureClaims.item</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> ResponseItem</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>&#xd;
            </a:s>
                                          <a:s r="1084">
                                             <a:s>where </a:s>
                                             <a:s r="1084">
                                                <a:s>exists </a:s>
                                                <a:s r="1083">
                                                   <a:s>( </a:s>
                                                   <a:s r="1083">
                                                      <a:s>
                                                         <a:s r="1077">
                                                            <a:s r="1076">
                                                               <a:s>
                                                                  <a:s>ResponseItem.productOrService.coding</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s> ProductOrServiceCode</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>&#xd;
                </a:s>
                                                      <a:s r="1082">
                                                         <a:s>where </a:s>
                                                         <a:s r="1082">
                                                            <a:s r="1080">
                                                               <a:s r="1078">
                                                                  <a:s>FHIRHelpers</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="1080">
                                                                  <a:s>ToCode ( </a:s>
                                                                  <a:s r="1079">
                                                                     <a:s>ProductOrServiceCode</a:s>
                                                                  </a:s>
                                                                  <a:s> )</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s> in </a:s>
                                                            <a:s r="1081">
                                                               <a:s>ProductOrServiceValueSet</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
            )</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
        }</a:s>
                                 </a:s>
                                 <a:s>&#xd;
      )</a:s>
                              </a:s>
                              <a:s> &#xd;
        else </a:s>
                              <a:s r="1098">
                                 <a:s>( </a:s>
                                 <a:s r="1098">
                                    <a:s>Tuple {&#xd;
          </a:s>
                                    <a:s>
                                       <a:s>&quot;ClaimofInterest&quot;: </a:s>
                                       <a:s r="1087">
                                          <a:s>ProcedureClaims</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>,&#xd;
          </a:s>
                                    <a:s>
                                       <a:s>&quot;ClaimID&quot;: </a:s>
                                       <a:s r="1089">
                                          <a:s r="1088">
                                             <a:s>ProcedureClaims</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1089">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>,&#xd;
          </a:s>
                                    <a:s>
                                       <a:s>&quot;LineItems&quot;: </a:s>
                                       <a:s r="1097">
                                          <a:s>
                                             <a:s r="1091">
                                                <a:s r="1090">
                                                   <a:s>
                                                      <a:s>ProcedureClaims.item</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> ResponseItem</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>&#xd;
            </a:s>
                                          <a:s r="1096">
                                             <a:s>where </a:s>
                                             <a:s r="1096">
                                                <a:s r="1094">
                                                   <a:s r="1093">
                                                      <a:s r="1092">
                                                         <a:s>ResponseItem</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="1093">
                                                         <a:s>sequence</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1094">
                                                      <a:s>value</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s r="1095"> = 1</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
        }</a:s>
                                 </a:s>
                                 <a:s>&#xd;
      )</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
    )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="ClaimofInterest">
                  <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="ClaimID">
                  <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="LineItems">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="1101" locator="461:3-488:5" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="ClaimofInterest">
                     <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="ClaimID">
                     <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="LineItems">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="1057" locator="461:3-467:25" alias="ProcedureClaims">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="1056" locator="461:3-467:9" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source localId="1033" locator="461:5-461:19" alias="AllClaims">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <expression localId="1032" locator="461:5-461:9" name="claim" xsi:type="OperandRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where localId="1055" locator="462:5-467:7" resultTypeName="t:Boolean" xsi:type="Or">
                     <operand localId="1042" locator="462:11-464:5" resultTypeName="t:Boolean" xsi:type="Exists">
                        <operand localId="1041" locator="462:18-464:5" xsi:type="Query">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <source localId="1035" locator="462:20-462:78" alias="ProductOrServiceCode">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <expression localId="1034" locator="462:20-462:57" xsi:type="Flatten">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand xsi:type="Query">
                                    <source alias="$this">
                                       <expression xsi:type="Query">
                                          <source alias="$this">
                                             <expression path="item" scope="AllClaims" xsi:type="Property"/>
                                          </source>
                                          <where xsi:type="Not">
                                             <operand xsi:type="IsNull">
                                                <operand path="productOrService" xsi:type="Property">
                                                   <source name="$this" xsi:type="AliasRef"/>
                                                </operand>
                                             </operand>
                                          </where>
                                          <return>
                                             <expression path="productOrService" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </expression>
                                          </return>
                                       </expression>
                                    </source>
                                    <where xsi:type="Not">
                                       <operand xsi:type="IsNull">
                                          <operand path="coding" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </operand>
                                       </operand>
                                    </where>
                                    <return>
                                       <expression path="coding" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </expression>
                                    </return>
                                 </operand>
                              </expression>
                           </source>
                           <where localId="1040" locator="463:9-463:85" resultTypeName="t:Boolean" xsi:type="In">
                              <operand localId="1038" locator="463:15-463:57" resultTypeName="t:Code" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1037" locator="463:36-463:55" resultTypeName="fhir:Coding" name="ProductOrServiceCode" xsi:type="AliasRef"/>
                              </operand>
                              <operand localId="1039" locator="463:62-463:85" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </operand>
                           </where>
                        </operand>
                     </operand>
                     <operand localId="1054" locator="465:10-467:7" resultTypeName="t:Boolean" xsi:type="Exists">
                        <operand localId="1053" locator="465:17-467:7" xsi:type="Query">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <source localId="1047" locator="465:19-465:72" alias="DiagnosisCode">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <expression localId="1046" locator="465:19-465:58" xsi:type="Flatten">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <operand xsi:type="Query">
                                    <source alias="$this">
                                       <expression localId="1045" locator="465:21-465:49" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="ChoiceTypeSpecifier">
                                                <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </resultTypeSpecifier>
                                          <source alias="$this">
                                             <expression localId="1044" locator="465:21-465:39" path="diagnosis" scope="AllClaims" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Diagnosis" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </expression>
                                          </source>
                                          <where xsi:type="Not">
                                             <operand xsi:type="IsNull">
                                                <operand path="diagnosis" xsi:type="Property">
                                                   <source name="$this" xsi:type="AliasRef"/>
                                                </operand>
                                             </operand>
                                          </where>
                                          <return>
                                             <expression path="diagnosis" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </expression>
                                          </return>
                                       </expression>
                                    </source>
                                    <where xsi:type="Not">
                                       <operand xsi:type="IsNull">
                                          <operand path="coding" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </operand>
                                       </operand>
                                    </where>
                                    <return>
                                       <expression path="coding" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </expression>
                                    </return>
                                 </operand>
                              </expression>
                           </source>
                           <where localId="1052" locator="466:11-466:73" resultTypeName="t:Boolean" xsi:type="In">
                              <operand localId="1050" locator="466:17-466:52" resultTypeName="t:Code" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1049" locator="466:38-466:50" resultTypeName="fhir:Coding" name="DiagnosisCode" xsi:type="AliasRef"/>
                              </operand>
                              <operand localId="1051" locator="466:57-466:73" name="DiagnosisValueSet" xsi:type="OperandRef">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </operand>
                           </where>
                        </operand>
                     </operand>
                  </where>
               </expression>
            </source>
            <return localId="1100" locator="468:5-488:5">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="ClaimofInterest">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ClaimID">
                        <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItems">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="1099" locator="468:12-488:5" xsi:type="If">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="ClaimofInterest">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ClaimID">
                        <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItems">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <condition asType="t:Boolean" xsi:type="As">
                     <operand localId="1070" locator="468:17-472:7" resultTypeName="t:Boolean" xsi:type="Exists">
                        <operand localId="1069" locator="468:24-472:7" xsi:type="Query">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <source localId="1059" locator="468:26-468:58" alias="ResponseItem">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <expression localId="1058" locator="468:26-468:45" path="item" scope="ProcedureClaims" xsi:type="Property">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </expression>
                           </source>
                           <where localId="1068" locator="469:11-471:11" resultTypeName="t:Boolean" xsi:type="Exists">
                              <operand localId="1067" locator="469:24-471:11" xsi:type="Query">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <source localId="1061" locator="469:26-469:82" alias="ProductOrServiceCode">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <expression localId="1060" locator="469:26-469:61" path="coding" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <source path="productOrService" scope="ResponseItem" xsi:type="Property"/>
                                    </expression>
                                 </source>
                                 <where localId="1066" locator="470:15-470:91" resultTypeName="t:Boolean" xsi:type="In">
                                    <operand localId="1064" locator="470:21-470:63" resultTypeName="t:Code" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="1063" locator="470:42-470:61" resultTypeName="fhir:Coding" name="ProductOrServiceCode" xsi:type="AliasRef"/>
                                    </operand>
                                    <operand localId="1065" locator="470:68-470:91" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                    </operand>
                                 </where>
                              </operand>
                           </where>
                        </operand>
                     </operand>
                  </condition>
                  <then localId="1086" locator="472:14-480:7" xsi:type="Tuple">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="ClaimofInterest">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ClaimID">
                           <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="LineItems">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <element name="ClaimofInterest">
                        <value localId="1071" locator="473:30-473:44" resultTypeName="fhir:Claim" name="ProcedureClaims" xsi:type="AliasRef"/>
                     </element>
                     <element name="ClaimID">
                        <value localId="1073" locator="474:22-474:39" resultTypeName="fhir:id" path="id" scope="ProcedureClaims" xsi:type="Property"/>
                     </element>
                     <element name="LineItems">
                        <value localId="1085" locator="475:24-478:13" xsi:type="Query">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <source localId="1075" locator="475:24-475:56" alias="ResponseItem">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <expression localId="1074" locator="475:24-475:43" path="item" scope="ProcedureClaims" xsi:type="Property">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </expression>
                           </source>
                           <where localId="1084" locator="476:13-478:13" resultTypeName="t:Boolean" xsi:type="Exists">
                              <operand localId="1083" locator="476:26-478:13" xsi:type="Query">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <source localId="1077" locator="476:28-476:84" alias="ProductOrServiceCode">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <expression localId="1076" locator="476:28-476:63" path="coding" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <source path="productOrService" scope="ResponseItem" xsi:type="Property"/>
                                    </expression>
                                 </source>
                                 <where localId="1082" locator="477:17-477:93" resultTypeName="t:Boolean" xsi:type="In">
                                    <operand localId="1080" locator="477:23-477:65" resultTypeName="t:Code" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="1079" locator="477:44-477:63" resultTypeName="fhir:Coding" name="ProductOrServiceCode" xsi:type="AliasRef"/>
                                    </operand>
                                    <operand localId="1081" locator="477:70-477:93" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                    </operand>
                                 </where>
                              </operand>
                           </where>
                        </value>
                     </element>
                  </then>
                  <else localId="1098" locator="481:14-487:7" xsi:type="Tuple">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="ClaimofInterest">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ClaimID">
                           <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="LineItems">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <element name="ClaimofInterest">
                        <value localId="1087" locator="482:30-482:44" resultTypeName="fhir:Claim" name="ProcedureClaims" xsi:type="AliasRef"/>
                     </element>
                     <element name="ClaimID">
                        <value localId="1089" locator="483:22-483:39" resultTypeName="fhir:id" path="id" scope="ProcedureClaims" xsi:type="Property"/>
                     </element>
                     <element name="LineItems">
                        <value localId="1097" locator="484:24-485:49" xsi:type="Query">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <source localId="1091" locator="484:24-484:56" alias="ResponseItem">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <expression localId="1090" locator="484:24-484:43" path="item" scope="ProcedureClaims" xsi:type="Property">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                              </expression>
                           </source>
                           <where localId="1096" locator="485:13-485:49" resultTypeName="t:Boolean" xsi:type="Equal">
                              <operand localId="1094" locator="485:19-485:45" resultTypeName="t:Integer" path="value" xsi:type="Property">
                                 <source localId="1093" locator="485:19-485:39" resultTypeName="fhir:positiveInt" path="sequence" scope="ResponseItem" xsi:type="Property"/>
                              </operand>
                              <operand localId="1095" locator="485:49" resultTypeName="t:Integer" valueType="t:Integer" value="1" xsi:type="Literal"/>
                           </where>
                        </value>
                     </element>
                  </else>
               </expression>
            </return>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="1027" locator="460:68-460:83" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1026" locator="460:73-460:82" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="1029" locator="460:111-460:127" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1028" locator="460:116-460:126" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="DiagnosisValueSet">
            <operandTypeSpecifier localId="1031" locator="460:148-460:164" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1030" locator="460:153-460:163" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="1168" locator="330:1-357:35" name="Get Corresponding Claim for Services or Conditions" context="Unfiltered" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="1168">
               <a:s>define function &quot;Get Corresponding Claim for Services or Conditions&quot;(claimResponse </a:s>
               <a:s r="1014">
                  <a:s>List&lt;</a:s>
                  <a:s r="1013">
                     <a:s>FHIR.ClaimResponse</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, claim </a:s>
               <a:s r="1016">
                  <a:s>List&lt;</a:s>
                  <a:s r="1015">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="1018">
                  <a:s>List&lt;</a:s>
                  <a:s r="1017">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, DiagnosisValueSet </a:s>
               <a:s r="1020">
                  <a:s>List&lt;</a:s>
                  <a:s r="1019">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="1167">
                  <a:s r="1167">
                     <a:s>
                        <a:s r="1105">
                           <a:s r="1104">
                              <a:s>( </a:s>
                              <a:s r="1104">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;PaidMedicalClaimResponse&quot;: </a:s>
                                    <a:s r="1022">
                                       <a:s>&quot;Get All Paid Claim Reponses&quot;(</a:s>
                                       <a:s r="1021">
                                          <a:s>claimResponse</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;MedicalClaim&quot;: </a:s>
                                    <a:s r="1103">
                                       <a:s>&quot;Get All Claims With Procedure or Diagnosis&quot;(</a:s>
                                       <a:s r="1023">
                                          <a:s>claim</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="1024">
                                          <a:s>ProductOrServiceValueSet</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="1025">
                                          <a:s>DiagnosisValueSet</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimAndResponse</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="1166">
                        <a:s>return </a:s>
                        <a:s r="1165">
                           <a:s>
                              <a:s r="1141">
                                 <a:s r="1140">
                                    <a:s>( </a:s>
                                    <a:s r="1140">
                                       <a:s>Tuple {&#xd;
      </a:s>
                                       <a:s>
                                          <a:s>AggregateClaim: </a:s>
                                          <a:s r="1139">
                                             <a:s>
                                                <a:s r="1107">
                                                   <a:s r="1106">
                                                      <a:s>
                                                         <a:s>ClaimAndResponse.MedicalClaim</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> medClaim</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s>
                                                <a:s>let </a:s>
                                                <a:s r="1134">
                                                   <a:s>lItem: </a:s>
                                                   <a:s r="1133">
                                                      <a:s>( </a:s>
                                                      <a:s r="1133">
                                                         <a:s>
                                                            <a:s r="1109">
                                                               <a:s r="1108">
                                                                  <a:s>
                                                                     <a:s>medClaim.LineItems</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s> medClaimLineItem</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
            </a:s>
                                                         <a:s r="1132">
                                                            <a:s>where </a:s>
                                                            <a:s r="1132">
                                                               <a:s>exists </a:s>
                                                               <a:s r="1131">
                                                                  <a:s>( </a:s>
                                                                  <a:s r="1131">
                                                                     <a:s>
                                                                        <a:s r="1111">
                                                                           <a:s r="1110">
                                                                              <a:s>
                                                                                 <a:s>ClaimAndResponse.&quot;PaidMedicalClaimResponse&quot;</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> pClaim</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
                </a:s>
                                                                     <a:s r="1130">
                                                                        <a:s>with </a:s>
                                                                        <a:s r="1113">
                                                                           <a:s r="1112">
                                                                              <a:s>
                                                                                 <a:s>pClaim.LineItems</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> pClaimLineItem</a:s>
                                                                        </a:s>
                                                                        <a:s>&#xd;
                  such that </a:s>
                                                                        <a:s r="1129">
                                                                           <a:s r="1123">
                                                                              <a:s r="1116">
                                                                                 <a:s r="1115">
                                                                                    <a:s r="1114">
                                                                                       <a:s>medClaim</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1115">
                                                                                       <a:s>ClaimofInterest</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1116">
                                                                                    <a:s>id</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> = </a:s>
                                                                              <a:s r="1122">
                                                                                 <a:s r="1117">
                                                                                    <a:s>FHIRBase</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1122">
                                                                                    <a:s>GetId ( </a:s>
                                                                                    <a:s r="1121">
                                                                                       <a:s r="1120">
                                                                                          <a:s r="1119">
                                                                                             <a:s r="1118">
                                                                                                <a:s>pClaim</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="1119">
                                                                                                <a:s>Response</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="1120">
                                                                                             <a:s>request</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1121">
                                                                                          <a:s>reference</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s> )</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
                    and </a:s>
                                                                           <a:s r="1128">
                                                                              <a:s r="1125">
                                                                                 <a:s r="1124">
                                                                                    <a:s>medClaimLineItem</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1125">
                                                                                    <a:s>sequence</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> = </a:s>
                                                                              <a:s r="1127">
                                                                                 <a:s r="1126">
                                                                                    <a:s>pClaimLineItem</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1127">
                                                                                    <a:s>itemSequence</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
            )</a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>&#xd;
        )</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s r="1138">
                                                <a:s>return </a:s>
                                                <a:s r="1137">
                                                   <a:s>Tuple {&#xd;
          </a:s>
                                                   <a:s>
                                                      <a:s>PaidClaim: </a:s>
                                                      <a:s r="1135">
                                                         <a:s>medClaim</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>,&#xd;
          </a:s>
                                                   <a:s>
                                                      <a:s>ClaimItem: </a:s>
                                                      <a:s r="1136">
                                                         <a:s>lItem</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
        }</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
    }</a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s> ClaimWithPaidResponse</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="1164">
                              <a:s>return </a:s>
                              <a:s r="1163">
                                 <a:s>
                                    <a:s r="1160">
                                       <a:s r="1159">
                                          <a:s>( </a:s>
                                          <a:s r="1159">
                                             <a:s>( </a:s>
                                             <a:s r="1159">
                                                <a:s>if </a:s>
                                                <a:s r="1145">
                                                   <a:s>exists </a:s>
                                                   <a:s r="1144">
                                                      <a:s r="1143">
                                                         <a:s r="1142">
                                                            <a:s>ClaimWithPaidResponse</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="1143">
                                                            <a:s>AggregateClaim</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="1144">
                                                         <a:s>&quot;ClaimItem&quot;</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> then </a:s>
                                                <a:s r="1157">
                                                   <a:s>( </a:s>
                                                   <a:s r="1157">
                                                      <a:s>Tuple {&#xd;
            </a:s>
                                                      <a:s>
                                                         <a:s>originalClaim: </a:s>
                                                         <a:s r="1148">
                                                            <a:s r="1147">
                                                               <a:s r="1146">
                                                                  <a:s>ClaimWithPaidResponse</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="1147">
                                                                  <a:s>AggregateClaim</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="1148">
                                                               <a:s>PaidClaim</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>,&#xd;
            </a:s>
                                                      <a:s>
                                                         <a:s>ServicePeriod: </a:s>
                                                         <a:s r="1156">
                                                            <a:s>
                                                               <a:s r="1150">
                                                                  <a:s r="1149">
                                                                     <a:s>
                                                                        <a:s>ClaimWithPaidResponse.AggregateClaim.ClaimItem</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> PaidItem</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
              </a:s>
                                                            <a:s r="1155">
                                                               <a:s>return </a:s>
                                                               <a:s r="1154">
                                                                  <a:s r="1151">
                                                                     <a:s>FHIRBase</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="1154">
                                                                     <a:s>&quot;Normalize Interval&quot; ( </a:s>
                                                                     <a:s r="1153">
                                                                        <a:s r="1152">
                                                                           <a:s>PaidItem</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="1153">
                                                                           <a:s>serviced</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s> )</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>&#xd;
          }</a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
        )</a:s>
                                                </a:s>
                                                <a:s r="1158"> &#xd;
          else null</a:s>
                                             </a:s>
                                             <a:s>&#xd;
      )</a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                       <a:s> FinalList</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        </a:s>
                                 <a:s r="1162">
                                    <a:s>where </a:s>
                                    <a:s r="1162">
                                       <a:s r="1161">
                                          <a:s>FinalList</a:s>
                                       </a:s>
                                       <a:s> is not null</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="originalClaim">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="ClaimofInterest">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ClaimID">
                        <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItems">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </elementType>
               </type>
            </element>
            <element name="ServicePeriod">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </type>
            </element>
         </resultTypeSpecifier>
         <expression localId="1167" locator="331:3-357:35" xsi:type="Query">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="originalClaim">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="ClaimofInterest">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ClaimID">
                           <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="LineItems">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </elementType>
                  </type>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </resultTypeSpecifier>
            <source localId="1105" locator="331:3-334:22" alias="ClaimAndResponse">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="PaidMedicalClaimResponse">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="Response">
                              <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ResponseID">
                              <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
                  <element name="MedicalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="ClaimofInterest">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ClaimID">
                              <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1104" locator="331:3-334:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="PaidMedicalClaimResponse">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Response">
                                 <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ResponseID">
                                 <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                     <element name="MedicalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="ClaimofInterest">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ClaimID">
                                 <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="PaidMedicalClaimResponse">
                     <value localId="1022" locator="332:33-332:76" name="Get All Paid Claim Reponses" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Response">
                                 <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ResponseID">
                                 <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <operand localId="1021" locator="332:63-332:75" name="claimResponse" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
                  <element name="MedicalClaim">
                     <value localId="1103" locator="333:21-333:116" name="Get All Claims With Procedure or Diagnosis" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="ClaimofInterest">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ClaimID">
                                 <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <operand localId="1023" locator="333:66-333:70" name="claim" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                        <operand localId="1024" locator="333:73-333:96" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                        <operand localId="1025" locator="333:99-333:115" name="DiagnosisValueSet" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="1166" locator="335:5-357:35">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="originalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="ClaimofInterest">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ClaimID">
                              <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1165" locator="335:12-357:35" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="originalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="ClaimofInterest">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ClaimID">
                                 <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <source localId="1141" locator="335:12-348:29" alias="ClaimWithPaidResponse">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="AggregateClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="PaidClaim">
                                    <type xsi:type="TupleTypeSpecifier">
                                       <element name="ClaimofInterest">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ClaimID">
                                          <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItems">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </type>
                                 </element>
                                 <element name="ClaimItem">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="1140" locator="335:12-348:7" xsi:type="Tuple">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="AggregateClaim">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="PaidClaim">
                                       <type xsi:type="TupleTypeSpecifier">
                                          <element name="ClaimofInterest">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ClaimID">
                                             <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItems">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </type>
                                    </element>
                                    <element name="ClaimItem">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </elementType>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <element name="AggregateClaim">
                           <value localId="1139" locator="336:23-347:9" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="PaidClaim">
                                       <type xsi:type="TupleTypeSpecifier">
                                          <element name="ClaimofInterest">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ClaimID">
                                             <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItems">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </type>
                                    </element>
                                    <element name="ClaimItem">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </elementType>
                              </resultTypeSpecifier>
                              <source localId="1107" locator="336:23-336:60" alias="medClaim">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="ClaimofInterest">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ClaimID">
                                          <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItems">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </elementType>
                                 </resultTypeSpecifier>
                                 <expression localId="1106" locator="336:23-336:51" path="MedicalClaim" scope="ClaimAndResponse" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="TupleTypeSpecifier">
                                          <element name="ClaimofInterest">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ClaimID">
                                             <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItems">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </elementType>
                                    </resultTypeSpecifier>
                                 </expression>
                              </source>
                              <let localId="1134" locator="337:13-343:9" identifier="lItem">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="1133" locator="337:20-343:9" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <source localId="1109" locator="337:22-337:56" alias="medClaimLineItem">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <expression localId="1108" locator="337:22-337:39" path="LineItems" scope="medClaim" xsi:type="Property">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                       </expression>
                                    </source>
                                    <where localId="1132" locator="338:13-342:13" resultTypeName="t:Boolean" xsi:type="Exists">
                                       <operand localId="1131" locator="338:26-342:13" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="TupleTypeSpecifier">
                                                <element name="Response">
                                                   <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="ResponseID">
                                                   <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="LineItems">
                                                   <type xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                   </type>
                                                </element>
                                             </elementType>
                                          </resultTypeSpecifier>
                                          <source localId="1111" locator="338:28-338:77" alias="pClaim">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="TupleTypeSpecifier">
                                                   <element name="Response">
                                                      <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                   <element name="ResponseID">
                                                      <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                   <element name="LineItems">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                </elementType>
                                             </resultTypeSpecifier>
                                             <expression localId="1110" locator="338:28-338:70" path="PaidMedicalClaimResponse" scope="ClaimAndResponse" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="TupleTypeSpecifier">
                                                      <element name="Response">
                                                         <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                                                      </element>
                                                      <element name="ResponseID">
                                                         <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                      </element>
                                                      <element name="LineItems">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                         </type>
                                                      </element>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                             </expression>
                                          </source>
                                          <relationship localId="1130" locator="339:17-341:79" alias="pClaimLineItem" xsi:type="With">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <expression localId="1112" locator="339:22-339:37" path="LineItems" scope="pClaim" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </expression>
                                             <suchThat localId="1129" locator="340:29-341:79" resultTypeName="t:Boolean" xsi:type="And">
                                                <operand localId="1123" locator="340:29-340:110" resultTypeName="t:Boolean" xsi:type="Equal">
                                                   <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <operand localId="1116" locator="340:29-340:55" resultTypeName="fhir:id" path="id" xsi:type="Property">
                                                         <source localId="1115" locator="340:29-340:52" resultTypeName="fhir:Claim" path="ClaimofInterest" scope="medClaim" xsi:type="Property"/>
                                                      </operand>
                                                   </operand>
                                                   <operand localId="1122" locator="340:59-340:110" resultTypeName="t:String" name="GetId" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                      <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                         <operand localId="1121" locator="340:76-340:108" resultTypeName="fhir:string" path="reference" xsi:type="Property">
                                                            <source localId="1120" locator="340:76-340:98" resultTypeName="fhir:Reference" path="request" xsi:type="Property">
                                                               <source localId="1119" locator="340:76-340:90" resultTypeName="fhir:ClaimResponse" path="Response" scope="pClaim" xsi:type="Property"/>
                                                            </source>
                                                         </operand>
                                                      </operand>
                                                   </operand>
                                                </operand>
                                                <operand localId="1128" locator="341:25-341:79" resultTypeName="t:Boolean" xsi:type="Equal">
                                                   <operand localId="1125" locator="341:25-341:49" resultTypeName="fhir:positiveInt" path="sequence" scope="medClaimLineItem" xsi:type="Property"/>
                                                   <operand localId="1127" locator="341:53-341:79" resultTypeName="fhir:positiveInt" path="itemSequence" scope="pClaimLineItem" xsi:type="Property"/>
                                                </operand>
                                             </suchThat>
                                          </relationship>
                                       </operand>
                                    </where>
                                 </expression>
                              </let>
                              <return localId="1138" locator="344:9-347:9">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="PaidClaim">
                                          <type xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </type>
                                       </element>
                                       <element name="ClaimItem">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </elementType>
                                 </resultTypeSpecifier>
                                 <expression localId="1137" locator="344:16-347:9" xsi:type="Tuple">
                                    <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                       <element name="PaidClaim">
                                          <type xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </type>
                                       </element>
                                       <element name="ClaimItem">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </resultTypeSpecifier>
                                    <element name="PaidClaim">
                                       <value localId="1135" locator="345:22-345:29" name="medClaim" xsi:type="AliasRef">
                                          <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </resultTypeSpecifier>
                                       </value>
                                    </element>
                                    <element name="ClaimItem">
                                       <value localId="1136" locator="346:22-346:26" name="lItem" xsi:type="QueryLetRef">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                       </value>
                                    </element>
                                 </expression>
                              </return>
                           </value>
                        </element>
                     </expression>
                  </source>
                  <return localId="1164" locator="349:7-357:35">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="originalClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="ClaimofInterest">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ClaimID">
                                    <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="LineItems">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="1163" locator="349:14-357:35" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="originalClaim">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="ClaimofInterest">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="ClaimID">
                                       <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="LineItems">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </elementType>
                              </type>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <source localId="1160" locator="349:14-356:19" alias="FinalList">
                           <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="originalClaim">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="ClaimofInterest">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ClaimID">
                                          <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItems">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </elementType>
                                 </type>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </resultTypeSpecifier>
                           <expression localId="1159" locator="349:14-356:9" xsi:type="If">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="originalClaim">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="TupleTypeSpecifier">
                                          <element name="ClaimofInterest">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ClaimID">
                                             <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItems">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </elementType>
                                    </type>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </resultTypeSpecifier>
                              <condition asType="t:Boolean" xsi:type="As">
                                 <operand localId="1145" locator="349:21-349:75" resultTypeName="t:Boolean" xsi:type="Exists">
                                    <operand localId="1144" locator="349:28-349:75" xsi:type="Flatten">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <operand xsi:type="Query">
                                          <source alias="$this">
                                             <expression localId="1143" locator="349:28-349:63" path="AggregateClaim" scope="ClaimWithPaidResponse" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="TupleTypeSpecifier">
                                                      <element name="PaidClaim">
                                                         <type xsi:type="TupleTypeSpecifier">
                                                            <element name="ClaimofInterest">
                                                               <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                            </element>
                                                            <element name="ClaimID">
                                                               <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                                            </element>
                                                            <element name="LineItems">
                                                               <type xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                               </type>
                                                            </element>
                                                         </type>
                                                      </element>
                                                      <element name="ClaimItem">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                         </type>
                                                      </element>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                             </expression>
                                          </source>
                                          <where xsi:type="Not">
                                             <operand xsi:type="IsNull">
                                                <operand path="ClaimItem" xsi:type="Property">
                                                   <source name="$this" xsi:type="AliasRef"/>
                                                </operand>
                                             </operand>
                                          </where>
                                          <return>
                                             <expression path="ClaimItem" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </expression>
                                          </return>
                                       </operand>
                                    </operand>
                                 </operand>
                              </condition>
                              <then localId="1157" locator="349:82-354:9" xsi:type="Tuple">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="originalClaim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                                 <element name="originalClaim">
                                    <value localId="1148" locator="350:28-350:73" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </elementType>
                                       </resultTypeSpecifier>
                                       <source alias="$this">
                                          <expression localId="1147" locator="350:28-350:63" path="AggregateClaim" scope="ClaimWithPaidResponse" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="TupleTypeSpecifier">
                                                   <element name="PaidClaim">
                                                      <type xsi:type="TupleTypeSpecifier">
                                                         <element name="ClaimofInterest">
                                                            <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                         </element>
                                                         <element name="ClaimID">
                                                            <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                                         </element>
                                                         <element name="LineItems">
                                                            <type xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                            </type>
                                                         </element>
                                                      </type>
                                                   </element>
                                                   <element name="ClaimItem">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                </elementType>
                                             </resultTypeSpecifier>
                                          </expression>
                                       </source>
                                       <where xsi:type="Not">
                                          <operand xsi:type="IsNull">
                                             <operand path="PaidClaim" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </operand>
                                          </operand>
                                       </where>
                                       <return>
                                          <expression path="PaidClaim" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </expression>
                                       </return>
                                    </value>
                                 </element>
                                 <element name="ServicePeriod">
                                    <value localId="1156" locator="351:28-352:72" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </resultTypeSpecifier>
                                       <source localId="1150" locator="351:28-351:82" alias="PaidItem">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="1149" locator="351:28-351:73" xsi:type="Flatten">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand xsi:type="Query">
                                                <source alias="$this">
                                                   <expression path="AggregateClaim" scope="ClaimWithPaidResponse" xsi:type="Property"/>
                                                </source>
                                                <where xsi:type="Not">
                                                   <operand xsi:type="IsNull">
                                                      <operand path="ClaimItem" xsi:type="Property">
                                                         <source name="$this" xsi:type="AliasRef"/>
                                                      </operand>
                                                   </operand>
                                                </where>
                                                <return>
                                                   <expression path="ClaimItem" xsi:type="Property">
                                                      <source name="$this" xsi:type="AliasRef"/>
                                                   </expression>
                                                </return>
                                             </operand>
                                          </expression>
                                       </source>
                                       <return localId="1155" locator="352:15-352:72">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </resultTypeSpecifier>
                                          <expression localId="1154" locator="352:22-352:72" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand localId="1153" locator="352:54-352:70" path="serviced" scope="PaidItem" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </operand>
                                          </expression>
                                       </return>
                                    </value>
                                 </element>
                              </then>
                              <else xsi:type="As">
                                 <operand localId="1158" locator="355:16-355:19" resultTypeName="t:Any" xsi:type="Null"/>
                                 <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="originalClaim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </asTypeSpecifier>
                              </else>
                           </expression>
                        </source>
                        <where localId="1162" locator="357:9-357:35" resultTypeName="t:Boolean" xsi:type="Not">
                           <operand locator="357:15-357:35" resultTypeName="t:Boolean" xsi:type="IsNull">
                              <operand localId="1161" locator="357:15-357:23" name="FinalList" xsi:type="AliasRef">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="originalClaim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                              </operand>
                           </operand>
                        </where>
                     </expression>
                  </return>
               </expression>
            </return>
         </expression>
         <operand name="claimResponse">
            <operandTypeSpecifier localId="1014" locator="330:84-330:107" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1013" locator="330:89-330:106" resultTypeName="fhir:ClaimResponse" name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="claim">
            <operandTypeSpecifier localId="1016" locator="330:116-330:131" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1015" locator="330:121-330:130" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="1018" locator="330:159-330:175" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1017" locator="330:164-330:174" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="DiagnosisValueSet">
            <operandTypeSpecifier localId="1020" locator="330:196-330:212" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1019" locator="330:201-330:211" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="1173" locator="266:1-271:196" name="Get Paid Claims for Provided Services or Conditions" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="1173">
               <a:s>define function &quot;Get Paid Claims for Provided Services or Conditions&quot;(claimResponse </a:s>
               <a:s r="988">
                  <a:s>List&lt;</a:s>
                  <a:s r="987">
                     <a:s>FHIR.ClaimResponse</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, claim </a:s>
               <a:s r="990">
                  <a:s>List&lt;</a:s>
                  <a:s r="989">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="992">
                  <a:s>List&lt;</a:s>
                  <a:s r="991">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, DiagnosisValueSet </a:s>
               <a:s r="994">
                  <a:s>List&lt;</a:s>
                  <a:s r="993">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="1172">
                  <a:s r="1172">
                     <a:s>
                        <a:s r="998">
                           <a:s r="997">
                              <a:s>( </a:s>
                              <a:s r="997">
                                 <a:s>&quot;Get All Professional and Institutional Claims and Claim Responses&quot;(</a:s>
                                 <a:s r="995">
                                    <a:s>claimResponse</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="996">
                                    <a:s>claim</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> MedicalClaimAndResponse</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="1171">
                        <a:s>return </a:s>
                        <a:s r="1170">
                           <a:s>if </a:s>
                           <a:s r="1005">
                              <a:s>( </a:s>
                              <a:s r="1005">
                                 <a:s r="1001">
                                    <a:s r="1000">
                                       <a:s r="999">
                                          <a:s>MedicalClaimAndResponse</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1000">
                                          <a:s>&quot;MedicalClaimResponse&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> is null</a:s>
                                 </a:s>
                                 <a:s>&#xd;
        and </a:s>
                                 <a:s r="1004">
                                    <a:s r="1003">
                                       <a:s r="1002">
                                          <a:s>MedicalClaimAndResponse</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1003">
                                          <a:s>&quot;MedicalClaim&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> is null</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
    )</a:s>
                           </a:s>
                           <a:s r="1006"> then null &#xd;
      else </a:s>
                           <a:s r="1169">
                              <a:s>&quot;Get Corresponding Claim for Services or Conditions&quot;(</a:s>
                              <a:s r="1008">
                                 <a:s r="1007">
                                    <a:s>MedicalClaimAndResponse</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1008">
                                    <a:s>&quot;MedicalClaimResponse&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1010">
                                 <a:s r="1009">
                                    <a:s>MedicalClaimAndResponse</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1010">
                                    <a:s>&quot;MedicalClaim&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1011">
                                 <a:s>ProductOrServiceValueSet</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1012">
                                 <a:s>DiagnosisValueSet</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="originalClaim">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="ClaimofInterest">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ClaimID">
                        <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItems">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </elementType>
               </type>
            </element>
            <element name="ServicePeriod">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </type>
            </element>
         </resultTypeSpecifier>
         <expression localId="1172" locator="267:3-271:196" xsi:type="Query">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="originalClaim">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="ClaimofInterest">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ClaimID">
                           <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="LineItems">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </elementType>
                  </type>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </resultTypeSpecifier>
            <source localId="998" locator="267:3-267:118" alias="MedicalClaimAndResponse">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="MedicalClaimResponse">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="MedicalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="997" locator="267:3-267:94" name="Get All Professional and Institutional Claims and Claim Responses" xsi:type="FunctionRef">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="MedicalClaimResponse">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="MedicalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <operand localId="995" locator="267:73-267:85" name="claimResponse" xsi:type="OperandRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
                  <operand localId="996" locator="267:88-267:92" name="claim" xsi:type="OperandRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </expression>
            </source>
            <return localId="1171" locator="268:5-271:196">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="originalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="ClaimofInterest">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ClaimID">
                              <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1170" locator="268:12-271:196" xsi:type="If">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="originalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="ClaimofInterest">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ClaimID">
                                 <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <condition asType="t:Boolean" xsi:type="As">
                     <operand localId="1005" locator="268:15-270:5" resultTypeName="t:Boolean" xsi:type="And">
                        <operand localId="1001" locator="268:17-268:70" resultTypeName="t:Boolean" xsi:type="IsNull">
                           <operand localId="1000" locator="268:17-268:62" path="MedicalClaimResponse" scope="MedicalClaimAndResponse" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                        </operand>
                        <operand localId="1004" locator="269:13-269:58" resultTypeName="t:Boolean" xsi:type="IsNull">
                           <operand localId="1003" locator="269:13-269:50" path="MedicalClaim" scope="MedicalClaimAndResponse" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                        </operand>
                     </operand>
                  </condition>
                  <then xsi:type="As">
                     <operand localId="1006" locator="270:12-270:15" resultTypeName="t:Any" xsi:type="Null"/>
                     <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="originalClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="ClaimofInterest">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ClaimID">
                                    <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="LineItems">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </asTypeSpecifier>
                  </then>
                  <else localId="1169" locator="271:12-271:196" name="Get Corresponding Claim for Services or Conditions" xsi:type="FunctionRef">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="originalClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="ClaimofInterest">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ClaimID">
                                    <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="LineItems">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <operand localId="1008" locator="271:65-271:110" path="MedicalClaimResponse" scope="MedicalClaimAndResponse" xsi:type="Property">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                     <operand localId="1010" locator="271:113-271:150" path="MedicalClaim" scope="MedicalClaimAndResponse" xsi:type="Property">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                     <operand localId="1011" locator="271:153-271:176" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                     <operand localId="1012" locator="271:179-271:195" name="DiagnosisValueSet" xsi:type="OperandRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                  </else>
               </expression>
            </return>
         </expression>
         <operand name="claimResponse">
            <operandTypeSpecifier localId="988" locator="266:85-266:108" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="987" locator="266:90-266:107" resultTypeName="fhir:ClaimResponse" name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="claim">
            <operandTypeSpecifier localId="990" locator="266:117-266:132" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="989" locator="266:122-266:131" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="992" locator="266:160-266:176" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="991" locator="266:165-266:175" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="DiagnosisValueSet">
            <operandTypeSpecifier localId="994" locator="266:197-266:213" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="993" locator="266:202-266:212" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="1240" locator="490:1-504:3" name="Get All Claims With Procedure Only" context="Unfiltered" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="1240">
               <a:s>define function &quot;Get All Claims With Procedure Only&quot;(claim </a:s>
               <a:s r="1208">
                  <a:s>List&lt;</a:s>
                  <a:s r="1207">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="1210">
                  <a:s>List&lt;</a:s>
                  <a:s r="1209">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="1239">
                  <a:s r="1239">
                     <a:s>( </a:s>
                     <a:s r="1239">
                        <a:s>
                           <a:s r="1212">
                              <a:s r="1211">
                                 <a:s>
                                    <a:s>claim</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> AllClaims</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      </a:s>
                        <a:s r="1221">
                           <a:s>where </a:s>
                           <a:s r="1221">
                              <a:s>exists </a:s>
                              <a:s r="1220">
                                 <a:s>( </a:s>
                                 <a:s r="1220">
                                    <a:s>
                                       <a:s r="1214">
                                          <a:s r="1213">
                                             <a:s>
                                                <a:s>AllClaims.item.productOrService.coding</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> ProductOrServiceCode</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
          </a:s>
                                    <a:s r="1219">
                                       <a:s>where </a:s>
                                       <a:s r="1219">
                                          <a:s r="1217">
                                             <a:s r="1215">
                                                <a:s>FHIRHelpers</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1217">
                                                <a:s>ToCode ( </a:s>
                                                <a:s r="1216">
                                                   <a:s>ProductOrServiceCode</a:s>
                                                </a:s>
                                                <a:s> )</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1218">
                                             <a:s>ProductOrServiceValueSet</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
      )</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
      </a:s>
                        <a:s r="1238">
                           <a:s>return </a:s>
                           <a:s r="1237">
                              <a:s>( </a:s>
                              <a:s r="1237">
                                 <a:s>Tuple {&#xd;
          </a:s>
                                 <a:s>
                                    <a:s>&quot;ClaimofInterest&quot;: </a:s>
                                    <a:s r="1222">
                                       <a:s>AllClaims</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
          </a:s>
                                 <a:s>
                                    <a:s>&quot;ClaimID&quot;: </a:s>
                                    <a:s r="1224">
                                       <a:s r="1223">
                                          <a:s>AllClaims</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1224">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
          </a:s>
                                 <a:s>
                                    <a:s>&quot;LineItems&quot;: </a:s>
                                    <a:s r="1236">
                                       <a:s>
                                          <a:s r="1226">
                                             <a:s r="1225">
                                                <a:s>
                                                   <a:s>AllClaims.item</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> ResponseItem</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
            </a:s>
                                       <a:s r="1235">
                                          <a:s>where </a:s>
                                          <a:s r="1235">
                                             <a:s>exists </a:s>
                                             <a:s r="1234">
                                                <a:s>( </a:s>
                                                <a:s r="1234">
                                                   <a:s>
                                                      <a:s r="1228">
                                                         <a:s r="1227">
                                                            <a:s>
                                                               <a:s>ResponseItem.productOrService.coding</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> ProductOrServiceCode</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
                </a:s>
                                                   <a:s r="1233">
                                                      <a:s>where </a:s>
                                                      <a:s r="1233">
                                                         <a:s r="1231">
                                                            <a:s r="1229">
                                                               <a:s>FHIRHelpers</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="1231">
                                                               <a:s>ToCode ( </a:s>
                                                               <a:s r="1230">
                                                                  <a:s>ProductOrServiceCode</a:s>
                                                               </a:s>
                                                               <a:s> )</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> in </a:s>
                                                         <a:s r="1232">
                                                            <a:s>ProductOrServiceValueSet</a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
            )</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        }</a:s>
                              </a:s>
                              <a:s>&#xd;
      )</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="ClaimofInterest">
                  <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="ClaimID">
                  <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
               </element>
               <element name="LineItems">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="1239" locator="491:3-504:3" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="ClaimofInterest">
                     <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="ClaimID">
                     <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element name="LineItems">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="1212" locator="491:5-491:19" alias="AllClaims">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="1211" locator="491:5-491:9" name="claim" xsi:type="OperandRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <where localId="1221" locator="492:7-494:7" resultTypeName="t:Boolean" xsi:type="Exists">
               <operand localId="1220" locator="492:20-494:7" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source localId="1214" locator="492:22-492:80" alias="ProductOrServiceCode">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <expression localId="1213" locator="492:22-492:59" xsi:type="Flatten">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand xsi:type="Query">
                           <source alias="$this">
                              <expression xsi:type="Query">
                                 <source alias="$this">
                                    <expression path="item" scope="AllClaims" xsi:type="Property"/>
                                 </source>
                                 <where xsi:type="Not">
                                    <operand xsi:type="IsNull">
                                       <operand path="productOrService" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </operand>
                                    </operand>
                                 </where>
                                 <return>
                                    <expression path="productOrService" xsi:type="Property">
                                       <source name="$this" xsi:type="AliasRef"/>
                                    </expression>
                                 </return>
                              </expression>
                           </source>
                           <where xsi:type="Not">
                              <operand xsi:type="IsNull">
                                 <operand path="coding" xsi:type="Property">
                                    <source name="$this" xsi:type="AliasRef"/>
                                 </operand>
                              </operand>
                           </where>
                           <return>
                              <expression path="coding" xsi:type="Property">
                                 <source name="$this" xsi:type="AliasRef"/>
                              </expression>
                           </return>
                        </operand>
                     </expression>
                  </source>
                  <where localId="1219" locator="493:11-493:87" resultTypeName="t:Boolean" xsi:type="In">
                     <operand localId="1217" locator="493:17-493:59" resultTypeName="t:Code" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1216" locator="493:38-493:57" resultTypeName="fhir:Coding" name="ProductOrServiceCode" xsi:type="AliasRef"/>
                     </operand>
                     <operand localId="1218" locator="493:64-493:87" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                  </where>
               </operand>
            </where>
            <return localId="1238" locator="495:7-503:7">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="ClaimofInterest">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ClaimID">
                        <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItems">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="1237" locator="495:14-503:7" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="ClaimofInterest">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ClaimID">
                        <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItems">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="ClaimofInterest">
                     <value localId="1222" locator="496:30-496:38" resultTypeName="fhir:Claim" name="AllClaims" xsi:type="AliasRef"/>
                  </element>
                  <element name="ClaimID">
                     <value localId="1224" locator="497:22-497:33" resultTypeName="fhir:id" path="id" scope="AllClaims" xsi:type="Property"/>
                  </element>
                  <element name="LineItems">
                     <value localId="1236" locator="498:24-501:13" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <source localId="1226" locator="498:24-498:50" alias="ResponseItem">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="1225" locator="498:24-498:37" path="item" scope="AllClaims" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <where localId="1235" locator="499:13-501:13" resultTypeName="t:Boolean" xsi:type="Exists">
                           <operand localId="1234" locator="499:26-501:13" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <source localId="1228" locator="499:28-499:84" alias="ProductOrServiceCode">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="1227" locator="499:28-499:63" path="coding" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <source path="productOrService" scope="ResponseItem" xsi:type="Property"/>
                                 </expression>
                              </source>
                              <where localId="1233" locator="500:17-500:93" resultTypeName="t:Boolean" xsi:type="In">
                                 <operand localId="1231" locator="500:23-500:65" resultTypeName="t:Code" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1230" locator="500:44-500:63" resultTypeName="fhir:Coding" name="ProductOrServiceCode" xsi:type="AliasRef"/>
                                 </operand>
                                 <operand localId="1232" locator="500:70-500:93" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </operand>
                              </where>
                           </operand>
                        </where>
                     </value>
                  </element>
               </expression>
            </return>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="1208" locator="490:60-490:75" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1207" locator="490:65-490:74" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="1210" locator="490:103-490:119" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1209" locator="490:108-490:118" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="1306" locator="359:1-386:35" name="Get Corresponding Claim for Services Only" context="Unfiltered" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="1306">
               <a:s>define function &quot;Get Corresponding Claim for Services Only&quot;(claimResponse </a:s>
               <a:s r="1198">
                  <a:s>List&lt;</a:s>
                  <a:s r="1197">
                     <a:s>FHIR.ClaimResponse</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, claim </a:s>
               <a:s r="1200">
                  <a:s>List&lt;</a:s>
                  <a:s r="1199">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="1202">
                  <a:s>List&lt;</a:s>
                  <a:s r="1201">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="1305">
                  <a:s r="1305">
                     <a:s>
                        <a:s r="1243">
                           <a:s r="1242">
                              <a:s>( </a:s>
                              <a:s r="1242">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;PaidMedicalClaimResponse&quot;: </a:s>
                                    <a:s r="1204">
                                       <a:s>&quot;Get All Paid Claim Reponses&quot;(</a:s>
                                       <a:s r="1203">
                                          <a:s>claimResponse</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;MedicalClaim&quot;: </a:s>
                                    <a:s r="1241">
                                       <a:s>&quot;Get All Claims With Procedure Only&quot;(</a:s>
                                       <a:s r="1205">
                                          <a:s>claim</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="1206">
                                          <a:s>ProductOrServiceValueSet</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimAndResponse</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="1304">
                        <a:s>return </a:s>
                        <a:s r="1303">
                           <a:s>
                              <a:s r="1279">
                                 <a:s r="1278">
                                    <a:s>( </a:s>
                                    <a:s r="1278">
                                       <a:s>Tuple {&#xd;
      </a:s>
                                       <a:s>
                                          <a:s>AggregateClaim: </a:s>
                                          <a:s r="1277">
                                             <a:s>
                                                <a:s r="1245">
                                                   <a:s r="1244">
                                                      <a:s>
                                                         <a:s>ClaimAndResponse.MedicalClaim</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> medClaim</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s>
                                                <a:s>let </a:s>
                                                <a:s r="1272">
                                                   <a:s>lItem: </a:s>
                                                   <a:s r="1271">
                                                      <a:s>( </a:s>
                                                      <a:s r="1271">
                                                         <a:s>
                                                            <a:s r="1247">
                                                               <a:s r="1246">
                                                                  <a:s>
                                                                     <a:s>medClaim.LineItems</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s> medClaimLineItem</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
            </a:s>
                                                         <a:s r="1270">
                                                            <a:s>where </a:s>
                                                            <a:s r="1270">
                                                               <a:s>exists </a:s>
                                                               <a:s r="1269">
                                                                  <a:s>( </a:s>
                                                                  <a:s r="1269">
                                                                     <a:s>
                                                                        <a:s r="1249">
                                                                           <a:s r="1248">
                                                                              <a:s>
                                                                                 <a:s>ClaimAndResponse.&quot;PaidMedicalClaimResponse&quot;</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> pClaim</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
                </a:s>
                                                                     <a:s r="1268">
                                                                        <a:s>with </a:s>
                                                                        <a:s r="1251">
                                                                           <a:s r="1250">
                                                                              <a:s>
                                                                                 <a:s>pClaim.LineItems</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> pClaimLineItem</a:s>
                                                                        </a:s>
                                                                        <a:s>&#xd;
                  such that </a:s>
                                                                        <a:s r="1267">
                                                                           <a:s r="1261">
                                                                              <a:s r="1254">
                                                                                 <a:s r="1253">
                                                                                    <a:s r="1252">
                                                                                       <a:s>medClaim</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1253">
                                                                                       <a:s>ClaimofInterest</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1254">
                                                                                    <a:s>id</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> = </a:s>
                                                                              <a:s r="1260">
                                                                                 <a:s r="1255">
                                                                                    <a:s>FHIRBase</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1260">
                                                                                    <a:s>GetId ( </a:s>
                                                                                    <a:s r="1259">
                                                                                       <a:s r="1258">
                                                                                          <a:s r="1257">
                                                                                             <a:s r="1256">
                                                                                                <a:s>pClaim</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="1257">
                                                                                                <a:s>Response</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="1258">
                                                                                             <a:s>request</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1259">
                                                                                          <a:s>reference</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s> )</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
                    and </a:s>
                                                                           <a:s r="1266">
                                                                              <a:s r="1263">
                                                                                 <a:s r="1262">
                                                                                    <a:s>medClaimLineItem</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1263">
                                                                                    <a:s>sequence</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> = </a:s>
                                                                              <a:s r="1265">
                                                                                 <a:s r="1264">
                                                                                    <a:s>pClaimLineItem</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1265">
                                                                                    <a:s>itemSequence</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
            )</a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>&#xd;
        )</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s r="1276">
                                                <a:s>return </a:s>
                                                <a:s r="1275">
                                                   <a:s>Tuple {&#xd;
          </a:s>
                                                   <a:s>
                                                      <a:s>PaidClaim: </a:s>
                                                      <a:s r="1273">
                                                         <a:s>medClaim</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>,&#xd;
          </a:s>
                                                   <a:s>
                                                      <a:s>ClaimItem: </a:s>
                                                      <a:s r="1274">
                                                         <a:s>lItem</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
        }</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
    }</a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s> ClaimWithPaidResponse</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="1302">
                              <a:s>return </a:s>
                              <a:s r="1301">
                                 <a:s>
                                    <a:s r="1298">
                                       <a:s r="1297">
                                          <a:s>( </a:s>
                                          <a:s r="1297">
                                             <a:s>( </a:s>
                                             <a:s r="1297">
                                                <a:s>if </a:s>
                                                <a:s r="1283">
                                                   <a:s>exists </a:s>
                                                   <a:s r="1282">
                                                      <a:s r="1281">
                                                         <a:s r="1280">
                                                            <a:s>ClaimWithPaidResponse</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="1281">
                                                            <a:s>AggregateClaim</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="1282">
                                                         <a:s>&quot;ClaimItem&quot;</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> then </a:s>
                                                <a:s r="1295">
                                                   <a:s>( </a:s>
                                                   <a:s r="1295">
                                                      <a:s>Tuple {&#xd;
            </a:s>
                                                      <a:s>
                                                         <a:s>originalClaim: </a:s>
                                                         <a:s r="1286">
                                                            <a:s r="1285">
                                                               <a:s r="1284">
                                                                  <a:s>ClaimWithPaidResponse</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="1285">
                                                                  <a:s>AggregateClaim</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="1286">
                                                               <a:s>PaidClaim</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>,&#xd;
            </a:s>
                                                      <a:s>
                                                         <a:s>ServicePeriod: </a:s>
                                                         <a:s r="1294">
                                                            <a:s>
                                                               <a:s r="1288">
                                                                  <a:s r="1287">
                                                                     <a:s>
                                                                        <a:s>ClaimWithPaidResponse.AggregateClaim.ClaimItem</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> PaidItem</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
              </a:s>
                                                            <a:s r="1293">
                                                               <a:s>return </a:s>
                                                               <a:s r="1292">
                                                                  <a:s r="1289">
                                                                     <a:s>FHIRBase</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="1292">
                                                                     <a:s>&quot;Normalize Interval&quot; ( </a:s>
                                                                     <a:s r="1291">
                                                                        <a:s r="1290">
                                                                           <a:s>PaidItem</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="1291">
                                                                           <a:s>serviced</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s> )</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>&#xd;
          }</a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
        )</a:s>
                                                </a:s>
                                                <a:s r="1296"> &#xd;
          else null</a:s>
                                             </a:s>
                                             <a:s>&#xd;
      )</a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                       <a:s> FinalList</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        </a:s>
                                 <a:s r="1300">
                                    <a:s>where </a:s>
                                    <a:s r="1300">
                                       <a:s r="1299">
                                          <a:s>FinalList</a:s>
                                       </a:s>
                                       <a:s> is not null</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="originalClaim">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="ClaimofInterest">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ClaimID">
                        <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItems">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </elementType>
               </type>
            </element>
            <element name="ServicePeriod">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </type>
            </element>
         </resultTypeSpecifier>
         <expression localId="1305" locator="360:3-386:35" xsi:type="Query">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="originalClaim">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="ClaimofInterest">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ClaimID">
                           <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="LineItems">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </elementType>
                  </type>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </resultTypeSpecifier>
            <source localId="1243" locator="360:3-363:22" alias="ClaimAndResponse">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="PaidMedicalClaimResponse">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="Response">
                              <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ResponseID">
                              <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
                  <element name="MedicalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="ClaimofInterest">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ClaimID">
                              <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1242" locator="360:3-363:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="PaidMedicalClaimResponse">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Response">
                                 <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ResponseID">
                                 <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                     <element name="MedicalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="ClaimofInterest">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ClaimID">
                                 <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="PaidMedicalClaimResponse">
                     <value localId="1204" locator="361:33-361:76" name="Get All Paid Claim Reponses" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Response">
                                 <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ResponseID">
                                 <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <operand localId="1203" locator="361:63-361:75" name="claimResponse" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
                  <element name="MedicalClaim">
                     <value localId="1241" locator="362:21-362:89" name="Get All Claims With Procedure Only" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="ClaimofInterest">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ClaimID">
                                 <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <operand localId="1205" locator="362:58-362:62" name="claim" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                        <operand localId="1206" locator="362:65-362:88" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="1304" locator="364:5-386:35">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="originalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="ClaimofInterest">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ClaimID">
                              <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1303" locator="364:12-386:35" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="originalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="ClaimofInterest">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ClaimID">
                                 <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <source localId="1279" locator="364:12-377:29" alias="ClaimWithPaidResponse">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="AggregateClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="PaidClaim">
                                    <type xsi:type="TupleTypeSpecifier">
                                       <element name="ClaimofInterest">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ClaimID">
                                          <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItems">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </type>
                                 </element>
                                 <element name="ClaimItem">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="1278" locator="364:12-377:7" xsi:type="Tuple">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="AggregateClaim">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="PaidClaim">
                                       <type xsi:type="TupleTypeSpecifier">
                                          <element name="ClaimofInterest">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ClaimID">
                                             <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItems">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </type>
                                    </element>
                                    <element name="ClaimItem">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </elementType>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <element name="AggregateClaim">
                           <value localId="1277" locator="365:23-376:9" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="PaidClaim">
                                       <type xsi:type="TupleTypeSpecifier">
                                          <element name="ClaimofInterest">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ClaimID">
                                             <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItems">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </type>
                                    </element>
                                    <element name="ClaimItem">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </elementType>
                              </resultTypeSpecifier>
                              <source localId="1245" locator="365:23-365:60" alias="medClaim">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="ClaimofInterest">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ClaimID">
                                          <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItems">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </elementType>
                                 </resultTypeSpecifier>
                                 <expression localId="1244" locator="365:23-365:51" path="MedicalClaim" scope="ClaimAndResponse" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="TupleTypeSpecifier">
                                          <element name="ClaimofInterest">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ClaimID">
                                             <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItems">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </elementType>
                                    </resultTypeSpecifier>
                                 </expression>
                              </source>
                              <let localId="1272" locator="366:13-372:9" identifier="lItem">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="1271" locator="366:20-372:9" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <source localId="1247" locator="366:22-366:56" alias="medClaimLineItem">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <expression localId="1246" locator="366:22-366:39" path="LineItems" scope="medClaim" xsi:type="Property">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                       </expression>
                                    </source>
                                    <where localId="1270" locator="367:13-371:13" resultTypeName="t:Boolean" xsi:type="Exists">
                                       <operand localId="1269" locator="367:26-371:13" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="TupleTypeSpecifier">
                                                <element name="Response">
                                                   <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="ResponseID">
                                                   <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="LineItems">
                                                   <type xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                   </type>
                                                </element>
                                             </elementType>
                                          </resultTypeSpecifier>
                                          <source localId="1249" locator="367:28-367:77" alias="pClaim">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="TupleTypeSpecifier">
                                                   <element name="Response">
                                                      <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                   <element name="ResponseID">
                                                      <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                   <element name="LineItems">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                </elementType>
                                             </resultTypeSpecifier>
                                             <expression localId="1248" locator="367:28-367:70" path="PaidMedicalClaimResponse" scope="ClaimAndResponse" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="TupleTypeSpecifier">
                                                      <element name="Response">
                                                         <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                                                      </element>
                                                      <element name="ResponseID">
                                                         <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                      </element>
                                                      <element name="LineItems">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                         </type>
                                                      </element>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                             </expression>
                                          </source>
                                          <relationship localId="1268" locator="368:17-370:79" alias="pClaimLineItem" xsi:type="With">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <expression localId="1250" locator="368:22-368:37" path="LineItems" scope="pClaim" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </expression>
                                             <suchThat localId="1267" locator="369:29-370:79" resultTypeName="t:Boolean" xsi:type="And">
                                                <operand localId="1261" locator="369:29-369:110" resultTypeName="t:Boolean" xsi:type="Equal">
                                                   <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <operand localId="1254" locator="369:29-369:55" resultTypeName="fhir:id" path="id" xsi:type="Property">
                                                         <source localId="1253" locator="369:29-369:52" resultTypeName="fhir:Claim" path="ClaimofInterest" scope="medClaim" xsi:type="Property"/>
                                                      </operand>
                                                   </operand>
                                                   <operand localId="1260" locator="369:59-369:110" resultTypeName="t:String" name="GetId" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                      <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                         <operand localId="1259" locator="369:76-369:108" resultTypeName="fhir:string" path="reference" xsi:type="Property">
                                                            <source localId="1258" locator="369:76-369:98" resultTypeName="fhir:Reference" path="request" xsi:type="Property">
                                                               <source localId="1257" locator="369:76-369:90" resultTypeName="fhir:ClaimResponse" path="Response" scope="pClaim" xsi:type="Property"/>
                                                            </source>
                                                         </operand>
                                                      </operand>
                                                   </operand>
                                                </operand>
                                                <operand localId="1266" locator="370:25-370:79" resultTypeName="t:Boolean" xsi:type="Equal">
                                                   <operand localId="1263" locator="370:25-370:49" resultTypeName="fhir:positiveInt" path="sequence" scope="medClaimLineItem" xsi:type="Property"/>
                                                   <operand localId="1265" locator="370:53-370:79" resultTypeName="fhir:positiveInt" path="itemSequence" scope="pClaimLineItem" xsi:type="Property"/>
                                                </operand>
                                             </suchThat>
                                          </relationship>
                                       </operand>
                                    </where>
                                 </expression>
                              </let>
                              <return localId="1276" locator="373:9-376:9">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="PaidClaim">
                                          <type xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </type>
                                       </element>
                                       <element name="ClaimItem">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </elementType>
                                 </resultTypeSpecifier>
                                 <expression localId="1275" locator="373:16-376:9" xsi:type="Tuple">
                                    <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                       <element name="PaidClaim">
                                          <type xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </type>
                                       </element>
                                       <element name="ClaimItem">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </resultTypeSpecifier>
                                    <element name="PaidClaim">
                                       <value localId="1273" locator="374:22-374:29" name="medClaim" xsi:type="AliasRef">
                                          <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </resultTypeSpecifier>
                                       </value>
                                    </element>
                                    <element name="ClaimItem">
                                       <value localId="1274" locator="375:22-375:26" name="lItem" xsi:type="QueryLetRef">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                       </value>
                                    </element>
                                 </expression>
                              </return>
                           </value>
                        </element>
                     </expression>
                  </source>
                  <return localId="1302" locator="378:7-386:35">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="originalClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="ClaimofInterest">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ClaimID">
                                    <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="LineItems">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="1301" locator="378:14-386:35" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="originalClaim">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="ClaimofInterest">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="ClaimID">
                                       <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="LineItems">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </elementType>
                              </type>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <source localId="1298" locator="378:14-385:19" alias="FinalList">
                           <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="originalClaim">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="ClaimofInterest">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="ClaimID">
                                          <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItems">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </elementType>
                                 </type>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </resultTypeSpecifier>
                           <expression localId="1297" locator="378:14-385:9" xsi:type="If">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="originalClaim">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="TupleTypeSpecifier">
                                          <element name="ClaimofInterest">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="ClaimID">
                                             <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItems">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </elementType>
                                    </type>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </resultTypeSpecifier>
                              <condition asType="t:Boolean" xsi:type="As">
                                 <operand localId="1283" locator="378:21-378:75" resultTypeName="t:Boolean" xsi:type="Exists">
                                    <operand localId="1282" locator="378:28-378:75" xsi:type="Flatten">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <operand xsi:type="Query">
                                          <source alias="$this">
                                             <expression localId="1281" locator="378:28-378:63" path="AggregateClaim" scope="ClaimWithPaidResponse" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="TupleTypeSpecifier">
                                                      <element name="PaidClaim">
                                                         <type xsi:type="TupleTypeSpecifier">
                                                            <element name="ClaimofInterest">
                                                               <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                            </element>
                                                            <element name="ClaimID">
                                                               <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                                            </element>
                                                            <element name="LineItems">
                                                               <type xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                               </type>
                                                            </element>
                                                         </type>
                                                      </element>
                                                      <element name="ClaimItem">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                         </type>
                                                      </element>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                             </expression>
                                          </source>
                                          <where xsi:type="Not">
                                             <operand xsi:type="IsNull">
                                                <operand path="ClaimItem" xsi:type="Property">
                                                   <source name="$this" xsi:type="AliasRef"/>
                                                </operand>
                                             </operand>
                                          </where>
                                          <return>
                                             <expression path="ClaimItem" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </expression>
                                          </return>
                                       </operand>
                                    </operand>
                                 </operand>
                              </condition>
                              <then localId="1295" locator="378:82-383:9" xsi:type="Tuple">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="originalClaim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                                 <element name="originalClaim">
                                    <value localId="1286" locator="379:28-379:73" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </elementType>
                                       </resultTypeSpecifier>
                                       <source alias="$this">
                                          <expression localId="1285" locator="379:28-379:63" path="AggregateClaim" scope="ClaimWithPaidResponse" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="TupleTypeSpecifier">
                                                   <element name="PaidClaim">
                                                      <type xsi:type="TupleTypeSpecifier">
                                                         <element name="ClaimofInterest">
                                                            <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                         </element>
                                                         <element name="ClaimID">
                                                            <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                                         </element>
                                                         <element name="LineItems">
                                                            <type xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                            </type>
                                                         </element>
                                                      </type>
                                                   </element>
                                                   <element name="ClaimItem">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                </elementType>
                                             </resultTypeSpecifier>
                                          </expression>
                                       </source>
                                       <where xsi:type="Not">
                                          <operand xsi:type="IsNull">
                                             <operand path="PaidClaim" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </operand>
                                          </operand>
                                       </where>
                                       <return>
                                          <expression path="PaidClaim" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </expression>
                                       </return>
                                    </value>
                                 </element>
                                 <element name="ServicePeriod">
                                    <value localId="1294" locator="380:28-381:72" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </resultTypeSpecifier>
                                       <source localId="1288" locator="380:28-380:82" alias="PaidItem">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="1287" locator="380:28-380:73" xsi:type="Flatten">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand xsi:type="Query">
                                                <source alias="$this">
                                                   <expression path="AggregateClaim" scope="ClaimWithPaidResponse" xsi:type="Property"/>
                                                </source>
                                                <where xsi:type="Not">
                                                   <operand xsi:type="IsNull">
                                                      <operand path="ClaimItem" xsi:type="Property">
                                                         <source name="$this" xsi:type="AliasRef"/>
                                                      </operand>
                                                   </operand>
                                                </where>
                                                <return>
                                                   <expression path="ClaimItem" xsi:type="Property">
                                                      <source name="$this" xsi:type="AliasRef"/>
                                                   </expression>
                                                </return>
                                             </operand>
                                          </expression>
                                       </source>
                                       <return localId="1293" locator="381:15-381:72">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </resultTypeSpecifier>
                                          <expression localId="1292" locator="381:22-381:72" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand localId="1291" locator="381:54-381:70" path="serviced" scope="PaidItem" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </operand>
                                          </expression>
                                       </return>
                                    </value>
                                 </element>
                              </then>
                              <else xsi:type="As">
                                 <operand localId="1296" locator="384:16-384:19" resultTypeName="t:Any" xsi:type="Null"/>
                                 <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="originalClaim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </asTypeSpecifier>
                              </else>
                           </expression>
                        </source>
                        <where localId="1300" locator="386:9-386:35" resultTypeName="t:Boolean" xsi:type="Not">
                           <operand locator="386:15-386:35" resultTypeName="t:Boolean" xsi:type="IsNull">
                              <operand localId="1299" locator="386:15-386:23" name="FinalList" xsi:type="AliasRef">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="originalClaim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="ClaimofInterest">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="ClaimID">
                                                <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItems">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                              </operand>
                           </operand>
                        </where>
                     </expression>
                  </return>
               </expression>
            </return>
         </expression>
         <operand name="claimResponse">
            <operandTypeSpecifier localId="1198" locator="359:75-359:98" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1197" locator="359:80-359:97" resultTypeName="fhir:ClaimResponse" name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="claim">
            <operandTypeSpecifier localId="1200" locator="359:107-359:122" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1199" locator="359:112-359:121" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="1202" locator="359:150-359:166" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1201" locator="359:155-359:165" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="1311" locator="273:1-278:168" name="Get Paid Claims for Provided Services Only" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="1311">
               <a:s>define function &quot;Get Paid Claims for Provided Services Only&quot;(claimResponse </a:s>
               <a:s r="1175">
                  <a:s>List&lt;</a:s>
                  <a:s r="1174">
                     <a:s>FHIR.ClaimResponse</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, claim </a:s>
               <a:s r="1177">
                  <a:s>List&lt;</a:s>
                  <a:s r="1176">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="1179">
                  <a:s>List&lt;</a:s>
                  <a:s r="1178">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="1310">
                  <a:s r="1310">
                     <a:s>
                        <a:s r="1183">
                           <a:s r="1182">
                              <a:s>( </a:s>
                              <a:s r="1182">
                                 <a:s>&quot;Get All Professional and Institutional Claims and Claim Responses&quot;(</a:s>
                                 <a:s r="1180">
                                    <a:s>claimResponse</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1181">
                                    <a:s>claim</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> MedicalClaimAndResponse</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="1309">
                        <a:s>return </a:s>
                        <a:s r="1308">
                           <a:s>if </a:s>
                           <a:s r="1190">
                              <a:s>( </a:s>
                              <a:s r="1190">
                                 <a:s r="1186">
                                    <a:s r="1185">
                                       <a:s r="1184">
                                          <a:s>MedicalClaimAndResponse</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1185">
                                          <a:s>&quot;MedicalClaimResponse&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> is null</a:s>
                                 </a:s>
                                 <a:s>&#xd;
        and </a:s>
                                 <a:s r="1189">
                                    <a:s r="1188">
                                       <a:s r="1187">
                                          <a:s>MedicalClaimAndResponse</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1188">
                                          <a:s>&quot;MedicalClaim&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> is null</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
    )</a:s>
                           </a:s>
                           <a:s r="1191"> then null &#xd;
      else </a:s>
                           <a:s r="1307">
                              <a:s>&quot;Get Corresponding Claim for Services Only&quot;(</a:s>
                              <a:s r="1193">
                                 <a:s r="1192">
                                    <a:s>MedicalClaimAndResponse</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1193">
                                    <a:s>&quot;MedicalClaimResponse&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1195">
                                 <a:s r="1194">
                                    <a:s>MedicalClaimAndResponse</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1195">
                                    <a:s>&quot;MedicalClaim&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1196">
                                 <a:s>ProductOrServiceValueSet</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="originalClaim">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="ClaimofInterest">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="ClaimID">
                        <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItems">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </elementType>
               </type>
            </element>
            <element name="ServicePeriod">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </type>
            </element>
         </resultTypeSpecifier>
         <expression localId="1310" locator="274:3-278:168" xsi:type="Query">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="originalClaim">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="ClaimofInterest">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ClaimID">
                           <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="LineItems">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </elementType>
                  </type>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </resultTypeSpecifier>
            <source localId="1183" locator="274:3-274:118" alias="MedicalClaimAndResponse">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="MedicalClaimResponse">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="MedicalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1182" locator="274:3-274:94" name="Get All Professional and Institutional Claims and Claim Responses" xsi:type="FunctionRef">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="MedicalClaimResponse">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="MedicalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <operand localId="1180" locator="274:73-274:85" name="claimResponse" xsi:type="OperandRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
                  <operand localId="1181" locator="274:88-274:92" name="claim" xsi:type="OperandRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </expression>
            </source>
            <return localId="1309" locator="275:5-278:168">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="originalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="ClaimofInterest">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ClaimID">
                              <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1308" locator="275:12-278:168" xsi:type="If">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="originalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="ClaimofInterest">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ClaimID">
                                 <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <condition asType="t:Boolean" xsi:type="As">
                     <operand localId="1190" locator="275:15-277:5" resultTypeName="t:Boolean" xsi:type="And">
                        <operand localId="1186" locator="275:17-275:70" resultTypeName="t:Boolean" xsi:type="IsNull">
                           <operand localId="1185" locator="275:17-275:62" path="MedicalClaimResponse" scope="MedicalClaimAndResponse" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                        </operand>
                        <operand localId="1189" locator="276:13-276:58" resultTypeName="t:Boolean" xsi:type="IsNull">
                           <operand localId="1188" locator="276:13-276:50" path="MedicalClaim" scope="MedicalClaimAndResponse" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                        </operand>
                     </operand>
                  </condition>
                  <then xsi:type="As">
                     <operand localId="1191" locator="277:12-277:15" resultTypeName="t:Any" xsi:type="Null"/>
                     <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="originalClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="ClaimofInterest">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ClaimID">
                                    <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="LineItems">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </asTypeSpecifier>
                  </then>
                  <else localId="1307" locator="278:12-278:168" name="Get Corresponding Claim for Services Only" xsi:type="FunctionRef">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="originalClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="ClaimofInterest">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="ClaimID">
                                    <type name="fhir:id" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="LineItems">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <operand localId="1193" locator="278:56-278:101" path="MedicalClaimResponse" scope="MedicalClaimAndResponse" xsi:type="Property">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                     <operand localId="1195" locator="278:104-278:141" path="MedicalClaim" scope="MedicalClaimAndResponse" xsi:type="Property">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                     <operand localId="1196" locator="278:144-278:167" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                  </else>
               </expression>
            </return>
         </expression>
         <operand name="claimResponse">
            <operandTypeSpecifier localId="1175" locator="273:76-273:99" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1174" locator="273:81-273:98" resultTypeName="fhir:ClaimResponse" name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="claim">
            <operandTypeSpecifier localId="1177" locator="273:108-273:123" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1176" locator="273:113-273:122" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="1179" locator="273:151-273:167" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1178" locator="273:156-273:166" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="1329" locator="294:1-299:3" name="Get All Pharmacy Claims and Claim Responses" context="Unfiltered" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="1329">
               <a:s>define function &quot;Get All Pharmacy Claims and Claim Responses&quot;(claimResponse </a:s>
               <a:s r="1321">
                  <a:s>List&lt;</a:s>
                  <a:s r="1320">
                     <a:s>FHIR.ClaimResponse</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, claim </a:s>
               <a:s r="1323">
                  <a:s>List&lt;</a:s>
                  <a:s r="1322">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="1328">
                  <a:s r="1328">
                     <a:s>( </a:s>
                     <a:s r="1328">
                        <a:s>Tuple {&#xd;
      </a:s>
                        <a:s>
                           <a:s>&quot;PharmacyClaimResponse&quot;: </a:s>
                           <a:s r="1325">
                              <a:s>&quot;Pharmacy Claims Response&quot;(</a:s>
                              <a:s r="1324">
                                 <a:s>claimResponse</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
      </a:s>
                        <a:s>
                           <a:s>&quot;PharmacyClaim&quot;: </a:s>
                           <a:s r="1327">
                              <a:s>&quot;Pharmacy Claims&quot;(</a:s>
                              <a:s r="1326">
                                 <a:s>claim</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
    }</a:s>
                     </a:s>
                     <a:s>&#xd;
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="PharmacyClaimResponse">
               <type xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </type>
            </element>
            <element name="PharmacyClaim">
               <type xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </type>
            </element>
         </resultTypeSpecifier>
         <expression localId="1328" locator="295:3-299:3" xsi:type="Tuple">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="PharmacyClaimResponse">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
               <element name="PharmacyClaim">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
            </resultTypeSpecifier>
            <element name="PharmacyClaimResponse">
               <value localId="1325" locator="296:32-296:72" name="Pharmacy Claims Response" xsi:type="FunctionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <operand localId="1324" locator="296:59-296:71" name="claimResponse" xsi:type="OperandRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </value>
            </element>
            <element name="PharmacyClaim">
               <value localId="1327" locator="297:24-297:47" name="Pharmacy Claims" xsi:type="FunctionRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <operand localId="1326" locator="297:42-297:46" name="claim" xsi:type="OperandRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </value>
            </element>
         </expression>
         <operand name="claimResponse">
            <operandTypeSpecifier localId="1321" locator="294:77-294:100" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1320" locator="294:82-294:99" resultTypeName="fhir:ClaimResponse" name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="claim">
            <operandTypeSpecifier localId="1323" locator="294:109-294:124" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1322" locator="294:114-294:123" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="1452" locator="388:1-420:35" name="Get Corresponding Claim for Pharmacy Services" context="Unfiltered" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="1452">
               <a:s>define function &quot;Get Corresponding Claim for Pharmacy Services&quot;(claimResponse </a:s>
               <a:s r="1346">
                  <a:s>List&lt;</a:s>
                  <a:s r="1345">
                     <a:s>FHIR.ClaimResponse</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, claim </a:s>
               <a:s r="1348">
                  <a:s>List&lt;</a:s>
                  <a:s r="1347">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="1350">
                  <a:s>List&lt;</a:s>
                  <a:s r="1349">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="1451">
                  <a:s r="1451">
                     <a:s>
                        <a:s r="1357">
                           <a:s r="1356">
                              <a:s>( </a:s>
                              <a:s r="1356">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;PaidPharmacyClaimResponse&quot;: </a:s>
                                    <a:s r="1352">
                                       <a:s>&quot;Get All Paid Claim Reponses&quot;(</a:s>
                                       <a:s r="1351">
                                          <a:s>claimResponse</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;MedicalClaim&quot;: </a:s>
                                    <a:s r="1355">
                                       <a:s>&quot;Pharmacy Claim With Medication&quot;(</a:s>
                                       <a:s r="1353">
                                          <a:s>claim</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="1354">
                                          <a:s>ProductOrServiceValueSet</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimAndResponse</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="1450">
                        <a:s>return </a:s>
                        <a:s r="1449">
                           <a:s>
                              <a:s r="1393">
                                 <a:s r="1392">
                                    <a:s>( </a:s>
                                    <a:s r="1392">
                                       <a:s>Tuple {&#xd;
      </a:s>
                                       <a:s>
                                          <a:s>AggregateClaim: </a:s>
                                          <a:s r="1391">
                                             <a:s>
                                                <a:s r="1359">
                                                   <a:s r="1358">
                                                      <a:s>
                                                         <a:s>ClaimAndResponse.MedicalClaim</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> medClaim</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s>
                                                <a:s>let </a:s>
                                                <a:s r="1386">
                                                   <a:s>lItem: </a:s>
                                                   <a:s r="1385">
                                                      <a:s>( </a:s>
                                                      <a:s r="1385">
                                                         <a:s>
                                                            <a:s r="1361">
                                                               <a:s r="1360">
                                                                  <a:s>
                                                                     <a:s>medClaim.LineItem</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s> medClaimLineItem</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
            </a:s>
                                                         <a:s r="1384">
                                                            <a:s>where </a:s>
                                                            <a:s r="1384">
                                                               <a:s>exists </a:s>
                                                               <a:s r="1383">
                                                                  <a:s>( </a:s>
                                                                  <a:s r="1383">
                                                                     <a:s>
                                                                        <a:s r="1363">
                                                                           <a:s r="1362">
                                                                              <a:s>
                                                                                 <a:s>ClaimAndResponse.&quot;PaidPharmacyClaimResponse&quot;</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> pClaim</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
                </a:s>
                                                                     <a:s r="1382">
                                                                        <a:s>with </a:s>
                                                                        <a:s r="1365">
                                                                           <a:s r="1364">
                                                                              <a:s>
                                                                                 <a:s>pClaim.LineItems</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> pClaimLineItem</a:s>
                                                                        </a:s>
                                                                        <a:s>&#xd;
                  such that </a:s>
                                                                        <a:s r="1381">
                                                                           <a:s r="1375">
                                                                              <a:s r="1368">
                                                                                 <a:s r="1367">
                                                                                    <a:s r="1366">
                                                                                       <a:s>medClaim</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1367">
                                                                                       <a:s>Claim</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1368">
                                                                                    <a:s>id</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> = </a:s>
                                                                              <a:s r="1374">
                                                                                 <a:s r="1369">
                                                                                    <a:s>FHIRBase</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1374">
                                                                                    <a:s>GetId ( </a:s>
                                                                                    <a:s r="1373">
                                                                                       <a:s r="1372">
                                                                                          <a:s r="1371">
                                                                                             <a:s r="1370">
                                                                                                <a:s>pClaim</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="1371">
                                                                                                <a:s>Response</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="1372">
                                                                                             <a:s>request</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1373">
                                                                                          <a:s>reference</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s> )</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
                    and </a:s>
                                                                           <a:s r="1380">
                                                                              <a:s r="1377">
                                                                                 <a:s r="1376">
                                                                                    <a:s>medClaimLineItem</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1377">
                                                                                    <a:s>sequence</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> = </a:s>
                                                                              <a:s r="1379">
                                                                                 <a:s r="1378">
                                                                                    <a:s>pClaimLineItem</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1379">
                                                                                    <a:s>itemSequence</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
            )</a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>&#xd;
        )</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s r="1390">
                                                <a:s>return </a:s>
                                                <a:s r="1389">
                                                   <a:s>Tuple {&#xd;
          </a:s>
                                                   <a:s>
                                                      <a:s>PaidClaim: </a:s>
                                                      <a:s r="1387">
                                                         <a:s>medClaim</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>,&#xd;
          </a:s>
                                                   <a:s>
                                                      <a:s>ClaimItem: </a:s>
                                                      <a:s r="1388">
                                                         <a:s>lItem</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
        }</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
    }</a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s> ClaimWithPaidResponse</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="1448">
                              <a:s>return </a:s>
                              <a:s r="1447">
                                 <a:s>
                                    <a:s r="1444">
                                       <a:s r="1443">
                                          <a:s>( </a:s>
                                          <a:s r="1443">
                                             <a:s>( </a:s>
                                             <a:s r="1443">
                                                <a:s>if </a:s>
                                                <a:s r="1397">
                                                   <a:s>exists </a:s>
                                                   <a:s r="1396">
                                                      <a:s r="1395">
                                                         <a:s r="1394">
                                                            <a:s>ClaimWithPaidResponse</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="1395">
                                                            <a:s>AggregateClaim</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="1396">
                                                         <a:s>&quot;ClaimItem&quot;</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> then </a:s>
                                                <a:s r="1441">
                                                   <a:s>( </a:s>
                                                   <a:s r="1441">
                                                      <a:s>Tuple {&#xd;
            </a:s>
                                                      <a:s>
                                                         <a:s>originalClaim: </a:s>
                                                         <a:s r="1400">
                                                            <a:s r="1399">
                                                               <a:s r="1398">
                                                                  <a:s>ClaimWithPaidResponse</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="1399">
                                                                  <a:s>AggregateClaim</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="1400">
                                                               <a:s>PaidClaim</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>,&#xd;
            </a:s>
                                                      <a:s>
                                                         <a:s>ServicePeriod: </a:s>
                                                         <a:s r="1408">
                                                            <a:s>
                                                               <a:s r="1402">
                                                                  <a:s r="1401">
                                                                     <a:s>
                                                                        <a:s>ClaimWithPaidResponse.AggregateClaim.ClaimItem</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> PaidItem</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
              </a:s>
                                                            <a:s r="1407">
                                                               <a:s>return </a:s>
                                                               <a:s r="1406">
                                                                  <a:s r="1403">
                                                                     <a:s>FHIRBase</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="1406">
                                                                     <a:s>&quot;Normalize Interval&quot; ( </a:s>
                                                                     <a:s r="1405">
                                                                        <a:s r="1404">
                                                                           <a:s>PaidItem</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="1405">
                                                                           <a:s>serviced</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s> )</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>,&#xd;
            </a:s>
                                                      <a:s>
                                                         <a:s>CoveredDays: </a:s>
                                                         <a:s r="1440">
                                                            <a:s>
                                                               <a:s r="1410">
                                                                  <a:s r="1409">
                                                                     <a:s>
                                                                        <a:s>ClaimWithPaidResponse.AggregateClaim.ClaimItem</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> i</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
              </a:s>
                                                            <a:s>
                                                               <a:s>let </a:s>
                                                               <a:s r="1437">
                                                                  <a:s>X: </a:s>
                                                                  <a:s r="1436">
                                                                     <a:s>( </a:s>
                                                                     <a:s r="1436">
                                                                        <a:s>if </a:s>
                                                                        <a:s r="1413">
                                                                           <a:s r="1412">
                                                                              <a:s r="1411">
                                                                                 <a:s>i</a:s>
                                                                              </a:s>
                                                                              <a:s>.</a:s>
                                                                              <a:s r="1412">
                                                                                 <a:s>quantity</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> is not null</a:s>
                                                                        </a:s>
                                                                        <a:s> then </a:s>
                                                                        <a:s r="1434">
                                                                           <a:s>Interval[</a:s>
                                                                           <a:s r="1419">
                                                                              <a:s>ToDate(</a:s>
                                                                              <a:s r="1418">
                                                                                 <a:s>start of </a:s>
                                                                                 <a:s r="1417">
                                                                                    <a:s r="1414">
                                                                                       <a:s>FHIRBase</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1417">
                                                                                       <a:s>&quot;Normalize Interval&quot;(</a:s>
                                                                                       <a:s r="1416">
                                                                                          <a:s r="1415">
                                                                                             <a:s>i</a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="1416">
                                                                                             <a:s>serviced</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s>)</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>)</a:s>
                                                                           </a:s>
                                                                           <a:s>, </a:s>
                                                                           <a:s r="1433">
                                                                              <a:s>ToDate(</a:s>
                                                                              <a:s r="1432">
                                                                                 <a:s r="1430">
                                                                                    <a:s r="1424">
                                                                                       <a:s>start of </a:s>
                                                                                       <a:s r="1423">
                                                                                          <a:s r="1420">
                                                                                             <a:s>FHIRBase</a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="1423">
                                                                                             <a:s>&quot;Normalize Interval&quot;(</a:s>
                                                                                             <a:s r="1422">
                                                                                                <a:s r="1421">
                                                                                                   <a:s>i</a:s>
                                                                                                </a:s>
                                                                                                <a:s>.</a:s>
                                                                                                <a:s r="1422">
                                                                                                   <a:s>serviced</a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                             <a:s>)</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s>+ </a:s>
                                                                                    <a:s r="1429">
                                                                                       <a:s>System.Quantity { </a:s>
                                                                                       <a:s>
                                                                                          <a:s>value: </a:s>
                                                                                          <a:s r="1427">
                                                                                             <a:s r="1426">
                                                                                                <a:s r="1425">
                                                                                                   <a:s>i</a:s>
                                                                                                </a:s>
                                                                                                <a:s>.</a:s>
                                                                                                <a:s r="1426">
                                                                                                   <a:s>quantity</a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="1427">
                                                                                                <a:s>value</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s>, </a:s>
                                                                                       <a:s>
                                                                                          <a:s>unit: </a:s>
                                                                                          <a:s r="1428">
                                                                                             <a:s>'day'</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s> }</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> - </a:s>
                                                                                 <a:s r="1431">
                                                                                    <a:s>1 day</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>)</a:s>
                                                                           </a:s>
                                                                           <a:s>]</a:s>
                                                                        </a:s>
                                                                        <a:s r="1435">&#xd;
                  else null</a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
              )</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
              </a:s>
                                                            <a:s r="1439">
                                                               <a:s>return </a:s>
                                                               <a:s r="1438">
                                                                  <a:s>X</a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>&#xd;
          }</a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
        )</a:s>
                                                </a:s>
                                                <a:s r="1442"> &#xd;
          else null</a:s>
                                             </a:s>
                                             <a:s>&#xd;
      )</a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                       <a:s> FinalList</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        </a:s>
                                 <a:s r="1446">
                                    <a:s>where </a:s>
                                    <a:s r="1446">
                                       <a:s r="1445">
                                          <a:s>FinalList</a:s>
                                       </a:s>
                                       <a:s> is not null</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="originalClaim">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="Claim">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItem">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                     <element name="CoveredDays">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </elementType>
               </type>
            </element>
            <element name="ServicePeriod">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </type>
            </element>
            <element name="CoveredDays">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </type>
            </element>
         </resultTypeSpecifier>
         <expression localId="1451" locator="389:3-420:35" xsi:type="Query">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="originalClaim">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="Claim">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="LineItem">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                        <element name="CoveredDays">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </elementType>
                  </type>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
               <element name="CoveredDays">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </resultTypeSpecifier>
            <source localId="1357" locator="389:3-392:22" alias="ClaimAndResponse">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="PaidPharmacyClaimResponse">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="Response">
                              <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="ResponseID">
                              <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
                  <element name="MedicalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="Claim">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItem">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                           <element name="CoveredDays">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1356" locator="389:3-392:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="PaidPharmacyClaimResponse">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Response">
                                 <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ResponseID">
                                 <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                     <element name="MedicalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItem">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                              <element name="CoveredDays">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="PaidPharmacyClaimResponse">
                     <value localId="1352" locator="390:34-390:77" name="Get All Paid Claim Reponses" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Response">
                                 <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ResponseID">
                                 <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItems">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <operand localId="1351" locator="390:64-390:76" name="claimResponse" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
                  <element name="MedicalClaim">
                     <value localId="1355" locator="391:21-391:85" name="Pharmacy Claim With Medication" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItem">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                              <element name="CoveredDays">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <operand localId="1353" locator="391:54-391:58" name="claim" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                        <operand localId="1354" locator="391:61-391:84" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="1450" locator="393:5-420:35">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="originalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="Claim">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItem">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                           <element name="CoveredDays">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
                  <element name="CoveredDays">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1449" locator="393:12-420:35" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="originalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItem">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                              <element name="CoveredDays">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                     <element name="CoveredDays">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <source localId="1393" locator="393:12-406:29" alias="ClaimWithPaidResponse">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="AggregateClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="PaidClaim">
                                    <type xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItem">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                       <element name="ServicePeriod">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                       <element name="CoveredDays">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                    </type>
                                 </element>
                                 <element name="ClaimItem">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="1392" locator="393:12-406:7" xsi:type="Tuple">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="AggregateClaim">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="PaidClaim">
                                       <type xsi:type="TupleTypeSpecifier">
                                          <element name="Claim">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItem">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                          <element name="ServicePeriod">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                          <element name="CoveredDays">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                       </type>
                                    </element>
                                    <element name="ClaimItem">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </elementType>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <element name="AggregateClaim">
                           <value localId="1391" locator="394:23-405:9" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="PaidClaim">
                                       <type xsi:type="TupleTypeSpecifier">
                                          <element name="Claim">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItem">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                          <element name="ServicePeriod">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                          <element name="CoveredDays">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                       </type>
                                    </element>
                                    <element name="ClaimItem">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </elementType>
                              </resultTypeSpecifier>
                              <source localId="1359" locator="394:23-394:60" alias="medClaim">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItem">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                       <element name="ServicePeriod">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                       <element name="CoveredDays">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                    </elementType>
                                 </resultTypeSpecifier>
                                 <expression localId="1358" locator="394:23-394:51" path="MedicalClaim" scope="ClaimAndResponse" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="TupleTypeSpecifier">
                                          <element name="Claim">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItem">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                          <element name="ServicePeriod">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                          <element name="CoveredDays">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                       </elementType>
                                    </resultTypeSpecifier>
                                 </expression>
                              </source>
                              <let localId="1386" locator="395:13-401:9" identifier="lItem">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="1385" locator="395:20-401:9" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <source localId="1361" locator="395:22-395:55" alias="medClaimLineItem">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <expression localId="1360" locator="395:22-395:38" path="LineItem" scope="medClaim" xsi:type="Property">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                       </expression>
                                    </source>
                                    <where localId="1384" locator="396:13-400:13" resultTypeName="t:Boolean" xsi:type="Exists">
                                       <operand localId="1383" locator="396:26-400:13" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="TupleTypeSpecifier">
                                                <element name="Response">
                                                   <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="ResponseID">
                                                   <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                </element>
                                                <element name="LineItems">
                                                   <type xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                   </type>
                                                </element>
                                             </elementType>
                                          </resultTypeSpecifier>
                                          <source localId="1363" locator="396:28-396:78" alias="pClaim">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="TupleTypeSpecifier">
                                                   <element name="Response">
                                                      <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                   <element name="ResponseID">
                                                      <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                   <element name="LineItems">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                </elementType>
                                             </resultTypeSpecifier>
                                             <expression localId="1362" locator="396:28-396:71" path="PaidPharmacyClaimResponse" scope="ClaimAndResponse" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="TupleTypeSpecifier">
                                                      <element name="Response">
                                                         <type name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                                                      </element>
                                                      <element name="ResponseID">
                                                         <type name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                      </element>
                                                      <element name="LineItems">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                         </type>
                                                      </element>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                             </expression>
                                          </source>
                                          <relationship localId="1382" locator="397:17-399:79" alias="pClaimLineItem" xsi:type="With">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <expression localId="1364" locator="397:22-397:37" path="LineItems" scope="pClaim" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:ClaimResponse.Item" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </expression>
                                             <suchThat localId="1381" locator="398:29-399:79" resultTypeName="t:Boolean" xsi:type="And">
                                                <operand localId="1375" locator="398:29-398:100" resultTypeName="t:Boolean" xsi:type="Equal">
                                                   <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <operand localId="1368" locator="398:29-398:45" resultTypeName="fhir:id" path="id" xsi:type="Property">
                                                         <source localId="1367" locator="398:29-398:42" resultTypeName="fhir:Claim" path="Claim" scope="medClaim" xsi:type="Property"/>
                                                      </operand>
                                                   </operand>
                                                   <operand localId="1374" locator="398:49-398:100" resultTypeName="t:String" name="GetId" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                      <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                         <operand localId="1373" locator="398:66-398:98" resultTypeName="fhir:string" path="reference" xsi:type="Property">
                                                            <source localId="1372" locator="398:66-398:88" resultTypeName="fhir:Reference" path="request" xsi:type="Property">
                                                               <source localId="1371" locator="398:66-398:80" resultTypeName="fhir:ClaimResponse" path="Response" scope="pClaim" xsi:type="Property"/>
                                                            </source>
                                                         </operand>
                                                      </operand>
                                                   </operand>
                                                </operand>
                                                <operand localId="1380" locator="399:25-399:79" resultTypeName="t:Boolean" xsi:type="Equal">
                                                   <operand localId="1377" locator="399:25-399:49" resultTypeName="fhir:positiveInt" path="sequence" scope="medClaimLineItem" xsi:type="Property"/>
                                                   <operand localId="1379" locator="399:53-399:79" resultTypeName="fhir:positiveInt" path="itemSequence" scope="pClaimLineItem" xsi:type="Property"/>
                                                </operand>
                                             </suchThat>
                                          </relationship>
                                       </operand>
                                    </where>
                                 </expression>
                              </let>
                              <return localId="1390" locator="402:9-405:9">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="PaidClaim">
                                          <type xsi:type="TupleTypeSpecifier">
                                             <element name="Claim">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItem">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                             <element name="ServicePeriod">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                             <element name="CoveredDays">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                          </type>
                                       </element>
                                       <element name="ClaimItem">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </elementType>
                                 </resultTypeSpecifier>
                                 <expression localId="1389" locator="402:16-405:9" xsi:type="Tuple">
                                    <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                       <element name="PaidClaim">
                                          <type xsi:type="TupleTypeSpecifier">
                                             <element name="Claim">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItem">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                             <element name="ServicePeriod">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                             <element name="CoveredDays">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                          </type>
                                       </element>
                                       <element name="ClaimItem">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </resultTypeSpecifier>
                                    <element name="PaidClaim">
                                       <value localId="1387" locator="403:22-403:29" name="medClaim" xsi:type="AliasRef">
                                          <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                             <element name="Claim">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItem">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                             <element name="ServicePeriod">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                             <element name="CoveredDays">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                          </resultTypeSpecifier>
                                       </value>
                                    </element>
                                    <element name="ClaimItem">
                                       <value localId="1388" locator="404:22-404:26" name="lItem" xsi:type="QueryLetRef">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                       </value>
                                    </element>
                                 </expression>
                              </return>
                           </value>
                        </element>
                     </expression>
                  </source>
                  <return localId="1448" locator="407:7-420:35">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="originalClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="Claim">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="LineItem">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                                 <element name="CoveredDays">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                        <element name="CoveredDays">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="1447" locator="407:14-420:35" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="originalClaim">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="TupleTypeSpecifier">
                                    <element name="Claim">
                                       <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="LineItem">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="CoveredDays">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </elementType>
                              </type>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                           <element name="CoveredDays">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <source localId="1444" locator="407:14-419:19" alias="FinalList">
                           <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="originalClaim">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="Claim">
                                          <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </element>
                                       <element name="LineItem">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                       <element name="ServicePeriod">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                       <element name="CoveredDays">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </type>
                                       </element>
                                    </elementType>
                                 </type>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                              <element name="CoveredDays">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </resultTypeSpecifier>
                           <expression localId="1443" locator="407:14-419:9" xsi:type="If">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="originalClaim">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="TupleTypeSpecifier">
                                          <element name="Claim">
                                             <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                          </element>
                                          <element name="LineItem">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                          <element name="ServicePeriod">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                          <element name="CoveredDays">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                </elementType>
                                             </type>
                                          </element>
                                       </elementType>
                                    </type>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                                 <element name="CoveredDays">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </resultTypeSpecifier>
                              <condition asType="t:Boolean" xsi:type="As">
                                 <operand localId="1397" locator="407:21-407:75" resultTypeName="t:Boolean" xsi:type="Exists">
                                    <operand localId="1396" locator="407:28-407:75" xsi:type="Flatten">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <operand xsi:type="Query">
                                          <source alias="$this">
                                             <expression localId="1395" locator="407:28-407:63" path="AggregateClaim" scope="ClaimWithPaidResponse" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="TupleTypeSpecifier">
                                                      <element name="PaidClaim">
                                                         <type xsi:type="TupleTypeSpecifier">
                                                            <element name="Claim">
                                                               <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                            </element>
                                                            <element name="LineItem">
                                                               <type xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                               </type>
                                                            </element>
                                                            <element name="ServicePeriod">
                                                               <type xsi:type="ListTypeSpecifier">
                                                                  <elementType xsi:type="IntervalTypeSpecifier">
                                                                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </elementType>
                                                               </type>
                                                            </element>
                                                            <element name="CoveredDays">
                                                               <type xsi:type="ListTypeSpecifier">
                                                                  <elementType xsi:type="IntervalTypeSpecifier">
                                                                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                                  </elementType>
                                                               </type>
                                                            </element>
                                                         </type>
                                                      </element>
                                                      <element name="ClaimItem">
                                                         <type xsi:type="ListTypeSpecifier">
                                                            <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                         </type>
                                                      </element>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                             </expression>
                                          </source>
                                          <where xsi:type="Not">
                                             <operand xsi:type="IsNull">
                                                <operand path="ClaimItem" xsi:type="Property">
                                                   <source name="$this" xsi:type="AliasRef"/>
                                                </operand>
                                             </operand>
                                          </where>
                                          <return>
                                             <expression path="ClaimItem" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </expression>
                                          </return>
                                       </operand>
                                    </operand>
                                 </operand>
                              </condition>
                              <then localId="1441" locator="407:82-417:9" xsi:type="Tuple">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="originalClaim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="Claim">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItem">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                             <element name="ServicePeriod">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                             <element name="CoveredDays">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="CoveredDays">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                                 <element name="originalClaim">
                                    <value localId="1400" locator="408:28-408:73" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="Claim">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItem">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                             <element name="ServicePeriod">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                             <element name="CoveredDays">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                          </elementType>
                                       </resultTypeSpecifier>
                                       <source alias="$this">
                                          <expression localId="1399" locator="408:28-408:63" path="AggregateClaim" scope="ClaimWithPaidResponse" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="TupleTypeSpecifier">
                                                   <element name="PaidClaim">
                                                      <type xsi:type="TupleTypeSpecifier">
                                                         <element name="Claim">
                                                            <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                         </element>
                                                         <element name="LineItem">
                                                            <type xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                            </type>
                                                         </element>
                                                         <element name="ServicePeriod">
                                                            <type xsi:type="ListTypeSpecifier">
                                                               <elementType xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </elementType>
                                                            </type>
                                                         </element>
                                                         <element name="CoveredDays">
                                                            <type xsi:type="ListTypeSpecifier">
                                                               <elementType xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </elementType>
                                                            </type>
                                                         </element>
                                                      </type>
                                                   </element>
                                                   <element name="ClaimItem">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                </elementType>
                                             </resultTypeSpecifier>
                                          </expression>
                                       </source>
                                       <where xsi:type="Not">
                                          <operand xsi:type="IsNull">
                                             <operand path="PaidClaim" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </operand>
                                          </operand>
                                       </where>
                                       <return>
                                          <expression path="PaidClaim" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </expression>
                                       </return>
                                    </value>
                                 </element>
                                 <element name="ServicePeriod">
                                    <value localId="1408" locator="409:28-410:72" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </resultTypeSpecifier>
                                       <source localId="1402" locator="409:28-409:82" alias="PaidItem">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="1401" locator="409:28-409:73" xsi:type="Flatten">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand xsi:type="Query">
                                                <source alias="$this">
                                                   <expression path="AggregateClaim" scope="ClaimWithPaidResponse" xsi:type="Property"/>
                                                </source>
                                                <where xsi:type="Not">
                                                   <operand xsi:type="IsNull">
                                                      <operand path="ClaimItem" xsi:type="Property">
                                                         <source name="$this" xsi:type="AliasRef"/>
                                                      </operand>
                                                   </operand>
                                                </where>
                                                <return>
                                                   <expression path="ClaimItem" xsi:type="Property">
                                                      <source name="$this" xsi:type="AliasRef"/>
                                                   </expression>
                                                </return>
                                             </operand>
                                          </expression>
                                       </source>
                                       <return localId="1407" locator="410:15-410:72">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </resultTypeSpecifier>
                                          <expression localId="1406" locator="410:22-410:72" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                             <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand localId="1405" locator="410:54-410:70" path="serviced" scope="PaidItem" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </operand>
                                          </expression>
                                       </return>
                                    </value>
                                 </element>
                                 <element name="CoveredDays">
                                    <value localId="1440" locator="411:26-415:22" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </resultTypeSpecifier>
                                       <source localId="1410" locator="411:26-411:73" alias="i">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="1409" locator="411:26-411:71" xsi:type="Flatten">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand xsi:type="Query">
                                                <source alias="$this">
                                                   <expression path="AggregateClaim" scope="ClaimWithPaidResponse" xsi:type="Property"/>
                                                </source>
                                                <where xsi:type="Not">
                                                   <operand xsi:type="IsNull">
                                                      <operand path="ClaimItem" xsi:type="Property">
                                                         <source name="$this" xsi:type="AliasRef"/>
                                                      </operand>
                                                   </operand>
                                                </where>
                                                <return>
                                                   <expression path="ClaimItem" xsi:type="Property">
                                                      <source name="$this" xsi:type="AliasRef"/>
                                                   </expression>
                                                </return>
                                             </operand>
                                          </expression>
                                       </source>
                                       <let localId="1437" locator="412:19-414:15" identifier="X">
                                          <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="1436" locator="412:22-414:15" xsi:type="If">
                                             <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <condition asType="t:Boolean" xsi:type="As">
                                                <operand localId="1413" locator="412:27-412:48" resultTypeName="t:Boolean" xsi:type="Not">
                                                   <operand locator="412:27-412:48" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                      <operand localId="1412" locator="412:27-412:36" resultTypeName="fhir:SimpleQuantity" path="quantity" scope="i" xsi:type="Property"/>
                                                   </operand>
                                                </operand>
                                             </condition>
                                             <then localId="1434" locator="412:55-412:248" lowClosed="true" highClosed="true" xsi:type="Interval">
                                                <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <low localId="1419" locator="412:64-412:121" resultTypeName="t:Date" xsi:type="ToDate">
                                                   <operand localId="1418" locator="412:71-412:120" resultTypeName="t:DateTime" xsi:type="Start">
                                                      <operand localId="1417" locator="412:80-412:120" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                         <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                            <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                         </resultTypeSpecifier>
                                                         <operand localId="1416" locator="412:110-412:119" path="serviced" scope="i" xsi:type="Property">
                                                            <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                               <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                               <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                            </resultTypeSpecifier>
                                                         </operand>
                                                      </operand>
                                                   </operand>
                                                </low>
                                                <high localId="1433" locator="412:124-412:247" resultTypeName="t:Date" xsi:type="ToDate">
                                                   <operand localId="1432" locator="412:131-412:246" resultTypeName="t:DateTime" xsi:type="Subtract">
                                                      <operand localId="1430" locator="412:131-412:238" resultTypeName="t:DateTime" xsi:type="Add">
                                                         <operand localId="1424" locator="412:131-412:180" resultTypeName="t:DateTime" xsi:type="Start">
                                                            <operand localId="1423" locator="412:140-412:180" name="Normalize Interval" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                               <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                                  <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                               <operand localId="1422" locator="412:170-412:179" path="serviced" scope="i" xsi:type="Property">
                                                                  <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                                     <choice name="fhir:date" xsi:type="NamedTypeSpecifier"/>
                                                                     <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                                  </resultTypeSpecifier>
                                                               </operand>
                                                            </operand>
                                                         </operand>
                                                         <operand localId="1429" locator="412:183-412:238" resultTypeName="t:Quantity" classType="t:Quantity" xsi:type="Instance">
                                                            <element name="value">
                                                               <value name="ToDecimal" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                                  <operand localId="1427" locator="412:208-412:223" resultTypeName="fhir:decimal" path="value" xsi:type="Property">
                                                                     <source localId="1426" locator="412:208-412:217" resultTypeName="fhir:SimpleQuantity" path="quantity" scope="i" xsi:type="Property"/>
                                                                  </operand>
                                                               </value>
                                                            </element>
                                                            <element name="unit">
                                                               <value localId="1428" locator="412:232-412:236" resultTypeName="t:String" valueType="t:String" value="day" xsi:type="Literal"/>
                                                            </element>
                                                         </operand>
                                                      </operand>
                                                      <operand localId="1431" locator="412:242-412:246" resultTypeName="t:Quantity" value="1" unit="day" xsi:type="Quantity"/>
                                                   </operand>
                                                </high>
                                             </then>
                                             <else xsi:type="As">
                                                <operand localId="1435" locator="413:24-413:27" resultTypeName="t:Any" xsi:type="Null"/>
                                                <asTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                   <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                                </asTypeSpecifier>
                                             </else>
                                          </expression>
                                       </let>
                                       <return localId="1439" locator="415:15-415:22">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </resultTypeSpecifier>
                                          <expression localId="1438" locator="415:22" name="X" xsi:type="QueryLetRef">
                                             <resultTypeSpecifier xsi:type="IntervalTypeSpecifier">
                                                <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                          </expression>
                                       </return>
                                    </value>
                                 </element>
                              </then>
                              <else xsi:type="As">
                                 <operand localId="1442" locator="418:16-418:19" resultTypeName="t:Any" xsi:type="Null"/>
                                 <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="originalClaim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="Claim">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItem">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                             <element name="ServicePeriod">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                             <element name="CoveredDays">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="CoveredDays">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </asTypeSpecifier>
                              </else>
                           </expression>
                        </source>
                        <where localId="1446" locator="420:9-420:35" resultTypeName="t:Boolean" xsi:type="Not">
                           <operand locator="420:15-420:35" resultTypeName="t:Boolean" xsi:type="IsNull">
                              <operand localId="1445" locator="420:15-420:23" name="FinalList" xsi:type="AliasRef">
                                 <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                    <element name="originalClaim">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="Claim">
                                                <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </element>
                                             <element name="LineItem">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                             <element name="ServicePeriod">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                             <element name="CoveredDays">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="IntervalTypeSpecifier">
                                                      <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </type>
                                             </element>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="ServicePeriod">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                    <element name="CoveredDays">
                                       <type xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="IntervalTypeSpecifier">
                                             <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </type>
                                    </element>
                                 </resultTypeSpecifier>
                              </operand>
                           </operand>
                        </where>
                     </expression>
                  </return>
               </expression>
            </return>
         </expression>
         <operand name="claimResponse">
            <operandTypeSpecifier localId="1346" locator="388:79-388:102" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1345" locator="388:84-388:101" resultTypeName="fhir:ClaimResponse" name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="claim">
            <operandTypeSpecifier localId="1348" locator="388:111-388:126" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1347" locator="388:116-388:125" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="1350" locator="388:154-388:170" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1349" locator="388:159-388:169" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="1457" locator="280:1-285:176" name="Get Paid Claims for Pharmacy Services" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="1457">
               <a:s>define function &quot;Get Paid Claims for Pharmacy Services&quot;(claimResponse </a:s>
               <a:s r="1313">
                  <a:s>List&lt;</a:s>
                  <a:s r="1312">
                     <a:s>FHIR.ClaimResponse</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, claim </a:s>
               <a:s r="1315">
                  <a:s>List&lt;</a:s>
                  <a:s r="1314">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, ProductOrServiceValueSet </a:s>
               <a:s r="1317">
                  <a:s>List&lt;</a:s>
                  <a:s r="1316">
                     <a:s>System.Code</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="1456">
                  <a:s r="1456">
                     <a:s>
                        <a:s r="1331">
                           <a:s r="1330">
                              <a:s>( </a:s>
                              <a:s r="1330">
                                 <a:s>&quot;Get All Pharmacy Claims and Claim Responses&quot;(</a:s>
                                 <a:s r="1318">
                                    <a:s>claimResponse</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1319">
                                    <a:s>claim</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> PharmacyClaimAndResponse</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="1455">
                        <a:s>return </a:s>
                        <a:s r="1454">
                           <a:s>if </a:s>
                           <a:s r="1338">
                              <a:s>( </a:s>
                              <a:s r="1338">
                                 <a:s r="1334">
                                    <a:s r="1333">
                                       <a:s r="1332">
                                          <a:s>PharmacyClaimAndResponse</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1333">
                                          <a:s>&quot;PharmacyClaimResponse&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> is null</a:s>
                                 </a:s>
                                 <a:s>&#xd;
        and </a:s>
                                 <a:s r="1337">
                                    <a:s r="1336">
                                       <a:s r="1335">
                                          <a:s>PharmacyClaimAndResponse</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1336">
                                          <a:s>&quot;PharmacyClaim&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> is null</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
    )</a:s>
                           </a:s>
                           <a:s r="1339"> then null &#xd;
      else </a:s>
                           <a:s r="1453">
                              <a:s>&quot;Get Corresponding Claim for Pharmacy Services&quot;(</a:s>
                              <a:s r="1341">
                                 <a:s r="1340">
                                    <a:s>PharmacyClaimAndResponse</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1341">
                                    <a:s>&quot;PharmacyClaimResponse&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1343">
                                 <a:s r="1342">
                                    <a:s>PharmacyClaimAndResponse</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1343">
                                    <a:s>&quot;PharmacyClaim&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1344">
                                 <a:s>ProductOrServiceValueSet</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="originalClaim">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="Claim">
                        <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </element>
                     <element name="LineItem">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                     <element name="CoveredDays">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </elementType>
               </type>
            </element>
            <element name="ServicePeriod">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </type>
            </element>
            <element name="CoveredDays">
               <type xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="IntervalTypeSpecifier">
                     <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </type>
            </element>
         </resultTypeSpecifier>
         <expression localId="1456" locator="281:3-285:176" xsi:type="Query">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="originalClaim">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="TupleTypeSpecifier">
                        <element name="Claim">
                           <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="LineItem">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                        <element name="CoveredDays">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </elementType>
                  </type>
               </element>
               <element name="ServicePeriod">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
               <element name="CoveredDays">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType xsi:type="IntervalTypeSpecifier">
                        <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </type>
               </element>
            </resultTypeSpecifier>
            <source localId="1331" locator="281:3-281:97" alias="PharmacyClaimAndResponse">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="PharmacyClaimResponse">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="PharmacyClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1330" locator="281:3-281:72" name="Get All Pharmacy Claims and Claim Responses" xsi:type="FunctionRef">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="PharmacyClaimResponse">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="PharmacyClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <operand localId="1318" locator="281:51-281:63" name="claimResponse" xsi:type="OperandRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
                  <operand localId="1319" locator="281:66-281:70" name="claim" xsi:type="OperandRef">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                  </operand>
               </expression>
            </source>
            <return localId="1455" locator="282:5-285:176">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="originalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="Claim">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="LineItem">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                           <element name="ServicePeriod">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                           <element name="CoveredDays">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType xsi:type="IntervalTypeSpecifier">
                                    <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 </elementType>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
                  <element name="ServicePeriod">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
                  <element name="CoveredDays">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="IntervalTypeSpecifier">
                           <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1454" locator="282:12-285:176" xsi:type="If">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="originalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="Claim">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="LineItem">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                              <element name="ServicePeriod">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                              <element name="CoveredDays">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="IntervalTypeSpecifier">
                                       <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                     <element name="ServicePeriod">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                     <element name="CoveredDays">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="IntervalTypeSpecifier">
                              <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <condition asType="t:Boolean" xsi:type="As">
                     <operand localId="1338" locator="282:15-284:5" resultTypeName="t:Boolean" xsi:type="And">
                        <operand localId="1334" locator="282:17-282:72" resultTypeName="t:Boolean" xsi:type="IsNull">
                           <operand localId="1333" locator="282:17-282:64" path="PharmacyClaimResponse" scope="PharmacyClaimAndResponse" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                        </operand>
                        <operand localId="1337" locator="283:13-283:60" resultTypeName="t:Boolean" xsi:type="IsNull">
                           <operand localId="1336" locator="283:13-283:52" path="PharmacyClaim" scope="PharmacyClaimAndResponse" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </operand>
                        </operand>
                     </operand>
                  </condition>
                  <then xsi:type="As">
                     <operand localId="1339" locator="284:12-284:15" resultTypeName="t:Any" xsi:type="Null"/>
                     <asTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="originalClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="Claim">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="LineItem">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                                 <element name="CoveredDays">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                        <element name="CoveredDays">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </asTypeSpecifier>
                  </then>
                  <else localId="1453" locator="285:12-285:176" name="Get Corresponding Claim for Pharmacy Services" xsi:type="FunctionRef">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="originalClaim">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="Claim">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="LineItem">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                                 <element name="ServicePeriod">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                                 <element name="CoveredDays">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="IntervalTypeSpecifier">
                                          <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                       </elementType>
                                    </type>
                                 </element>
                              </elementType>
                           </type>
                        </element>
                        <element name="ServicePeriod">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                        <element name="CoveredDays">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="IntervalTypeSpecifier">
                                 <pointType name="t:Date" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <operand localId="1341" locator="285:60-285:107" path="PharmacyClaimResponse" scope="PharmacyClaimAndResponse" xsi:type="Property">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                     <operand localId="1343" locator="285:110-285:149" path="PharmacyClaim" scope="PharmacyClaimAndResponse" xsi:type="Property">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                     <operand localId="1344" locator="285:152-285:175" name="ProductOrServiceValueSet" xsi:type="OperandRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </operand>
                  </else>
               </expression>
            </return>
         </expression>
         <operand name="claimResponse">
            <operandTypeSpecifier localId="1313" locator="280:71-280:94" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1312" locator="280:76-280:93" resultTypeName="fhir:ClaimResponse" name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="claim">
            <operandTypeSpecifier localId="1315" locator="280:103-280:118" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1314" locator="280:108-280:117" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="ProductOrServiceValueSet">
            <operandTypeSpecifier localId="1317" locator="280:146-280:162" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1316" locator="280:151-280:161" resultTypeName="t:Code" name="t:Code" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="1558" locator="506:1-517:5" name="Get Claim With Corresponding Claim Response" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="1558">
               <a:s>define function &quot;Get Claim With Corresponding Claim Response&quot;(claimResponse </a:s>
               <a:s r="1523">
                  <a:s>List&lt;</a:s>
                  <a:s r="1522">
                     <a:s>FHIR.ClaimResponse</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, claim </a:s>
               <a:s r="1525">
                  <a:s>List&lt;</a:s>
                  <a:s r="1524">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="1557">
                  <a:s r="1557">
                     <a:s>
                        <a:s r="1527">
                           <a:s r="1526">
                              <a:s>
                                 <a:s>claim</a:s>
                              </a:s>
                           </a:s>
                           <a:s> Claim</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s>
                        <a:s>let </a:s>
                        <a:s r="1539">
                           <a:s>claimResponse: </a:s>
                           <a:s r="1538">
                              <a:s>( </a:s>
                              <a:s r="1538">
                                 <a:s>
                                    <a:s r="1529">
                                       <a:s r="1528">
                                          <a:s>
                                             <a:s>claimResponse</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> CR</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        </a:s>
                                 <a:s r="1537">
                                    <a:s>where </a:s>
                                    <a:s r="1537">
                                       <a:s r="1531">
                                          <a:s r="1530">
                                             <a:s>Claim</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1531">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1536">
                                          <a:s r="1532">
                                             <a:s>FHIRBase</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1536">
                                             <a:s>&quot;GetId&quot; ( </a:s>
                                             <a:s r="1535">
                                                <a:s r="1534">
                                                   <a:s r="1533">
                                                      <a:s>CR</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1534">
                                                      <a:s>request</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1535">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> )</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
    )</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
    </a:s>
                        <a:s r="1552">
                           <a:s>OClaim: </a:s>
                           <a:s r="1551">
                              <a:s>( </a:s>
                              <a:s r="1551">
                                 <a:s>
                                    <a:s r="1541">
                                       <a:s r="1540">
                                          <a:s>
                                             <a:s>claim</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> C</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        </a:s>
                                 <a:s r="1550">
                                    <a:s>where </a:s>
                                    <a:s r="1550">
                                       <a:s r="1543">
                                          <a:s r="1542">
                                             <a:s>Claim</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1543">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1549">
                                          <a:s r="1544">
                                             <a:s>FHIRBase</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1549">
                                             <a:s>&quot;GetId&quot; ( </a:s>
                                             <a:s r="1548">
                                                <a:s>singleton from </a:s>
                                                <a:s r="1547">
                                                   <a:s>( </a:s>
                                                   <a:s r="1547">
                                                      <a:s r="1546">
                                                         <a:s r="1545">
                                                            <a:s>claimResponse</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="1546">
                                                            <a:s>request</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="1547">
                                                         <a:s>reference</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> )</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> )</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
    )</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="1556">
                        <a:s>return </a:s>
                        <a:s r="1555">
                           <a:s>Tuple {&#xd;
      </a:s>
                           <a:s>
                              <a:s>ClaimResponse: </a:s>
                              <a:s r="1553">
                                 <a:s>claimResponse</a:s>
                              </a:s>
                           </a:s>
                           <a:s>,&#xd;
      </a:s>
                           <a:s>
                              <a:s>OriginalClaim: </a:s>
                              <a:s r="1554">
                                 <a:s>OClaim</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
    }</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
            <elementType xsi:type="TupleTypeSpecifier">
               <element name="ClaimResponse">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
               <element name="OriginalClaim">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
            </elementType>
         </resultTypeSpecifier>
         <expression localId="1557" locator="507:3-517:5" xsi:type="Query">
            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
               <elementType xsi:type="TupleTypeSpecifier">
                  <element name="ClaimResponse">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="OriginalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </elementType>
            </resultTypeSpecifier>
            <source localId="1527" locator="507:3-507:13" alias="Claim">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="1526" locator="507:3-507:7" name="claim" xsi:type="OperandRef">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
               </expression>
            </source>
            <let localId="1539" locator="508:9-510:5" identifier="claimResponse">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="1538" locator="508:24-510:5" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source localId="1529" locator="508:26-508:41" alias="CR">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <expression localId="1528" locator="508:26-508:38" name="claimResponse" xsi:type="OperandRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where localId="1537" locator="509:9-509:66" resultTypeName="t:Boolean" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1531" locator="509:15-509:22" resultTypeName="fhir:id" path="id" scope="Claim" xsi:type="Property"/>
                     </operand>
                     <operand localId="1536" locator="509:26-509:66" resultTypeName="t:String" name="GetId" libraryName="FHIRBase" xsi:type="FunctionRef">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1535" locator="509:45-509:64" resultTypeName="fhir:string" path="reference" xsi:type="Property">
                              <source localId="1534" locator="509:45-509:54" resultTypeName="fhir:Reference" path="request" scope="CR" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </expression>
            </let>
            <let localId="1552" locator="511:5-513:5" identifier="OClaim">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <expression localId="1551" locator="511:13-513:5" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </resultTypeSpecifier>
                  <source localId="1541" locator="511:15-511:21" alias="C">
                     <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </resultTypeSpecifier>
                     <expression localId="1540" locator="511:15-511:19" name="claim" xsi:type="OperandRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </expression>
                  </source>
                  <where localId="1550" locator="512:9-512:96" resultTypeName="t:Boolean" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1543" locator="512:15-512:22" resultTypeName="fhir:id" path="id" scope="Claim" xsi:type="Property"/>
                     </operand>
                     <operand localId="1549" locator="512:26-512:96" resultTypeName="t:String" name="GetId" libraryName="FHIRBase" xsi:type="FunctionRef">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1548" locator="512:45-512:94" resultTypeName="fhir:string" xsi:type="SingletonFrom">
                              <operand localId="1547" locator="512:60-512:94" xsi:type="Query">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <source alias="$this">
                                    <expression localId="1546" locator="512:62-512:82" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <source alias="$this">
                                          <expression localId="1545" locator="512:62-512:74" name="claimResponse" xsi:type="QueryLetRef">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                          </expression>
                                       </source>
                                       <where xsi:type="Not">
                                          <operand xsi:type="IsNull">
                                             <operand path="request" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </operand>
                                          </operand>
                                       </where>
                                       <return>
                                          <expression path="request" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </expression>
                                       </return>
                                    </expression>
                                 </source>
                                 <where xsi:type="Not">
                                    <operand xsi:type="IsNull">
                                       <operand path="reference" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </operand>
                                    </operand>
                                 </where>
                                 <return>
                                    <expression path="reference" xsi:type="Property">
                                       <source name="$this" xsi:type="AliasRef"/>
                                    </expression>
                                 </return>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </expression>
            </let>
            <return localId="1556" locator="514:5-517:5">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="TupleTypeSpecifier">
                     <element name="ClaimResponse">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="OriginalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </elementType>
               </resultTypeSpecifier>
               <expression localId="1555" locator="514:12-517:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="ClaimResponse">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="OriginalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="ClaimResponse">
                     <value localId="1553" locator="515:22-515:34" name="claimResponse" xsi:type="QueryLetRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </value>
                  </element>
                  <element name="OriginalClaim">
                     <value localId="1554" locator="516:22-516:27" name="OClaim" xsi:type="QueryLetRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                     </value>
                  </element>
               </expression>
            </return>
         </expression>
         <operand name="claimResponse">
            <operandTypeSpecifier localId="1523" locator="506:77-506:100" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1522" locator="506:82-506:99" resultTypeName="fhir:ClaimResponse" name="fhir:ClaimResponse" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="claim">
            <operandTypeSpecifier localId="1525" locator="506:109-506:124" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1524" locator="506:114-506:123" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="1657" locator="519:1-550:7" name="Medical Claims With Nonacute or Acute Inpatient Discharge" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="1657">
               <a:s>define function &quot;Medical Claims With Nonacute or Acute Inpatient Discharge&quot;(claim </a:s>
               <a:s r="1560">
                  <a:s>List&lt;</a:s>
                  <a:s r="1559">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="1656">
                  <a:s r="1656">
                     <a:s>
                        <a:s r="1564">
                           <a:s r="1563">
                              <a:s>( </a:s>
                              <a:s r="1563">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>&quot;MedicalClaim&quot;: </a:s>
                                    <a:s r="1562">
                                       <a:s>&quot;Professional or Institutional Claims&quot;(</a:s>
                                       <a:s r="1561">
                                          <a:s>claim</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimWithInpatientStay</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="1655">
                        <a:s>return </a:s>
                        <a:s r="1654">
                           <a:s>
                              <a:s r="1627">
                                 <a:s r="1626">
                                    <a:s>( </a:s>
                                    <a:s r="1626">
                                       <a:s>Tuple {&#xd;
      </a:s>
                                       <a:s>
                                          <a:s>&quot;InpatientStayLineItems&quot;: </a:s>
                                          <a:s r="1589">
                                             <a:s>if </a:s>
                                             <a:s r="1567">
                                                <a:s r="1566">
                                                   <a:s r="1565">
                                                      <a:s>ClaimWithInpatientStay</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1566">
                                                      <a:s>&quot;MedicalClaim&quot;</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> is null</a:s>
                                             </a:s>
                                             <a:s r="1568"> then null &#xd;
        else </a:s>
                                             <a:s r="1588">
                                                <a:s>( </a:s>
                                                <a:s r="1588">
                                                   <a:s>
                                                      <a:s r="1570">
                                                         <a:s r="1569">
                                                            <a:s>
                                                               <a:s>ClaimWithInpatientStay.&quot;MedicalClaim&quot;</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> c</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
          </a:s>
                                                   <a:s r="1587">
                                                      <a:s>where </a:s>
                                                      <a:s r="1587">
                                                         <a:s>exists </a:s>
                                                         <a:s r="1586">
                                                            <a:s>( </a:s>
                                                            <a:s r="1586">
                                                               <a:s>
                                                                  <a:s r="1573">
                                                                     <a:s r="1572">
                                                                        <a:s>( </a:s>
                                                                        <a:s r="1572">
                                                                           <a:s r="1571">
                                                                              <a:s>c</a:s>
                                                                           </a:s>
                                                                           <a:s>.</a:s>
                                                                           <a:s r="1572">
                                                                              <a:s>item</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s> )</a:s>
                                                                     </a:s>
                                                                     <a:s> i</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>&#xd;
              </a:s>
                                                               <a:s r="1585">
                                                                  <a:s>where </a:s>
                                                                  <a:s r="1585">
                                                                     <a:s>exists </a:s>
                                                                     <a:s r="1584">
                                                                        <a:s>
                                                                           <a:s r="1579">
                                                                              <a:s r="1578">
                                                                                 <a:s>( </a:s>
                                                                                 <a:s r="1578">
                                                                                    <a:s r="1577">
                                                                                       <a:s r="1574">
                                                                                          <a:s>FHIRHelpers</a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1577">
                                                                                          <a:s>ToConcept ( </a:s>
                                                                                          <a:s r="1576">
                                                                                             <a:s r="1575">
                                                                                                <a:s>i</a:s>
                                                                                             </a:s>
                                                                                             <a:s>.</a:s>
                                                                                             <a:s r="1576">
                                                                                                <a:s>revenue</a:s>
                                                                                             </a:s>
                                                                                          </a:s>
                                                                                          <a:s> )</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1578">
                                                                                       <a:s>codes</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> )</a:s>
                                                                              </a:s>
                                                                              <a:s> rev</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s>&#xd;
                </a:s>
                                                                        <a:s r="1583">
                                                                           <a:s>where </a:s>
                                                                           <a:s r="1583">
                                                                              <a:s r="1581">
                                                                                 <a:s r="1580">
                                                                                    <a:s>rev</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1581">
                                                                                    <a:s>code</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> in </a:s>
                                                                              <a:s r="1582">
                                                                                 <a:s>&quot;Inpatient Stay&quot;</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
          )</a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
      )</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>,&#xd;
      </a:s>
                                       <a:s>
                                          <a:s>&quot;NonacuteInpatientLineItems&quot;: </a:s>
                                          <a:s r="1625">
                                             <a:s>if </a:s>
                                             <a:s r="1592">
                                                <a:s r="1591">
                                                   <a:s r="1590">
                                                      <a:s>ClaimWithInpatientStay</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1591">
                                                      <a:s>&quot;MedicalClaim&quot;</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> is null</a:s>
                                             </a:s>
                                             <a:s r="1593"> then null &#xd;
        else </a:s>
                                             <a:s r="1624">
                                                <a:s>( </a:s>
                                                <a:s r="1624">
                                                   <a:s>
                                                      <a:s r="1595">
                                                         <a:s r="1594">
                                                            <a:s>
                                                               <a:s>ClaimWithInpatientStay.&quot;MedicalClaim&quot;</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> c</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
          </a:s>
                                                   <a:s r="1623">
                                                      <a:s>where </a:s>
                                                      <a:s r="1623">
                                                         <a:s r="1611">
                                                            <a:s>exists </a:s>
                                                            <a:s r="1610">
                                                               <a:s>( </a:s>
                                                               <a:s r="1610">
                                                                  <a:s>
                                                                     <a:s r="1597">
                                                                        <a:s r="1596">
                                                                           <a:s>
                                                                              <a:s>c.item</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s> i</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
              </a:s>
                                                                  <a:s r="1609">
                                                                     <a:s>where </a:s>
                                                                     <a:s r="1609">
                                                                        <a:s>exists </a:s>
                                                                        <a:s r="1608">
                                                                           <a:s>
                                                                              <a:s r="1603">
                                                                                 <a:s r="1602">
                                                                                    <a:s>( </a:s>
                                                                                    <a:s r="1602">
                                                                                       <a:s r="1601">
                                                                                          <a:s r="1598">
                                                                                             <a:s>FHIRHelpers</a:s>
                                                                                          </a:s>
                                                                                          <a:s>.</a:s>
                                                                                          <a:s r="1601">
                                                                                             <a:s>ToConcept ( </a:s>
                                                                                             <a:s r="1600">
                                                                                                <a:s r="1599">
                                                                                                   <a:s>i</a:s>
                                                                                                </a:s>
                                                                                                <a:s>.</a:s>
                                                                                                <a:s r="1600">
                                                                                                   <a:s>revenue</a:s>
                                                                                                </a:s>
                                                                                             </a:s>
                                                                                             <a:s> )</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1602">
                                                                                          <a:s>codes</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s> )</a:s>
                                                                                 </a:s>
                                                                                 <a:s> rev</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
                </a:s>
                                                                           <a:s r="1607">
                                                                              <a:s>where </a:s>
                                                                              <a:s r="1607">
                                                                                 <a:s r="1605">
                                                                                    <a:s r="1604">
                                                                                       <a:s>rev</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1605">
                                                                                       <a:s>code</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> in </a:s>
                                                                                 <a:s r="1606">
                                                                                    <a:s>( </a:s>
                                                                                    <a:s r="1606">
                                                                                       <a:s>&quot;Nonacute Inpatient Stay&quot;</a:s>
                                                                                    </a:s>
                                                                                    <a:s> )</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>&#xd;
          )</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
            or </a:s>
                                                         <a:s r="1622">
                                                            <a:s>exists </a:s>
                                                            <a:s r="1621">
                                                               <a:s>( </a:s>
                                                               <a:s r="1621">
                                                                  <a:s>
                                                                     <a:s r="1615">
                                                                        <a:s r="1614">
                                                                           <a:s>( </a:s>
                                                                           <a:s r="1614">
                                                                              <a:s r="1613">
                                                                                 <a:s r="1612">
                                                                                    <a:s>c</a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1613">
                                                                                    <a:s>subType</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>.</a:s>
                                                                              <a:s r="1614">
                                                                                 <a:s>coding</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> )</a:s>
                                                                        </a:s>
                                                                        <a:s> tob</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
                </a:s>
                                                                  <a:s r="1620">
                                                                     <a:s>where </a:s>
                                                                     <a:s r="1620">
                                                                        <a:s r="1618">
                                                                           <a:s r="1617">
                                                                              <a:s r="1616">
                                                                                 <a:s>tob</a:s>
                                                                              </a:s>
                                                                              <a:s>.</a:s>
                                                                              <a:s r="1617">
                                                                                 <a:s>code</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>.</a:s>
                                                                           <a:s r="1618">
                                                                              <a:s>value</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s> in </a:s>
                                                                        <a:s r="1619">
                                                                           <a:s>&quot;Nonacute Inpatient Stay&quot;</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>&#xd;
            )</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
      )</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
    }</a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s> LineItemDefinition</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="1653">
                              <a:s>return </a:s>
                              <a:s r="1652">
                                 <a:s>Tuple {&#xd;
        </a:s>
                                 <a:s>
                                    <a:s>&quot;InpatientDischarge&quot;: </a:s>
                                    <a:s r="1629">
                                       <a:s r="1628">
                                          <a:s>LineItemDefinition</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1629">
                                          <a:s>&quot;InpatientStayLineItems&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
        </a:s>
                                 <a:s>
                                    <a:s>&quot;NonacuteInpatientDischarge&quot;: </a:s>
                                    <a:s r="1640">
                                       <a:s>
                                          <a:s r="1631">
                                             <a:s r="1630">
                                                <a:s>
                                                   <a:s>LineItemDefinition.&quot;NonacuteInpatientLineItems&quot;</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> nonAcuteInpatientStay</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
          </a:s>
                                       <a:s r="1639">
                                          <a:s>with </a:s>
                                          <a:s r="1633">
                                             <a:s r="1632">
                                                <a:s>
                                                   <a:s>LineItemDefinition.&quot;InpatientStayLineItems&quot;</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> inpatientStay</a:s>
                                          </a:s>
                                          <a:s>&#xd;
            such that </a:s>
                                          <a:s r="1638">
                                             <a:s r="1635">
                                                <a:s r="1634">
                                                   <a:s>nonAcuteInpatientStay</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1635">
                                                   <a:s>id</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> = </a:s>
                                             <a:s r="1637">
                                                <a:s r="1636">
                                                   <a:s>inpatientStay</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1637">
                                                   <a:s>id</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>,&#xd;
        </a:s>
                                 <a:s>
                                    <a:s>&quot;AcuteInpatientDischarge&quot;: </a:s>
                                    <a:s r="1651">
                                       <a:s>
                                          <a:s r="1642">
                                             <a:s r="1641">
                                                <a:s>
                                                   <a:s>LineItemDefinition.&quot;InpatientStayLineItems&quot;</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> inpatientStay</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
          </a:s>
                                       <a:s r="1650">
                                          <a:s>without </a:s>
                                          <a:s r="1644">
                                             <a:s r="1643">
                                                <a:s>
                                                   <a:s>LineItemDefinition.&quot;NonacuteInpatientLineItems&quot;</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> nonAcuteInpatientStay</a:s>
                                          </a:s>
                                          <a:s>&#xd;
            such that </a:s>
                                          <a:s r="1649">
                                             <a:s r="1646">
                                                <a:s r="1645">
                                                   <a:s>inpatientStay</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1646">
                                                   <a:s>id</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> = </a:s>
                                             <a:s r="1648">
                                                <a:s r="1647">
                                                   <a:s>nonAcuteInpatientStay</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1648">
                                                   <a:s>id</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
      }</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="InpatientDischarge">
               <type xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </type>
            </element>
            <element name="NonacuteInpatientDischarge">
               <type xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </type>
            </element>
            <element name="AcuteInpatientDischarge">
               <type xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </type>
            </element>
         </resultTypeSpecifier>
         <expression localId="1656" locator="520:3-550:7" xsi:type="Query">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="InpatientDischarge">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
               <element name="NonacuteInpatientDischarge">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
               <element name="AcuteInpatientDischarge">
                  <type xsi:type="ListTypeSpecifier">
                     <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                  </type>
               </element>
            </resultTypeSpecifier>
            <source localId="1564" locator="520:3-522:28" alias="ClaimWithInpatientStay">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="MedicalClaim">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1563" locator="520:3-522:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="MedicalClaim">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="MedicalClaim">
                     <value localId="1562" locator="521:21-521:65" name="Professional or Institutional Claims" xsi:type="FunctionRef">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </resultTypeSpecifier>
                        <operand localId="1561" locator="521:60-521:64" name="claim" xsi:type="OperandRef">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                        </operand>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="1655" locator="523:5-550:7">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="InpatientDischarge">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="NonacuteInpatientDischarge">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
                  <element name="AcuteInpatientDischarge">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1654" locator="523:12-550:7" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="InpatientDischarge">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="NonacuteInpatientDischarge">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                     <element name="AcuteInpatientDischarge">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <source localId="1627" locator="523:12-541:26" alias="LineItemDefinition">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="InpatientStayLineItems">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                        <element name="NonacuteInpatientLineItems">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="1626" locator="523:12-541:7" xsi:type="Tuple">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="InpatientStayLineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                           <element name="NonacuteInpatientLineItems">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <element name="InpatientStayLineItems">
                           <value localId="1589" locator="524:33-530:7" xsi:type="If">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <condition asType="t:Boolean" xsi:type="As">
                                 <operand localId="1567" locator="524:36-524:80" resultTypeName="t:Boolean" xsi:type="IsNull">
                                    <operand localId="1566" locator="524:36-524:72" path="MedicalClaim" scope="ClaimWithInpatientStay" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                    </operand>
                                 </operand>
                              </condition>
                              <then xsi:type="As">
                                 <operand localId="1568" locator="524:87-524:90" resultTypeName="t:Any" xsi:type="Null"/>
                                 <asTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </asTypeSpecifier>
                              </then>
                              <else localId="1588" locator="525:14-530:7" xsi:type="Query">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <source localId="1570" locator="525:16-525:54" alias="c">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <expression localId="1569" locator="525:16-525:52" path="MedicalClaim" scope="ClaimWithInpatientStay" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                    </expression>
                                 </source>
                                 <where localId="1587" locator="526:11-529:11" resultTypeName="t:Boolean" xsi:type="Exists">
                                    <operand localId="1586" locator="526:24-529:11" xsi:type="Query">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <source localId="1573" locator="526:26-526:37" alias="i">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <expression localId="1572" locator="526:26-526:35" path="item" scope="c" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                          </expression>
                                       </source>
                                       <where localId="1585" locator="527:15-528:50" resultTypeName="t:Boolean" xsi:type="Exists">
                                          <operand localId="1584" locator="527:28-528:50" xsi:type="Query">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <source localId="1579" locator="527:28-527:76" alias="rev">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <expression localId="1578" locator="527:28-527:72" path="codes" xsi:type="Property">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <source localId="1577" locator="527:30-527:64" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                      <operand localId="1576" locator="527:54-527:62" resultTypeName="fhir:CodeableConcept" path="revenue" scope="i" xsi:type="Property"/>
                                                   </source>
                                                </expression>
                                             </source>
                                             <where localId="1583" locator="528:17-528:50" resultTypeName="t:Boolean" xsi:type="InValueSet">
                                                <code localId="1581" locator="528:23-528:30" resultTypeName="t:String" path="code" scope="rev" xsi:type="Property"/>
                                                <valueset localId="1582" locator="528:35-528:50" name="Inpatient Stay">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                </valueset>
                                             </where>
                                          </operand>
                                       </where>
                                    </operand>
                                 </where>
                              </else>
                           </value>
                        </element>
                        <element name="NonacuteInpatientLineItems">
                           <value localId="1625" locator="531:37-540:7" xsi:type="If">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <condition asType="t:Boolean" xsi:type="As">
                                 <operand localId="1592" locator="531:40-531:84" resultTypeName="t:Boolean" xsi:type="IsNull">
                                    <operand localId="1591" locator="531:40-531:76" path="MedicalClaim" scope="ClaimWithInpatientStay" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                    </operand>
                                 </operand>
                              </condition>
                              <then xsi:type="As">
                                 <operand localId="1593" locator="531:91-531:94" resultTypeName="t:Any" xsi:type="Null"/>
                                 <asTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </asTypeSpecifier>
                              </then>
                              <else localId="1624" locator="532:14-540:7" xsi:type="Query">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <source localId="1595" locator="532:16-532:54" alias="c">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <expression localId="1594" locator="532:16-532:52" path="MedicalClaim" scope="ClaimWithInpatientStay" xsi:type="Property">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                    </expression>
                                 </source>
                                 <where localId="1623" locator="533:11-539:13" resultTypeName="t:Boolean" xsi:type="Or">
                                    <operand localId="1611" locator="533:17-536:11" resultTypeName="t:Boolean" xsi:type="Exists">
                                       <operand localId="1610" locator="533:24-536:11" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <source localId="1597" locator="533:26-533:33" alias="i">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <expression localId="1596" locator="533:26-533:31" path="item" scope="c" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </expression>
                                          </source>
                                          <where localId="1609" locator="534:15-535:63" resultTypeName="t:Boolean" xsi:type="Exists">
                                             <operand localId="1608" locator="534:28-535:63" xsi:type="Query">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <source localId="1603" locator="534:28-534:76" alias="rev">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1602" locator="534:28-534:72" path="codes" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <source localId="1601" locator="534:30-534:64" resultTypeName="t:Concept" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                         <operand localId="1600" locator="534:54-534:62" resultTypeName="fhir:CodeableConcept" path="revenue" scope="i" xsi:type="Property"/>
                                                      </source>
                                                   </expression>
                                                </source>
                                                <where localId="1607" locator="535:17-535:63" resultTypeName="t:Boolean" xsi:type="InValueSet">
                                                   <code localId="1605" locator="535:23-535:30" resultTypeName="t:String" path="code" scope="rev" xsi:type="Property"/>
                                                   <valueset localId="1606" locator="535:35-535:63" name="Nonacute Inpatient Stay">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </valueset>
                                                </where>
                                             </operand>
                                          </where>
                                       </operand>
                                    </operand>
                                    <operand localId="1622" locator="537:16-539:13" resultTypeName="t:Boolean" xsi:type="Exists">
                                       <operand localId="1621" locator="537:23-539:13" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <source localId="1615" locator="537:25-537:48" alias="tob">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <expression localId="1614" locator="537:25-537:44" path="coding" xsi:type="Property">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <source localId="1613" locator="537:27-537:35" resultTypeName="fhir:CodeableConcept" path="subType" scope="c" xsi:type="Property"/>
                                             </expression>
                                          </source>
                                          <where localId="1620" locator="538:17-538:65" resultTypeName="t:Boolean" xsi:type="InValueSet">
                                             <code localId="1618" locator="538:23-538:36" resultTypeName="t:String" path="value" xsi:type="Property">
                                                <source localId="1617" locator="538:23-538:30" resultTypeName="fhir:code" path="code" scope="tob" xsi:type="Property"/>
                                             </code>
                                             <valueset localId="1619" locator="538:41-538:65" name="Nonacute Inpatient Stay">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="t:Code" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                             </valueset>
                                          </where>
                                       </operand>
                                    </operand>
                                 </where>
                              </else>
                           </value>
                        </element>
                     </expression>
                  </source>
                  <return localId="1653" locator="542:7-550:7">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="InpatientDischarge">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                        <element name="NonacuteInpatientDischarge">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                        <element name="AcuteInpatientDischarge">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="1652" locator="542:14-550:7" xsi:type="Tuple">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="InpatientDischarge">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                           <element name="NonacuteInpatientDischarge">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                           <element name="AcuteInpatientDischarge">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <element name="InpatientDischarge">
                           <value localId="1629" locator="543:31-543:73" path="InpatientStayLineItems" scope="LineItemDefinition" xsi:type="Property">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </value>
                        </element>
                        <element name="NonacuteInpatientDischarge">
                           <value localId="1640" locator="544:39-546:65" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <source localId="1631" locator="544:39-544:107" alias="nonAcuteInpatientStay">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="1630" locator="544:39-544:85" path="NonacuteInpatientLineItems" scope="LineItemDefinition" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </expression>
                              </source>
                              <relationship localId="1639" locator="545:11-546:65" alias="inpatientStay" xsi:type="With">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="1632" locator="545:16-545:58" path="InpatientStayLineItems" scope="LineItemDefinition" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </expression>
                                 <suchThat localId="1638" locator="546:23-546:65" resultTypeName="t:Boolean" xsi:type="Equal">
                                    <operand localId="1635" locator="546:23-546:46" resultTypeName="fhir:id" path="id" scope="nonAcuteInpatientStay" xsi:type="Property"/>
                                    <operand localId="1637" locator="546:50-546:65" resultTypeName="fhir:id" path="id" scope="inpatientStay" xsi:type="Property"/>
                                 </suchThat>
                              </relationship>
                           </value>
                        </element>
                        <element name="AcuteInpatientDischarge">
                           <value localId="1651" locator="547:36-549:65" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <source localId="1642" locator="547:36-547:92" alias="inpatientStay">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="1641" locator="547:36-547:78" path="InpatientStayLineItems" scope="LineItemDefinition" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </expression>
                              </source>
                              <relationship localId="1650" locator="548:11-549:65" alias="nonAcuteInpatientStay" xsi:type="Without">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="1643" locator="548:19-548:65" path="NonacuteInpatientLineItems" scope="LineItemDefinition" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </expression>
                                 <suchThat localId="1649" locator="549:23-549:65" resultTypeName="t:Boolean" xsi:type="Equal">
                                    <operand localId="1646" locator="549:23-549:38" resultTypeName="fhir:id" path="id" scope="inpatientStay" xsi:type="Property"/>
                                    <operand localId="1648" locator="549:42-549:65" resultTypeName="fhir:id" path="id" scope="nonAcuteInpatientStay" xsi:type="Property"/>
                                 </suchThat>
                              </relationship>
                           </value>
                        </element>
                     </expression>
                  </return>
               </expression>
            </return>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="1560" locator="519:83-519:98" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1559" locator="519:88-519:97" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="1800" locator="552:1-605:9" name="Get Prescriber NPI from Claims" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="1800">
               <a:s>define function &quot;Get Prescriber NPI from Claims&quot;(claim </a:s>
               <a:s r="1659">
                  <a:s>List&lt;</a:s>
                  <a:s r="1658">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="1799">
                  <a:s r="1799">
                     <a:s>
                        <a:s r="1692">
                           <a:s r="1691">
                              <a:s>( </a:s>
                              <a:s r="1691">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>CareTeams: </a:s>
                                    <a:s r="1690">
                                       <a:s>
                                          <a:s r="1661">
                                             <a:s r="1660">
                                                <a:s>
                                                   <a:s>claim</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> C</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s>
                                          <a:s>let </a:s>
                                          <a:s r="1663">
                                             <a:s>singleClaim: </a:s>
                                             <a:s r="1662">
                                                <a:s>C</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>,&#xd;
      </a:s>
                                          <a:s r="1673">
                                             <a:s>claimcareTeam: </a:s>
                                             <a:s r="1672">
                                                <a:s>( </a:s>
                                                <a:s r="1672">
                                                   <a:s>
                                                      <a:s r="1665">
                                                         <a:s r="1664">
                                                            <a:s>
                                                               <a:s>C.careTeam</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> ct</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
          </a:s>
                                                   <a:s r="1671">
                                                      <a:s>where </a:s>
                                                      <a:s r="1671">
                                                         <a:s r="1669">
                                                            <a:s r="1666">
                                                               <a:s>FHIRHelpers</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="1669">
                                                               <a:s>ToInteger ( </a:s>
                                                               <a:s r="1668">
                                                                  <a:s r="1667">
                                                                     <a:s>ct</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="1668">
                                                                     <a:s>sequence</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s> )</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="1670"> = 1</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
      )</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="1689">
                                          <a:s>return </a:s>
                                          <a:s r="1688">
                                             <a:s>Tuple {&#xd;
        </a:s>
                                             <a:s>
                                                <a:s>SingleCareTeam: </a:s>
                                                <a:s r="1674">
                                                   <a:s>singleClaim</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>,&#xd;
        </a:s>
                                             <a:s>
                                                <a:s>CareTeamsProvider: </a:s>
                                                <a:s r="1676">
                                                   <a:s r="1675">
                                                      <a:s>claimcareTeam</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1676">
                                                      <a:s>provider</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>,&#xd;
        </a:s>
                                             <a:s>
                                                <a:s>CareTeamsProviderID: </a:s>
                                                <a:s r="1687">
                                                   <a:s>
                                                      <a:s r="1678">
                                                         <a:s r="1677">
                                                            <a:s>
                                                               <a:s>claimcareTeam.provider</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> p</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
          </a:s>
                                                   <a:s r="1686">
                                                      <a:s>return all </a:s>
                                                      <a:s r="1685">
                                                         <a:s>( </a:s>
                                                         <a:s r="1685">
                                                            <a:s>
                                                               <a:s r="1680">
                                                                  <a:s r="1679">
                                                                     <a:s>
                                                                        <a:s>p.reference</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> r</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
              </a:s>
                                                            <a:s r="1684">
                                                               <a:s>return all </a:s>
                                                               <a:s r="1683">
                                                                  <a:s r="1681">
                                                                     <a:s>FHIRBase</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="1683">
                                                                     <a:s>&quot;GetId&quot; ( </a:s>
                                                                     <a:s r="1682">
                                                                        <a:s>r</a:s>
                                                                     </a:s>
                                                                     <a:s> )</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
          )</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
      }</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimProperties</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="1798">
                        <a:s>return </a:s>
                        <a:s r="1797">
                           <a:s>
                              <a:s r="1703">
                                 <a:s r="1702">
                                    <a:s>( </a:s>
                                    <a:s r="1702">
                                       <a:s>Tuple {&#xd;
      </a:s>
                                       <a:s>
                                          <a:s>Practitioners: </a:s>
                                          <a:s r="1701">
                                             <a:s>
                                                <a:s r="1694">
                                                   <a:s r="1693">
                                                      <a:s r="1693">
                                                         <a:s>[Practitioner]</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> p</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s r="1700">
                                                <a:s>where </a:s>
                                                <a:s r="1700">
                                                   <a:s r="1696">
                                                      <a:s r="1695">
                                                         <a:s>p</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="1696">
                                                         <a:s>id</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> in </a:s>
                                                   <a:s r="1699">
                                                      <a:s r="1698">
                                                         <a:s r="1697">
                                                            <a:s>ClaimProperties</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="1698">
                                                            <a:s>CareTeams</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="1699">
                                                         <a:s>CareTeamsProviderID</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
    }</a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s> PractitionerMatch</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="1796">
                              <a:s>return </a:s>
                              <a:s r="1795">
                                 <a:s>
                                    <a:s r="1757">
                                       <a:s r="1756">
                                          <a:s>( </a:s>
                                          <a:s r="1756">
                                             <a:s>Tuple {&#xd;
        </a:s>
                                             <a:s>
                                                <a:s>IdentifierTuple: </a:s>
                                                <a:s r="1755">
                                                   <a:s>
                                                      <a:s r="1705">
                                                         <a:s r="1704">
                                                            <a:s>
                                                               <a:s>PractitionerMatch.Practitioners</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> P</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
          </a:s>
                                                   <a:s r="1707">
                                                      <a:s>where </a:s>
                                                      <a:s r="1707">
                                                         <a:s r="1706">
                                                            <a:s>P</a:s>
                                                         </a:s>
                                                         <a:s> is not null</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
          </a:s>
                                                   <a:s r="1754">
                                                      <a:s>return all </a:s>
                                                      <a:s r="1753">
                                                         <a:s>( </a:s>
                                                         <a:s r="1753">
                                                            <a:s>Tuple {&#xd;
              </a:s>
                                                            <a:s>
                                                               <a:s>AllIdentifiers: </a:s>
                                                               <a:s r="1730">
                                                                  <a:s>( </a:s>
                                                                  <a:s r="1730">
                                                                     <a:s>
                                                                        <a:s r="1709">
                                                                           <a:s r="1708">
                                                                              <a:s>
                                                                                 <a:s>P.identifier</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> l</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
                  </a:s>
                                                                     <a:s r="1726">
                                                                        <a:s>where </a:s>
                                                                        <a:s r="1726">
                                                                           <a:s r="1721">
                                                                              <a:s r="1714">
                                                                                 <a:s r="1712">
                                                                                    <a:s r="1711">
                                                                                       <a:s r="1710">
                                                                                          <a:s>l</a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1711">
                                                                                          <a:s>system</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1712">
                                                                                       <a:s>value</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> = </a:s>
                                                                                 <a:s r="1713">
                                                                                    <a:s>'http://hl7.org/fhir/sid/us-npi'</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>&#xd;
                    and </a:s>
                                                                              <a:s r="1720">
                                                                                 <a:s r="1716">
                                                                                    <a:s r="1715">
                                                                                       <a:s>l</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1716">
                                                                                       <a:s>type</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> ~ </a:s>
                                                                                 <a:s r="1719">
                                                                                    <a:s>ToConcept(</a:s>
                                                                                    <a:s r="1718">
                                                                                       <a:s r="1717">
                                                                                          <a:s>Terminology</a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1718">
                                                                                          <a:s>&quot;Provider number&quot;</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s>)</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
                    and </a:s>
                                                                           <a:s r="1725">
                                                                              <a:s r="1724">
                                                                                 <a:s r="1723">
                                                                                    <a:s r="1722">
                                                                                       <a:s>l</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1723">
                                                                                       <a:s>value</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1724">
                                                                                    <a:s>value</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> is not null</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
                  </a:s>
                                                                     <a:s r="1729">
                                                                        <a:s>return </a:s>
                                                                        <a:s r="1728">
                                                                           <a:s r="1727">
                                                                              <a:s>l</a:s>
                                                                           </a:s>
                                                                           <a:s>.</a:s>
                                                                           <a:s r="1728">
                                                                              <a:s>value</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
              )</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>,&#xd;
              </a:s>
                                                            <a:s>
                                                               <a:s>NullIdentifiers: </a:s>
                                                               <a:s r="1752">
                                                                  <a:s>( </a:s>
                                                                  <a:s r="1752">
                                                                     <a:s>
                                                                        <a:s r="1732">
                                                                           <a:s r="1731">
                                                                              <a:s>
                                                                                 <a:s>P.identifier</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> l</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
                  </a:s>
                                                                     <a:s r="1749">
                                                                        <a:s>where </a:s>
                                                                        <a:s r="1749">
                                                                           <a:s r="1744">
                                                                              <a:s r="1737">
                                                                                 <a:s r="1735">
                                                                                    <a:s r="1734">
                                                                                       <a:s r="1733">
                                                                                          <a:s>l</a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1734">
                                                                                          <a:s>system</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1735">
                                                                                       <a:s>value</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> = </a:s>
                                                                                 <a:s r="1736">
                                                                                    <a:s>'http://hl7.org/fhir/sid/us-npi'</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>&#xd;
                    and </a:s>
                                                                              <a:s r="1743">
                                                                                 <a:s r="1739">
                                                                                    <a:s r="1738">
                                                                                       <a:s>l</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1739">
                                                                                       <a:s>type</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> ~ </a:s>
                                                                                 <a:s r="1742">
                                                                                    <a:s>ToConcept(</a:s>
                                                                                    <a:s r="1741">
                                                                                       <a:s r="1740">
                                                                                          <a:s>Terminology</a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1741">
                                                                                          <a:s>&quot;Provider number&quot;</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s>)</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
                    and </a:s>
                                                                           <a:s r="1748">
                                                                              <a:s r="1747">
                                                                                 <a:s r="1746">
                                                                                    <a:s r="1745">
                                                                                       <a:s>l</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1746">
                                                                                       <a:s>value</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1747">
                                                                                    <a:s>value</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> is null</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
                  </a:s>
                                                                     <a:s r="1751">
                                                                        <a:s>return all </a:s>
                                                                        <a:s r="1750">
                                                                           <a:s>l</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
              )</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
            }</a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
          )</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
      }</a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                       <a:s> GetIdentifiers</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        </a:s>
                                 <a:s r="1794">
                                    <a:s>return </a:s>
                                    <a:s r="1793">
                                       <a:s>( </a:s>
                                       <a:s r="1793">
                                          <a:s>Tuple {&#xd;
            </a:s>
                                          <a:s>
                                             <a:s>IdentifierCount: </a:s>
                                             <a:s r="1792">
                                                <a:s>if </a:s>
                                                <a:s r="1761">
                                                   <a:s>exists </a:s>
                                                   <a:s r="1760">
                                                      <a:s r="1759">
                                                         <a:s r="1758">
                                                            <a:s>ClaimProperties</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="1759">
                                                            <a:s>CareTeams</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="1760">
                                                         <a:s>SingleCareTeam</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> then </a:s>
                                                <a:s r="1790">
                                                   <a:s>( </a:s>
                                                   <a:s r="1790">
                                                      <a:s r="1781">
                                                         <a:s r="1768">
                                                            <a:s>Count(</a:s>
                                                            <a:s r="1767">
                                                               <a:s>
                                                                  <a:s r="1763">
                                                                     <a:s r="1762">
                                                                        <a:s>
                                                                           <a:s>ClaimProperties.CareTeams.SingleCareTeam</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s> X</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>&#xd;
                  </a:s>
                                                               <a:s r="1766">
                                                                  <a:s>where </a:s>
                                                                  <a:s r="1766">
                                                                     <a:s r="1765">
                                                                        <a:s r="1764">
                                                                           <a:s>X</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="1765">
                                                                           <a:s>careTeam</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s> is null</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
              )</a:s>
                                                         </a:s>
                                                         <a:s>+ </a:s>
                                                         <a:s r="1780">
                                                            <a:s>Count(</a:s>
                                                            <a:s r="1779">
                                                               <a:s>
                                                                  <a:s r="1776">
                                                                     <a:s r="1775">
                                                                        <a:s>(</a:s>
                                                                        <a:s r="1775">
                                                                           <a:s>flatten</a:s>
                                                                           <a:s r="1774">
                                                                              <a:s>(</a:s>
                                                                              <a:s r="1774">
                                                                                 <a:s>
                                                                                    <a:s r="1770">
                                                                                       <a:s r="1769">
                                                                                          <a:s>
                                                                                             <a:s>GetIdentifiers.IdentifierTuple</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s> X</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>&#xd;
                    </a:s>
                                                                                 <a:s r="1773">
                                                                                    <a:s>return all </a:s>
                                                                                    <a:s r="1772">
                                                                                       <a:s r="1771">
                                                                                          <a:s>X</a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1772">
                                                                                          <a:s>AllIdentifiers</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>&#xd;
                )</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s>)</a:s>
                                                                     </a:s>
                                                                     <a:s>X</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>&#xd;
                  </a:s>
                                                               <a:s r="1778">
                                                                  <a:s>return </a:s>
                                                                  <a:s r="1777">
                                                                     <a:s>X</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
              )</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>+ </a:s>
                                                      <a:s r="1789">
                                                         <a:s>Count(</a:s>
                                                         <a:s r="1788">
                                                            <a:s>flatten</a:s>
                                                            <a:s r="1787">
                                                               <a:s>(</a:s>
                                                               <a:s r="1787">
                                                                  <a:s>
                                                                     <a:s r="1783">
                                                                        <a:s r="1782">
                                                                           <a:s>
                                                                              <a:s>GetIdentifiers.IdentifierTuple</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s> X</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
                    </a:s>
                                                                  <a:s r="1786">
                                                                     <a:s>return all </a:s>
                                                                     <a:s r="1785">
                                                                        <a:s r="1784">
                                                                           <a:s>X</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="1785">
                                                                           <a:s>NullIdentifiers</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>&#xd;
                )</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
              )</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
            )</a:s>
                                                </a:s>
                                                <a:s r="1791"> &#xd;
              else 0</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>&#xd;
          }</a:s>
                                       </a:s>
                                       <a:s>&#xd;
        )</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="IdentifierCount">
               <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            </element>
         </resultTypeSpecifier>
         <expression localId="1799" locator="553:3-605:9" xsi:type="Query">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="IdentifierCount">
                  <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               </element>
            </resultTypeSpecifier>
            <source localId="1692" locator="553:3-567:21" alias="ClaimProperties">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="CareTeams">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="SingleCareTeam">
                              <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </element>
                           <element name="CareTeamsProvider">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                           <element name="CareTeamsProviderID">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1691" locator="553:3-567:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="CareTeams">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="SingleCareTeam">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="CareTeamsProvider">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                              <element name="CareTeamsProviderID">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="CareTeams">
                     <value localId="1690" locator="554:16-566:7" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="SingleCareTeam">
                                 <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="CareTeamsProvider">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                              <element name="CareTeamsProviderID">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <source localId="1661" locator="554:16-554:22" alias="C">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="1660" locator="554:16-554:20" name="claim" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <let localId="1663" locator="555:11-555:24" resultTypeName="fhir:Claim" identifier="singleClaim">
                           <expression localId="1662" locator="555:24" resultTypeName="fhir:Claim" name="C" xsi:type="AliasRef"/>
                        </let>
                        <let localId="1673" locator="556:7-558:7" identifier="claimcareTeam">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.CareTeam" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="1672" locator="556:22-558:7" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.CareTeam" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <source localId="1665" locator="556:24-556:36" alias="ct">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.CareTeam" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="1664" locator="556:24-556:33" path="careTeam" scope="C" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.CareTeam" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </expression>
                              </source>
                              <where localId="1671" locator="557:11-557:57" resultTypeName="t:Boolean" xsi:type="Equal">
                                 <operand localId="1669" locator="557:17-557:53" resultTypeName="t:Integer" name="ToInteger" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1668" locator="557:41-557:51" resultTypeName="fhir:positiveInt" path="sequence" scope="ct" xsi:type="Property"/>
                                 </operand>
                                 <operand localId="1670" locator="557:57" resultTypeName="t:Integer" valueType="t:Integer" value="1" xsi:type="Literal"/>
                              </where>
                           </expression>
                        </let>
                        <return localId="1689" locator="559:7-566:7">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="SingleCareTeam">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="CareTeamsProvider">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                                 <element name="CareTeamsProviderID">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </resultTypeSpecifier>
                           <expression localId="1688" locator="559:14-566:7" xsi:type="Tuple">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="SingleCareTeam">
                                    <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                                 <element name="CareTeamsProvider">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                                 <element name="CareTeamsProviderID">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </resultTypeSpecifier>
                              <element name="SingleCareTeam">
                                 <value localId="1674" locator="560:25-560:35" resultTypeName="fhir:Claim" name="singleClaim" xsi:type="QueryLetRef"/>
                              </element>
                              <element name="CareTeamsProvider">
                                 <value localId="1676" locator="561:28-561:49" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <source alias="$this">
                                       <expression localId="1675" locator="561:28-561:40" name="claimcareTeam" xsi:type="QueryLetRef">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Claim.CareTeam" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                       </expression>
                                    </source>
                                    <where xsi:type="Not">
                                       <operand xsi:type="IsNull">
                                          <operand path="provider" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </operand>
                                       </operand>
                                    </where>
                                    <return>
                                       <expression path="provider" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </expression>
                                    </return>
                                 </value>
                              </element>
                              <element name="CareTeamsProviderID">
                                 <value localId="1687" locator="562:30-565:11" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <source localId="1678" locator="562:30-562:53" alias="p">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <expression localId="1677" locator="562:30-562:51" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                          <source alias="$this">
                                             <expression name="claimcareTeam" xsi:type="QueryLetRef"/>
                                          </source>
                                          <where xsi:type="Not">
                                             <operand xsi:type="IsNull">
                                                <operand path="provider" xsi:type="Property">
                                                   <source name="$this" xsi:type="AliasRef"/>
                                                </operand>
                                             </operand>
                                          </where>
                                          <return>
                                             <expression path="provider" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </expression>
                                          </return>
                                       </expression>
                                    </source>
                                    <return localId="1686" locator="563:11-565:11" distinct="false">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <expression localId="1685" locator="563:22-565:11" resultTypeName="t:String" xsi:type="Query">
                                          <source localId="1680" locator="563:24-563:36" resultTypeName="fhir:string" alias="r">
                                             <expression localId="1679" locator="563:24-563:34" resultTypeName="fhir:string" path="reference" scope="p" xsi:type="Property"/>
                                          </source>
                                          <return localId="1684" locator="564:15-564:47" resultTypeName="t:String" distinct="false">
                                             <expression localId="1683" locator="564:26-564:47" resultTypeName="t:String" name="GetId" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                   <operand localId="1682" locator="564:45" resultTypeName="fhir:string" name="r" xsi:type="AliasRef"/>
                                                </operand>
                                             </expression>
                                          </return>
                                       </expression>
                                    </return>
                                 </value>
                              </element>
                           </expression>
                        </return>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="1798" locator="568:5-605:9">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="IdentifierCount">
                     <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1797" locator="568:12-605:9" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="IdentifierCount">
                        <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                     </element>
                  </resultTypeSpecifier>
                  <source localId="1703" locator="568:12-571:25" alias="PractitionerMatch">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="Practitioners">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Practitioner" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="1702" locator="568:12-571:7" xsi:type="Tuple">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="Practitioners">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Practitioner" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <element name="Practitioners">
                           <value localId="1701" locator="569:22-570:67" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Practitioner" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <source localId="1694" locator="569:22-569:37" alias="p">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Practitioner" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="1693" locator="569:22-569:35" dataType="fhir:Practitioner" templateId="http://hl7.org/fhir/StructureDefinition/Practitioner" xsi:type="Retrieve">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Practitioner" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </expression>
                              </source>
                              <where localId="1700" locator="570:9-570:67" resultTypeName="t:Boolean" xsi:type="In">
                                 <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1696" locator="570:15-570:18" resultTypeName="fhir:id" path="id" scope="p" xsi:type="Property"/>
                                 </operand>
                                 <operand localId="1699" locator="570:23-570:67" xsi:type="Flatten">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <operand xsi:type="Query">
                                       <source alias="$this">
                                          <expression localId="1698" locator="570:23-570:47" path="CareTeams" scope="ClaimProperties" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="TupleTypeSpecifier">
                                                   <element name="SingleCareTeam">
                                                      <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                   </element>
                                                   <element name="CareTeamsProvider">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                   <element name="CareTeamsProviderID">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                </elementType>
                                             </resultTypeSpecifier>
                                          </expression>
                                       </source>
                                       <where xsi:type="Not">
                                          <operand xsi:type="IsNull">
                                             <operand path="CareTeamsProviderID" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </operand>
                                          </operand>
                                       </where>
                                       <return>
                                          <expression path="CareTeamsProviderID" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </expression>
                                       </return>
                                    </operand>
                                 </operand>
                              </where>
                           </value>
                        </element>
                     </expression>
                  </source>
                  <return localId="1796" locator="572:7-605:9">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="IdentifierCount">
                           <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="1795" locator="572:14-605:9" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="IdentifierCount">
                              <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                           </element>
                        </resultTypeSpecifier>
                        <source localId="1757" locator="572:14-590:24" alias="GetIdentifiers">
                           <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="IdentifierTuple">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="AllIdentifiers">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                       <element name="NullIdentifiers">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </elementType>
                                 </type>
                              </element>
                           </resultTypeSpecifier>
                           <expression localId="1756" locator="572:14-590:9" xsi:type="Tuple">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="IdentifierTuple">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="TupleTypeSpecifier">
                                          <element name="AllIdentifiers">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                          <element name="NullIdentifiers">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </elementType>
                                    </type>
                                 </element>
                              </resultTypeSpecifier>
                              <element name="IdentifierTuple">
                                 <value localId="1755" locator="573:26-589:11" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="TupleTypeSpecifier">
                                          <element name="AllIdentifiers">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                          <element name="NullIdentifiers">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </elementType>
                                    </resultTypeSpecifier>
                                    <source localId="1705" locator="573:26-573:58" alias="P">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Practitioner" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <expression localId="1704" locator="573:26-573:56" path="Practitioners" scope="PractitionerMatch" xsi:type="Property">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Practitioner" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                       </expression>
                                    </source>
                                    <where localId="1707" locator="574:11-574:29" resultTypeName="t:Boolean" xsi:type="Not">
                                       <operand locator="574:17-574:29" resultTypeName="t:Boolean" xsi:type="IsNull">
                                          <operand localId="1706" locator="574:17" resultTypeName="fhir:Practitioner" name="P" xsi:type="AliasRef"/>
                                       </operand>
                                    </where>
                                    <return localId="1754" locator="575:11-589:11" distinct="false">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="AllIdentifiers">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                             <element name="NullIdentifiers">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </elementType>
                                       </resultTypeSpecifier>
                                       <expression localId="1753" locator="575:22-589:11" xsi:type="Tuple">
                                          <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                             <element name="AllIdentifiers">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                             <element name="NullIdentifiers">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </resultTypeSpecifier>
                                          <element name="AllIdentifiers">
                                             <value localId="1730" locator="576:31-581:15" xsi:type="Query">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <source localId="1709" locator="576:33-576:46" alias="l">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1708" locator="576:33-576:44" path="identifier" scope="P" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </expression>
                                                </source>
                                                <where localId="1726" locator="577:19-579:49" resultTypeName="t:Boolean" xsi:type="And">
                                                   <operand localId="1721" locator="577:25-578:73" resultTypeName="t:Boolean" xsi:type="And">
                                                      <operand localId="1714" locator="577:25-577:73" resultTypeName="t:Boolean" xsi:type="Equal">
                                                         <operand localId="1712" locator="577:25-577:38" resultTypeName="t:String" path="value" xsi:type="Property">
                                                            <source localId="1711" locator="577:25-577:32" resultTypeName="fhir:uri" path="system" scope="l" xsi:type="Property"/>
                                                         </operand>
                                                         <operand localId="1713" locator="577:42-577:73" resultTypeName="t:String" valueType="t:String" value="http://hl7.org/fhir/sid/us-npi" xsi:type="Literal"/>
                                                      </operand>
                                                      <operand localId="1720" locator="578:25-578:73" resultTypeName="t:Boolean" xsi:type="Equivalent">
                                                         <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                            <operand localId="1716" locator="578:25-578:30" resultTypeName="fhir:CodeableConcept" path="type" scope="l" xsi:type="Property"/>
                                                         </operand>
                                                         <operand localId="1719" locator="578:34-578:73" resultTypeName="t:Concept" xsi:type="ToConcept">
                                                            <operand localId="1718" locator="578:44-578:72" resultTypeName="t:Code" name="Provider number" libraryName="Terminology" xsi:type="CodeRef"/>
                                                         </operand>
                                                      </operand>
                                                   </operand>
                                                   <operand localId="1725" locator="579:25-579:49" resultTypeName="t:Boolean" xsi:type="Not">
                                                      <operand locator="579:25-579:49" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                         <operand localId="1724" locator="579:25-579:37" resultTypeName="t:String" path="value" xsi:type="Property">
                                                            <source localId="1723" locator="579:25-579:31" resultTypeName="fhir:string" path="value" scope="l" xsi:type="Property"/>
                                                         </operand>
                                                      </operand>
                                                   </operand>
                                                </where>
                                                <return localId="1729" locator="580:19-580:32">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1728" locator="580:26-580:32" resultTypeName="fhir:string" path="value" scope="l" xsi:type="Property"/>
                                                </return>
                                             </value>
                                          </element>
                                          <element name="NullIdentifiers">
                                             <value localId="1752" locator="582:32-587:15" xsi:type="Query">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <source localId="1732" locator="582:34-582:47" alias="l">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1731" locator="582:34-582:45" path="identifier" scope="P" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </expression>
                                                </source>
                                                <where localId="1749" locator="583:19-585:45" resultTypeName="t:Boolean" xsi:type="And">
                                                   <operand localId="1744" locator="583:25-584:73" resultTypeName="t:Boolean" xsi:type="And">
                                                      <operand localId="1737" locator="583:25-583:73" resultTypeName="t:Boolean" xsi:type="Equal">
                                                         <operand localId="1735" locator="583:25-583:38" resultTypeName="t:String" path="value" xsi:type="Property">
                                                            <source localId="1734" locator="583:25-583:32" resultTypeName="fhir:uri" path="system" scope="l" xsi:type="Property"/>
                                                         </operand>
                                                         <operand localId="1736" locator="583:42-583:73" resultTypeName="t:String" valueType="t:String" value="http://hl7.org/fhir/sid/us-npi" xsi:type="Literal"/>
                                                      </operand>
                                                      <operand localId="1743" locator="584:25-584:73" resultTypeName="t:Boolean" xsi:type="Equivalent">
                                                         <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                            <operand localId="1739" locator="584:25-584:30" resultTypeName="fhir:CodeableConcept" path="type" scope="l" xsi:type="Property"/>
                                                         </operand>
                                                         <operand localId="1742" locator="584:34-584:73" resultTypeName="t:Concept" xsi:type="ToConcept">
                                                            <operand localId="1741" locator="584:44-584:72" resultTypeName="t:Code" name="Provider number" libraryName="Terminology" xsi:type="CodeRef"/>
                                                         </operand>
                                                      </operand>
                                                   </operand>
                                                   <operand localId="1748" locator="585:25-585:45" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                      <operand localId="1747" locator="585:25-585:37" resultTypeName="t:String" path="value" xsi:type="Property">
                                                         <source localId="1746" locator="585:25-585:31" resultTypeName="fhir:string" path="value" scope="l" xsi:type="Property"/>
                                                      </operand>
                                                   </operand>
                                                </where>
                                                <return localId="1751" locator="586:19-586:30" distinct="false">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1750" locator="586:30" resultTypeName="fhir:Identifier" name="l" xsi:type="AliasRef"/>
                                                </return>
                                             </value>
                                          </element>
                                       </expression>
                                    </return>
                                 </value>
                              </element>
                           </expression>
                        </source>
                        <return localId="1794" locator="591:9-605:9">
                           <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="IdentifierCount">
                                 <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                           </resultTypeSpecifier>
                           <expression localId="1793" locator="591:16-605:9" xsi:type="Tuple">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="IdentifierCount">
                                    <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                              </resultTypeSpecifier>
                              <element name="IdentifierCount">
                                 <value localId="1792" locator="592:30-603:20" resultTypeName="t:Integer" xsi:type="If">
                                    <condition asType="t:Boolean" xsi:type="As">
                                       <operand localId="1761" locator="592:33-592:79" resultTypeName="t:Boolean" xsi:type="Exists">
                                          <operand localId="1760" locator="592:40-592:79" xsi:type="Query">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <source alias="$this">
                                                <expression localId="1759" locator="592:40-592:64" path="CareTeams" scope="ClaimProperties" xsi:type="Property">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType xsi:type="TupleTypeSpecifier">
                                                         <element name="SingleCareTeam">
                                                            <type name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                         </element>
                                                         <element name="CareTeamsProvider">
                                                            <type xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                            </type>
                                                         </element>
                                                         <element name="CareTeamsProviderID">
                                                            <type xsi:type="ListTypeSpecifier">
                                                               <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                            </type>
                                                         </element>
                                                      </elementType>
                                                   </resultTypeSpecifier>
                                                </expression>
                                             </source>
                                             <where xsi:type="Not">
                                                <operand xsi:type="IsNull">
                                                   <operand path="SingleCareTeam" xsi:type="Property">
                                                      <source name="$this" xsi:type="AliasRef"/>
                                                   </operand>
                                                </operand>
                                             </where>
                                             <return>
                                                <expression path="SingleCareTeam" xsi:type="Property">
                                                   <source name="$this" xsi:type="AliasRef"/>
                                                </expression>
                                             </return>
                                          </operand>
                                       </operand>
                                    </condition>
                                    <then localId="1790" locator="592:86-602:13" resultTypeName="t:Integer" xsi:type="Add">
                                       <operand localId="1781" locator="592:88-598:15" resultTypeName="t:Integer" xsi:type="Add">
                                          <operand localId="1768" locator="592:88-594:15" resultTypeName="t:Integer" xsi:type="Count">
                                             <source localId="1767" locator="592:94-593:42" xsi:type="Query">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <source localId="1763" locator="592:94-592:135" alias="X">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1762" locator="592:94-592:133" xsi:type="Query">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <source alias="$this">
                                                         <expression path="CareTeams" scope="ClaimProperties" xsi:type="Property"/>
                                                      </source>
                                                      <where xsi:type="Not">
                                                         <operand xsi:type="IsNull">
                                                            <operand path="SingleCareTeam" xsi:type="Property">
                                                               <source name="$this" xsi:type="AliasRef"/>
                                                            </operand>
                                                         </operand>
                                                      </where>
                                                      <return>
                                                         <expression path="SingleCareTeam" xsi:type="Property">
                                                            <source name="$this" xsi:type="AliasRef"/>
                                                         </expression>
                                                      </return>
                                                   </expression>
                                                </source>
                                                <where localId="1766" locator="593:19-593:42" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                   <operand localId="1765" locator="593:25-593:34" path="careTeam" scope="X" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Claim.CareTeam" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </operand>
                                                </where>
                                             </source>
                                          </operand>
                                          <operand localId="1780" locator="594:18-598:15" resultTypeName="t:Integer" xsi:type="Count">
                                             <source localId="1779" locator="594:24-597:26" xsi:type="Query">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <source localId="1776" locator="594:24-596:19" alias="X">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1775" locator="594:24-596:18" xsi:type="Flatten">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <operand localId="1774" locator="594:32-596:17" xsi:type="Query">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                            </elementType>
                                                         </resultTypeSpecifier>
                                                         <source localId="1770" locator="594:33-594:64" alias="X">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType xsi:type="TupleTypeSpecifier">
                                                                  <element name="AllIdentifiers">
                                                                     <type xsi:type="ListTypeSpecifier">
                                                                        <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                                     </type>
                                                                  </element>
                                                                  <element name="NullIdentifiers">
                                                                     <type xsi:type="ListTypeSpecifier">
                                                                        <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                                     </type>
                                                                  </element>
                                                               </elementType>
                                                            </resultTypeSpecifier>
                                                            <expression localId="1769" locator="594:33-594:62" path="IdentifierTuple" scope="GetIdentifiers" xsi:type="Property">
                                                               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                  <elementType xsi:type="TupleTypeSpecifier">
                                                                     <element name="AllIdentifiers">
                                                                        <type xsi:type="ListTypeSpecifier">
                                                                           <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                                        </type>
                                                                     </element>
                                                                     <element name="NullIdentifiers">
                                                                        <type xsi:type="ListTypeSpecifier">
                                                                           <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                                        </type>
                                                                     </element>
                                                                  </elementType>
                                                               </resultTypeSpecifier>
                                                            </expression>
                                                         </source>
                                                         <return localId="1773" locator="595:21-595:47" distinct="false">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                               </elementType>
                                                            </resultTypeSpecifier>
                                                            <expression localId="1772" locator="595:32-595:47" path="AllIdentifiers" scope="X" xsi:type="Property">
                                                               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                            </expression>
                                                         </return>
                                                      </operand>
                                                   </expression>
                                                </source>
                                                <return localId="1778" locator="597:19-597:26">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1777" locator="597:26" resultTypeName="fhir:string" name="X" xsi:type="AliasRef"/>
                                                </return>
                                             </source>
                                          </operand>
                                       </operand>
                                       <operand localId="1789" locator="598:18-601:15" resultTypeName="t:Integer" xsi:type="Count">
                                          <source localId="1788" locator="598:24-600:17" xsi:type="Flatten">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand localId="1787" locator="598:31-600:17" xsi:type="Query">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                                <source localId="1783" locator="598:32-598:63" alias="X">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType xsi:type="TupleTypeSpecifier">
                                                         <element name="AllIdentifiers">
                                                            <type xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                            </type>
                                                         </element>
                                                         <element name="NullIdentifiers">
                                                            <type xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                            </type>
                                                         </element>
                                                      </elementType>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1782" locator="598:32-598:61" path="IdentifierTuple" scope="GetIdentifiers" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType xsi:type="TupleTypeSpecifier">
                                                            <element name="AllIdentifiers">
                                                               <type xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                               </type>
                                                            </element>
                                                            <element name="NullIdentifiers">
                                                               <type xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                               </type>
                                                            </element>
                                                         </elementType>
                                                      </resultTypeSpecifier>
                                                   </expression>
                                                </source>
                                                <return localId="1786" locator="599:21-599:48" distinct="false">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                      </elementType>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1785" locator="599:32-599:48" path="NullIdentifiers" scope="X" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </expression>
                                                </return>
                                             </operand>
                                          </source>
                                       </operand>
                                    </then>
                                    <else localId="1791" locator="603:20" resultTypeName="t:Integer" valueType="t:Integer" value="0" xsi:type="Literal"/>
                                 </value>
                              </element>
                           </expression>
                        </return>
                     </expression>
                  </return>
               </expression>
            </return>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="1659" locator="552:56-552:71" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1658" locator="552:61-552:70" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="1953" locator="607:1-661:9" name="Get Pharmacy NPI from Claims" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="1953">
               <a:s>define function &quot;Get Pharmacy NPI from Claims&quot;(claim </a:s>
               <a:s r="1802">
                  <a:s>List&lt;</a:s>
                  <a:s r="1801">
                     <a:s>FHIR.Claim</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="1952">
                  <a:s r="1952">
                     <a:s>
                        <a:s r="1844">
                           <a:s r="1843">
                              <a:s>( </a:s>
                              <a:s r="1843">
                                 <a:s>Tuple {&#xd;
    </a:s>
                                 <a:s>
                                    <a:s>ItemsLocationReferences: </a:s>
                                    <a:s r="1842">
                                       <a:s>
                                          <a:s r="1804">
                                             <a:s r="1803">
                                                <a:s>
                                                   <a:s>claim</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> C</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s>
                                          <a:s>let </a:s>
                                          <a:s r="1806">
                                             <a:s>singleClaim: </a:s>
                                             <a:s r="1805">
                                                <a:s>C</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>,&#xd;
      </a:s>
                                          <a:s r="1816">
                                             <a:s>claimItem: </a:s>
                                             <a:s r="1815">
                                                <a:s>( </a:s>
                                                <a:s r="1815">
                                                   <a:s>
                                                      <a:s r="1808">
                                                         <a:s r="1807">
                                                            <a:s>
                                                               <a:s>C.item</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> i</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
          </a:s>
                                                   <a:s r="1814">
                                                      <a:s>where </a:s>
                                                      <a:s r="1814">
                                                         <a:s r="1812">
                                                            <a:s r="1809">
                                                               <a:s>FHIRHelpers</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="1812">
                                                               <a:s>ToInteger ( </a:s>
                                                               <a:s r="1811">
                                                                  <a:s r="1810">
                                                                     <a:s>i</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="1811">
                                                                     <a:s>sequence</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s> )</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="1813"> = 1</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>&#xd;
      )</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
      </a:s>
                                       <a:s r="1841">
                                          <a:s>return </a:s>
                                          <a:s r="1840">
                                             <a:s>Tuple {&#xd;
        </a:s>
                                             <a:s>
                                                <a:s>SingleItem: </a:s>
                                                <a:s r="1818">
                                                   <a:s r="1817">
                                                      <a:s>singleClaim</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1818">
                                                      <a:s>item</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>,&#xd;
        </a:s>
                                             <a:s>
                                                <a:s>ItemLocation: </a:s>
                                                <a:s r="1825">
                                                   <a:s>
                                                      <a:s r="1820">
                                                         <a:s r="1819">
                                                            <a:s>
                                                               <a:s>claimItem.location</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> l</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
          </a:s>
                                                   <a:s r="1824">
                                                      <a:s>return all </a:s>
                                                      <a:s r="1823">
                                                         <a:s>( </a:s>
                                                         <a:s r="1823">
                                                            <a:s r="1821">
                                                               <a:s>l</a:s>
                                                            </a:s>
                                                            <a:s> as </a:s>
                                                            <a:s r="1822">
                                                               <a:s>FHIR.Reference</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> )</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>,&#xd;
        </a:s>
                                             <a:s>
                                                <a:s>ItemLocationID: </a:s>
                                                <a:s r="1839">
                                                   <a:s>
                                                      <a:s r="1827">
                                                         <a:s r="1826">
                                                            <a:s>
                                                               <a:s>claimItem.location</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> l</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
          </a:s>
                                                   <a:s r="1838">
                                                      <a:s>return all </a:s>
                                                      <a:s r="1837">
                                                         <a:s>( </a:s>
                                                         <a:s r="1837">
                                                            <a:s>
                                                               <a:s r="1832">
                                                                  <a:s r="1831">
                                                                     <a:s>( </a:s>
                                                                     <a:s r="1831">
                                                                        <a:s r="1830">
                                                                           <a:s>( </a:s>
                                                                           <a:s r="1830">
                                                                              <a:s r="1828">
                                                                                 <a:s>l</a:s>
                                                                              </a:s>
                                                                              <a:s> as </a:s>
                                                                              <a:s r="1829">
                                                                                 <a:s>FHIR.Reference</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> )</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="1831">
                                                                           <a:s>reference</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s> )</a:s>
                                                                  </a:s>
                                                                  <a:s> r</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
              </a:s>
                                                            <a:s r="1836">
                                                               <a:s>return all </a:s>
                                                               <a:s r="1835">
                                                                  <a:s r="1833">
                                                                     <a:s>FHIRBase</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="1835">
                                                                     <a:s>&quot;GetId&quot; ( </a:s>
                                                                     <a:s r="1834">
                                                                        <a:s>r</a:s>
                                                                     </a:s>
                                                                     <a:s> )</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
          )</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
      }</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  }</a:s>
                              </a:s>
                              <a:s> )</a:s>
                           </a:s>
                           <a:s> ClaimProperties</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="1951">
                        <a:s>return </a:s>
                        <a:s r="1950">
                           <a:s>
                              <a:s r="1855">
                                 <a:s r="1854">
                                    <a:s>( </a:s>
                                    <a:s r="1854">
                                       <a:s>Tuple {&#xd;
      </a:s>
                                       <a:s>
                                          <a:s>CorrespondingLocations: </a:s>
                                          <a:s r="1853">
                                             <a:s>
                                                <a:s r="1846">
                                                   <a:s r="1845">
                                                      <a:s r="1845">
                                                         <a:s>[Location]</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> l</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
        </a:s>
                                             <a:s r="1852">
                                                <a:s>where </a:s>
                                                <a:s r="1852">
                                                   <a:s r="1848">
                                                      <a:s r="1847">
                                                         <a:s>l</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="1848">
                                                         <a:s>id</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> in </a:s>
                                                   <a:s r="1851">
                                                      <a:s r="1850">
                                                         <a:s r="1849">
                                                            <a:s>ClaimProperties</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="1850">
                                                            <a:s>ItemsLocationReferences</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="1851">
                                                         <a:s>ItemLocationID</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
    }</a:s>
                                    </a:s>
                                    <a:s> )</a:s>
                                 </a:s>
                                 <a:s> GetLocation</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
      </a:s>
                           <a:s r="1949">
                              <a:s>return </a:s>
                              <a:s r="1948">
                                 <a:s>
                                    <a:s r="1909">
                                       <a:s r="1908">
                                          <a:s>( </a:s>
                                          <a:s r="1908">
                                             <a:s>Tuple {&#xd;
        </a:s>
                                             <a:s>
                                                <a:s>IdentifierTuple: </a:s>
                                                <a:s r="1907">
                                                   <a:s>
                                                      <a:s r="1857">
                                                         <a:s r="1856">
                                                            <a:s>
                                                               <a:s>GetLocation.CorrespondingLocations</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s> C</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
          </a:s>
                                                   <a:s r="1859">
                                                      <a:s>where </a:s>
                                                      <a:s r="1859">
                                                         <a:s r="1858">
                                                            <a:s>C</a:s>
                                                         </a:s>
                                                         <a:s> is not null</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
          </a:s>
                                                   <a:s r="1906">
                                                      <a:s>return all </a:s>
                                                      <a:s r="1905">
                                                         <a:s>( </a:s>
                                                         <a:s r="1905">
                                                            <a:s>Tuple {&#xd;
              </a:s>
                                                            <a:s>
                                                               <a:s>AllIdentifiers: </a:s>
                                                               <a:s r="1882">
                                                                  <a:s>( </a:s>
                                                                  <a:s r="1882">
                                                                     <a:s>
                                                                        <a:s r="1861">
                                                                           <a:s r="1860">
                                                                              <a:s>
                                                                                 <a:s>C.identifier</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> l</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
                  </a:s>
                                                                     <a:s r="1878">
                                                                        <a:s>where </a:s>
                                                                        <a:s r="1878">
                                                                           <a:s r="1873">
                                                                              <a:s r="1866">
                                                                                 <a:s r="1864">
                                                                                    <a:s r="1863">
                                                                                       <a:s r="1862">
                                                                                          <a:s>l</a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1863">
                                                                                          <a:s>system</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1864">
                                                                                       <a:s>value</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> = </a:s>
                                                                                 <a:s r="1865">
                                                                                    <a:s>'http://hl7.org/fhir/sid/us-npi'</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>&#xd;
                    and </a:s>
                                                                              <a:s r="1872">
                                                                                 <a:s r="1868">
                                                                                    <a:s r="1867">
                                                                                       <a:s>l</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1868">
                                                                                       <a:s>type</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> ~ </a:s>
                                                                                 <a:s r="1871">
                                                                                    <a:s>ToConcept(</a:s>
                                                                                    <a:s r="1870">
                                                                                       <a:s r="1869">
                                                                                          <a:s>Terminology</a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1870">
                                                                                          <a:s>&quot;Provider number&quot;</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s>)</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
                    and </a:s>
                                                                           <a:s r="1877">
                                                                              <a:s r="1876">
                                                                                 <a:s r="1875">
                                                                                    <a:s r="1874">
                                                                                       <a:s>l</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1875">
                                                                                       <a:s>value</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1876">
                                                                                    <a:s>value</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> is not null</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
                  </a:s>
                                                                     <a:s r="1881">
                                                                        <a:s>return </a:s>
                                                                        <a:s r="1880">
                                                                           <a:s r="1879">
                                                                              <a:s>l</a:s>
                                                                           </a:s>
                                                                           <a:s>.</a:s>
                                                                           <a:s r="1880">
                                                                              <a:s>value</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
              )</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>,&#xd;
              </a:s>
                                                            <a:s>
                                                               <a:s>NullIdentifiers: </a:s>
                                                               <a:s r="1904">
                                                                  <a:s>( </a:s>
                                                                  <a:s r="1904">
                                                                     <a:s>
                                                                        <a:s r="1884">
                                                                           <a:s r="1883">
                                                                              <a:s>
                                                                                 <a:s>C.identifier</a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s> l</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
                  </a:s>
                                                                     <a:s r="1901">
                                                                        <a:s>where </a:s>
                                                                        <a:s r="1901">
                                                                           <a:s r="1896">
                                                                              <a:s r="1889">
                                                                                 <a:s r="1887">
                                                                                    <a:s r="1886">
                                                                                       <a:s r="1885">
                                                                                          <a:s>l</a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1886">
                                                                                          <a:s>system</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1887">
                                                                                       <a:s>value</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> = </a:s>
                                                                                 <a:s r="1888">
                                                                                    <a:s>'http://hl7.org/fhir/sid/us-npi'</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>&#xd;
                    and </a:s>
                                                                              <a:s r="1895">
                                                                                 <a:s r="1891">
                                                                                    <a:s r="1890">
                                                                                       <a:s>l</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1891">
                                                                                       <a:s>type</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s> ~ </a:s>
                                                                                 <a:s r="1894">
                                                                                    <a:s>ToConcept(</a:s>
                                                                                    <a:s r="1893">
                                                                                       <a:s r="1892">
                                                                                          <a:s>Terminology</a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1893">
                                                                                          <a:s>&quot;Provider number&quot;</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                    <a:s>)</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                           </a:s>
                                                                           <a:s>&#xd;
                    and </a:s>
                                                                           <a:s r="1900">
                                                                              <a:s r="1899">
                                                                                 <a:s r="1898">
                                                                                    <a:s r="1897">
                                                                                       <a:s>l</a:s>
                                                                                    </a:s>
                                                                                    <a:s>.</a:s>
                                                                                    <a:s r="1898">
                                                                                       <a:s>value</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>.</a:s>
                                                                                 <a:s r="1899">
                                                                                    <a:s>value</a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s> is null</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s>&#xd;
                  </a:s>
                                                                     <a:s r="1903">
                                                                        <a:s>return all </a:s>
                                                                        <a:s r="1902">
                                                                           <a:s>l</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
              )</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
            }</a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
          )</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
      }</a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                       <a:s> GetIdentifiers</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        </a:s>
                                 <a:s r="1947">
                                    <a:s>return </a:s>
                                    <a:s r="1946">
                                       <a:s>( </a:s>
                                       <a:s r="1946">
                                          <a:s>Tuple {&#xd;
            </a:s>
                                          <a:s>
                                             <a:s>IdentifierCount: </a:s>
                                             <a:s r="1945">
                                                <a:s>if </a:s>
                                                <a:s r="1913">
                                                   <a:s>exists </a:s>
                                                   <a:s r="1912">
                                                      <a:s>( </a:s>
                                                      <a:s r="1912">
                                                         <a:s r="1911">
                                                            <a:s r="1910">
                                                               <a:s>ClaimProperties</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="1911">
                                                               <a:s>ItemsLocationReferences</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="1912">
                                                            <a:s>SingleItem</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> )</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> then </a:s>
                                                <a:s r="1943">
                                                   <a:s>( </a:s>
                                                   <a:s r="1943">
                                                      <a:s r="1934">
                                                         <a:s r="1921">
                                                            <a:s>Count(</a:s>
                                                            <a:s r="1920">
                                                               <a:s>
                                                                  <a:s r="1915">
                                                                     <a:s r="1914">
                                                                        <a:s>
                                                                           <a:s>ClaimProperties.ItemsLocationReferences.ItemLocation</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s> X</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>&#xd;
                  </a:s>
                                                               <a:s r="1919">
                                                                  <a:s>where </a:s>
                                                                  <a:s r="1919">
                                                                     <a:s r="1918">
                                                                        <a:s r="1917">
                                                                           <a:s r="1916">
                                                                              <a:s>X</a:s>
                                                                           </a:s>
                                                                           <a:s>.</a:s>
                                                                           <a:s r="1917">
                                                                              <a:s>reference</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="1918">
                                                                           <a:s>value</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                     <a:s> is null</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
              )</a:s>
                                                         </a:s>
                                                         <a:s>+ </a:s>
                                                         <a:s r="1933">
                                                            <a:s>Count(</a:s>
                                                            <a:s r="1932">
                                                               <a:s>
                                                                  <a:s r="1929">
                                                                     <a:s r="1928">
                                                                        <a:s>(</a:s>
                                                                        <a:s r="1928">
                                                                           <a:s>flatten</a:s>
                                                                           <a:s r="1927">
                                                                              <a:s>(</a:s>
                                                                              <a:s r="1927">
                                                                                 <a:s>
                                                                                    <a:s r="1923">
                                                                                       <a:s r="1922">
                                                                                          <a:s>
                                                                                             <a:s>GetIdentifiers.IdentifierTuple</a:s>
                                                                                          </a:s>
                                                                                       </a:s>
                                                                                       <a:s> X</a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                                 <a:s>&#xd;
                    </a:s>
                                                                                 <a:s r="1926">
                                                                                    <a:s>return all </a:s>
                                                                                    <a:s r="1925">
                                                                                       <a:s r="1924">
                                                                                          <a:s>X</a:s>
                                                                                       </a:s>
                                                                                       <a:s>.</a:s>
                                                                                       <a:s r="1925">
                                                                                          <a:s>AllIdentifiers</a:s>
                                                                                       </a:s>
                                                                                    </a:s>
                                                                                 </a:s>
                                                                              </a:s>
                                                                              <a:s>&#xd;
                )</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s>)</a:s>
                                                                     </a:s>
                                                                     <a:s>X</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>&#xd;
                  </a:s>
                                                               <a:s r="1931">
                                                                  <a:s>return </a:s>
                                                                  <a:s r="1930">
                                                                     <a:s>X</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>&#xd;
              )</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>+ </a:s>
                                                      <a:s r="1942">
                                                         <a:s>Count(</a:s>
                                                         <a:s r="1941">
                                                            <a:s>flatten</a:s>
                                                            <a:s r="1940">
                                                               <a:s>(</a:s>
                                                               <a:s r="1940">
                                                                  <a:s>
                                                                     <a:s r="1936">
                                                                        <a:s r="1935">
                                                                           <a:s>
                                                                              <a:s>GetIdentifiers.IdentifierTuple</a:s>
                                                                           </a:s>
                                                                        </a:s>
                                                                        <a:s> X</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>&#xd;
                    </a:s>
                                                                  <a:s r="1939">
                                                                     <a:s>return all </a:s>
                                                                     <a:s r="1938">
                                                                        <a:s r="1937">
                                                                           <a:s>X</a:s>
                                                                        </a:s>
                                                                        <a:s>.</a:s>
                                                                        <a:s r="1938">
                                                                           <a:s>NullIdentifiers</a:s>
                                                                        </a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>&#xd;
                )</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>&#xd;
              )</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
            )</a:s>
                                                </a:s>
                                                <a:s r="1944"> &#xd;
              else 0</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>&#xd;
          }</a:s>
                                       </a:s>
                                       <a:s>&#xd;
        )</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
            <element name="IdentifierCount">
               <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            </element>
         </resultTypeSpecifier>
         <expression localId="1952" locator="608:3-661:9" xsi:type="Query">
            <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
               <element name="IdentifierCount">
                  <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               </element>
            </resultTypeSpecifier>
            <source localId="1844" locator="608:3-623:21" alias="ClaimProperties">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="ItemsLocationReferences">
                     <type xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="TupleTypeSpecifier">
                           <element name="SingleItem">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                           <element name="ItemLocation">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                           <element name="ItemLocationID">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </elementType>
                     </type>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1843" locator="608:3-623:5" xsi:type="Tuple">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="ItemsLocationReferences">
                        <type xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="SingleItem">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                              <element name="ItemLocation">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                              <element name="ItemLocationID">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </type>
                     </element>
                  </resultTypeSpecifier>
                  <element name="ItemsLocationReferences">
                     <value localId="1842" locator="609:30-622:7" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                           <elementType xsi:type="TupleTypeSpecifier">
                              <element name="SingleItem">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                              <element name="ItemLocation">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                              <element name="ItemLocationID">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </elementType>
                        </resultTypeSpecifier>
                        <source localId="1804" locator="609:30-609:36" alias="C">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="1803" locator="609:30-609:34" name="claim" xsi:type="OperandRef">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                           </expression>
                        </source>
                        <let localId="1806" locator="610:11-610:24" resultTypeName="fhir:Claim" identifier="singleClaim">
                           <expression localId="1805" locator="610:24" resultTypeName="fhir:Claim" name="C" xsi:type="AliasRef"/>
                        </let>
                        <let localId="1816" locator="611:7-613:7" identifier="claimItem">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                           </resultTypeSpecifier>
                           <expression localId="1815" locator="611:18-613:7" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <source localId="1808" locator="611:20-611:27" alias="i">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="1807" locator="611:20-611:25" path="item" scope="C" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </expression>
                              </source>
                              <where localId="1814" locator="612:11-612:56" resultTypeName="t:Boolean" xsi:type="Equal">
                                 <operand localId="1812" locator="612:17-612:52" resultTypeName="t:Integer" name="ToInteger" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1811" locator="612:41-612:50" resultTypeName="fhir:positiveInt" path="sequence" scope="i" xsi:type="Property"/>
                                 </operand>
                                 <operand localId="1813" locator="612:56" resultTypeName="t:Integer" valueType="t:Integer" value="1" xsi:type="Literal"/>
                              </where>
                           </expression>
                        </let>
                        <return localId="1841" locator="614:7-622:7">
                           <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="TupleTypeSpecifier">
                                 <element name="SingleItem">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                                 <element name="ItemLocation">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                                 <element name="ItemLocationID">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </elementType>
                           </resultTypeSpecifier>
                           <expression localId="1840" locator="614:14-622:7" xsi:type="Tuple">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="SingleItem">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                                 <element name="ItemLocation">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                                 <element name="ItemLocationID">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                    </type>
                                 </element>
                              </resultTypeSpecifier>
                              <element name="SingleItem">
                                 <value localId="1818" locator="615:21-615:36" path="item" xsi:type="Property">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <source localId="1817" locator="615:21-615:31" resultTypeName="fhir:Claim" name="singleClaim" xsi:type="QueryLetRef"/>
                                 </value>
                              </element>
                              <element name="ItemLocation">
                                 <value localId="1825" locator="616:23-617:44" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <source localId="1820" locator="616:23-616:42" alias="l">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="ChoiceTypeSpecifier">
                                             <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:Address" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </resultTypeSpecifier>
                                       <expression localId="1819" locator="616:23-616:40" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="ChoiceTypeSpecifier">
                                                <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="fhir:Address" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </resultTypeSpecifier>
                                          <source alias="$this">
                                             <expression name="claimItem" xsi:type="QueryLetRef"/>
                                          </source>
                                          <where xsi:type="Not">
                                             <operand xsi:type="IsNull">
                                                <operand path="location" xsi:type="Property">
                                                   <source name="$this" xsi:type="AliasRef"/>
                                                </operand>
                                             </operand>
                                          </where>
                                          <return>
                                             <expression path="location" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </expression>
                                          </return>
                                       </expression>
                                    </source>
                                    <return localId="1824" locator="617:11-617:44" distinct="false">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <expression localId="1823" locator="617:22-617:44" resultTypeName="fhir:Reference" strict="false" xsi:type="As">
                                          <operand localId="1821" locator="617:24" name="l" xsi:type="AliasRef">
                                             <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="fhir:Address" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                          </operand>
                                          <asTypeSpecifier localId="1822" locator="617:29-617:42" resultTypeName="fhir:Reference" name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                       </expression>
                                    </return>
                                 </value>
                              </element>
                              <element name="ItemLocationID">
                                 <value localId="1839" locator="618:25-621:11" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <source localId="1827" locator="618:25-618:44" alias="l">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="ChoiceTypeSpecifier">
                                             <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:Address" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </resultTypeSpecifier>
                                       <expression localId="1826" locator="618:25-618:42" xsi:type="Query">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType xsi:type="ChoiceTypeSpecifier">
                                                <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="fhir:Address" xsi:type="NamedTypeSpecifier"/>
                                                <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                             </elementType>
                                          </resultTypeSpecifier>
                                          <source alias="$this">
                                             <expression name="claimItem" xsi:type="QueryLetRef"/>
                                          </source>
                                          <where xsi:type="Not">
                                             <operand xsi:type="IsNull">
                                                <operand path="location" xsi:type="Property">
                                                   <source name="$this" xsi:type="AliasRef"/>
                                                </operand>
                                             </operand>
                                          </where>
                                          <return>
                                             <expression path="location" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </expression>
                                          </return>
                                       </expression>
                                    </source>
                                    <return localId="1838" locator="619:11-621:11" distinct="false">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <expression localId="1837" locator="619:22-621:11" resultTypeName="t:String" xsi:type="Query">
                                          <source localId="1832" locator="619:24-619:62" resultTypeName="fhir:string" alias="r">
                                             <expression localId="1831" locator="619:24-619:60" resultTypeName="fhir:string" path="reference" xsi:type="Property">
                                                <source localId="1830" locator="619:26-619:48" resultTypeName="fhir:Reference" strict="false" xsi:type="As">
                                                   <operand localId="1828" locator="619:28" name="l" xsi:type="AliasRef">
                                                      <resultTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                         <choice name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="fhir:Address" xsi:type="NamedTypeSpecifier"/>
                                                         <choice name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </operand>
                                                   <asTypeSpecifier localId="1829" locator="619:33-619:46" resultTypeName="fhir:Reference" name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                </source>
                                             </expression>
                                          </source>
                                          <return localId="1836" locator="620:15-620:47" resultTypeName="t:String" distinct="false">
                                             <expression localId="1835" locator="620:26-620:47" resultTypeName="t:String" name="GetId" libraryName="FHIRBase" xsi:type="FunctionRef">
                                                <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                   <operand localId="1834" locator="620:45" resultTypeName="fhir:string" name="r" xsi:type="AliasRef"/>
                                                </operand>
                                             </expression>
                                          </return>
                                       </expression>
                                    </return>
                                 </value>
                              </element>
                           </expression>
                        </return>
                     </value>
                  </element>
               </expression>
            </source>
            <return localId="1951" locator="624:5-661:9">
               <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                  <element name="IdentifierCount">
                     <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                  </element>
               </resultTypeSpecifier>
               <expression localId="1950" locator="624:12-661:9" xsi:type="Query">
                  <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                     <element name="IdentifierCount">
                        <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                     </element>
                  </resultTypeSpecifier>
                  <source localId="1855" locator="624:12-627:19" alias="GetLocation">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="CorrespondingLocations">
                           <type xsi:type="ListTypeSpecifier">
                              <elementType name="fhir:Location" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="1854" locator="624:12-627:7" xsi:type="Tuple">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="CorrespondingLocations">
                              <type xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Location" xsi:type="NamedTypeSpecifier"/>
                              </type>
                           </element>
                        </resultTypeSpecifier>
                        <element name="CorrespondingLocations">
                           <value localId="1853" locator="625:31-626:76" xsi:type="Query">
                              <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                 <elementType name="fhir:Location" xsi:type="NamedTypeSpecifier"/>
                              </resultTypeSpecifier>
                              <source localId="1846" locator="625:31-625:42" alias="l">
                                 <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType name="fhir:Location" xsi:type="NamedTypeSpecifier"/>
                                 </resultTypeSpecifier>
                                 <expression localId="1845" locator="625:31-625:40" dataType="fhir:Location" templateId="http://hl7.org/fhir/StructureDefinition/Location" xsi:type="Retrieve">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="fhir:Location" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                 </expression>
                              </source>
                              <where localId="1852" locator="626:9-626:76" resultTypeName="t:Boolean" xsi:type="In">
                                 <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1848" locator="626:15-626:18" resultTypeName="fhir:id" path="id" scope="l" xsi:type="Property"/>
                                 </operand>
                                 <operand localId="1851" locator="626:23-626:76" xsi:type="Flatten">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                    </resultTypeSpecifier>
                                    <operand xsi:type="Query">
                                       <source alias="$this">
                                          <expression localId="1850" locator="626:23-626:61" path="ItemsLocationReferences" scope="ClaimProperties" xsi:type="Property">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType xsi:type="TupleTypeSpecifier">
                                                   <element name="SingleItem">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                   <element name="ItemLocation">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                   <element name="ItemLocationID">
                                                      <type xsi:type="ListTypeSpecifier">
                                                         <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                      </type>
                                                   </element>
                                                </elementType>
                                             </resultTypeSpecifier>
                                          </expression>
                                       </source>
                                       <where xsi:type="Not">
                                          <operand xsi:type="IsNull">
                                             <operand path="ItemLocationID" xsi:type="Property">
                                                <source name="$this" xsi:type="AliasRef"/>
                                             </operand>
                                          </operand>
                                       </where>
                                       <return>
                                          <expression path="ItemLocationID" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </expression>
                                       </return>
                                    </operand>
                                 </operand>
                              </where>
                           </value>
                        </element>
                     </expression>
                  </source>
                  <return localId="1949" locator="628:7-661:9">
                     <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                        <element name="IdentifierCount">
                           <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                        </element>
                     </resultTypeSpecifier>
                     <expression localId="1948" locator="628:14-661:9" xsi:type="Query">
                        <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                           <element name="IdentifierCount">
                              <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                           </element>
                        </resultTypeSpecifier>
                        <source localId="1909" locator="628:14-646:24" alias="GetIdentifiers">
                           <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="IdentifierTuple">
                                 <type xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="TupleTypeSpecifier">
                                       <element name="AllIdentifiers">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                       <element name="NullIdentifiers">
                                          <type xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                          </type>
                                       </element>
                                    </elementType>
                                 </type>
                              </element>
                           </resultTypeSpecifier>
                           <expression localId="1908" locator="628:14-646:9" xsi:type="Tuple">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="IdentifierTuple">
                                    <type xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="TupleTypeSpecifier">
                                          <element name="AllIdentifiers">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                          <element name="NullIdentifiers">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </elementType>
                                    </type>
                                 </element>
                              </resultTypeSpecifier>
                              <element name="IdentifierTuple">
                                 <value localId="1907" locator="629:26-645:11" xsi:type="Query">
                                    <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                       <elementType xsi:type="TupleTypeSpecifier">
                                          <element name="AllIdentifiers">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                          <element name="NullIdentifiers">
                                             <type xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                             </type>
                                          </element>
                                       </elementType>
                                    </resultTypeSpecifier>
                                    <source localId="1857" locator="629:26-629:61" alias="C">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType name="fhir:Location" xsi:type="NamedTypeSpecifier"/>
                                       </resultTypeSpecifier>
                                       <expression localId="1856" locator="629:26-629:59" path="CorrespondingLocations" scope="GetLocation" xsi:type="Property">
                                          <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                             <elementType name="fhir:Location" xsi:type="NamedTypeSpecifier"/>
                                          </resultTypeSpecifier>
                                       </expression>
                                    </source>
                                    <where localId="1859" locator="630:11-630:29" resultTypeName="t:Boolean" xsi:type="Not">
                                       <operand locator="630:17-630:29" resultTypeName="t:Boolean" xsi:type="IsNull">
                                          <operand localId="1858" locator="630:17" resultTypeName="fhir:Location" name="C" xsi:type="AliasRef"/>
                                       </operand>
                                    </where>
                                    <return localId="1906" locator="631:11-645:11" distinct="false">
                                       <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="TupleTypeSpecifier">
                                             <element name="AllIdentifiers">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                             <element name="NullIdentifiers">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </elementType>
                                       </resultTypeSpecifier>
                                       <expression localId="1905" locator="631:22-645:11" xsi:type="Tuple">
                                          <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                             <element name="AllIdentifiers">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                             <element name="NullIdentifiers">
                                                <type xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                </type>
                                             </element>
                                          </resultTypeSpecifier>
                                          <element name="AllIdentifiers">
                                             <value localId="1882" locator="632:31-637:15" xsi:type="Query">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <source localId="1861" locator="632:33-632:46" alias="l">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1860" locator="632:33-632:44" path="identifier" scope="C" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </expression>
                                                </source>
                                                <where localId="1878" locator="633:19-635:49" resultTypeName="t:Boolean" xsi:type="And">
                                                   <operand localId="1873" locator="633:25-634:73" resultTypeName="t:Boolean" xsi:type="And">
                                                      <operand localId="1866" locator="633:25-633:73" resultTypeName="t:Boolean" xsi:type="Equal">
                                                         <operand localId="1864" locator="633:25-633:38" resultTypeName="t:String" path="value" xsi:type="Property">
                                                            <source localId="1863" locator="633:25-633:32" resultTypeName="fhir:uri" path="system" scope="l" xsi:type="Property"/>
                                                         </operand>
                                                         <operand localId="1865" locator="633:42-633:73" resultTypeName="t:String" valueType="t:String" value="http://hl7.org/fhir/sid/us-npi" xsi:type="Literal"/>
                                                      </operand>
                                                      <operand localId="1872" locator="634:25-634:73" resultTypeName="t:Boolean" xsi:type="Equivalent">
                                                         <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                            <operand localId="1868" locator="634:25-634:30" resultTypeName="fhir:CodeableConcept" path="type" scope="l" xsi:type="Property"/>
                                                         </operand>
                                                         <operand localId="1871" locator="634:34-634:73" resultTypeName="t:Concept" xsi:type="ToConcept">
                                                            <operand localId="1870" locator="634:44-634:72" resultTypeName="t:Code" name="Provider number" libraryName="Terminology" xsi:type="CodeRef"/>
                                                         </operand>
                                                      </operand>
                                                   </operand>
                                                   <operand localId="1877" locator="635:25-635:49" resultTypeName="t:Boolean" xsi:type="Not">
                                                      <operand locator="635:25-635:49" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                         <operand localId="1876" locator="635:25-635:37" resultTypeName="t:String" path="value" xsi:type="Property">
                                                            <source localId="1875" locator="635:25-635:31" resultTypeName="fhir:string" path="value" scope="l" xsi:type="Property"/>
                                                         </operand>
                                                      </operand>
                                                   </operand>
                                                </where>
                                                <return localId="1881" locator="636:19-636:32">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1880" locator="636:26-636:32" resultTypeName="fhir:string" path="value" scope="l" xsi:type="Property"/>
                                                </return>
                                             </value>
                                          </element>
                                          <element name="NullIdentifiers">
                                             <value localId="1904" locator="638:32-643:15" xsi:type="Query">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <source localId="1884" locator="638:34-638:47" alias="l">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1883" locator="638:34-638:45" path="identifier" scope="C" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </expression>
                                                </source>
                                                <where localId="1901" locator="639:19-641:45" resultTypeName="t:Boolean" xsi:type="And">
                                                   <operand localId="1896" locator="639:25-640:73" resultTypeName="t:Boolean" xsi:type="And">
                                                      <operand localId="1889" locator="639:25-639:73" resultTypeName="t:Boolean" xsi:type="Equal">
                                                         <operand localId="1887" locator="639:25-639:38" resultTypeName="t:String" path="value" xsi:type="Property">
                                                            <source localId="1886" locator="639:25-639:32" resultTypeName="fhir:uri" path="system" scope="l" xsi:type="Property"/>
                                                         </operand>
                                                         <operand localId="1888" locator="639:42-639:73" resultTypeName="t:String" valueType="t:String" value="http://hl7.org/fhir/sid/us-npi" xsi:type="Literal"/>
                                                      </operand>
                                                      <operand localId="1895" locator="640:25-640:73" resultTypeName="t:Boolean" xsi:type="Equivalent">
                                                         <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                            <operand localId="1891" locator="640:25-640:30" resultTypeName="fhir:CodeableConcept" path="type" scope="l" xsi:type="Property"/>
                                                         </operand>
                                                         <operand localId="1894" locator="640:34-640:73" resultTypeName="t:Concept" xsi:type="ToConcept">
                                                            <operand localId="1893" locator="640:44-640:72" resultTypeName="t:Code" name="Provider number" libraryName="Terminology" xsi:type="CodeRef"/>
                                                         </operand>
                                                      </operand>
                                                   </operand>
                                                   <operand localId="1900" locator="641:25-641:45" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                      <operand localId="1899" locator="641:25-641:37" resultTypeName="t:String" path="value" xsi:type="Property">
                                                         <source localId="1898" locator="641:25-641:31" resultTypeName="fhir:string" path="value" scope="l" xsi:type="Property"/>
                                                      </operand>
                                                   </operand>
                                                </where>
                                                <return localId="1903" locator="642:19-642:30" distinct="false">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1902" locator="642:30" resultTypeName="fhir:Identifier" name="l" xsi:type="AliasRef"/>
                                                </return>
                                             </value>
                                          </element>
                                       </expression>
                                    </return>
                                 </value>
                              </element>
                           </expression>
                        </source>
                        <return localId="1947" locator="647:9-661:9">
                           <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                              <element name="IdentifierCount">
                                 <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                              </element>
                           </resultTypeSpecifier>
                           <expression localId="1946" locator="647:16-661:9" xsi:type="Tuple">
                              <resultTypeSpecifier xsi:type="TupleTypeSpecifier">
                                 <element name="IdentifierCount">
                                    <type name="t:Integer" xsi:type="NamedTypeSpecifier"/>
                                 </element>
                              </resultTypeSpecifier>
                              <element name="IdentifierCount">
                                 <value localId="1945" locator="648:30-659:20" resultTypeName="t:Integer" xsi:type="If">
                                    <condition asType="t:Boolean" xsi:type="As">
                                       <operand localId="1913" locator="648:33-648:93" resultTypeName="t:Boolean" xsi:type="Exists">
                                          <operand localId="1912" locator="648:40-648:93" xsi:type="Flatten">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand xsi:type="Query">
                                                <source alias="$this">
                                                   <expression localId="1911" locator="648:42-648:80" path="ItemsLocationReferences" scope="ClaimProperties" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType xsi:type="TupleTypeSpecifier">
                                                            <element name="SingleItem">
                                                               <type xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:Claim.Item" xsi:type="NamedTypeSpecifier"/>
                                                               </type>
                                                            </element>
                                                            <element name="ItemLocation">
                                                               <type xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                               </type>
                                                            </element>
                                                            <element name="ItemLocationID">
                                                               <type xsi:type="ListTypeSpecifier">
                                                                  <elementType name="t:String" xsi:type="NamedTypeSpecifier"/>
                                                               </type>
                                                            </element>
                                                         </elementType>
                                                      </resultTypeSpecifier>
                                                   </expression>
                                                </source>
                                                <where xsi:type="Not">
                                                   <operand xsi:type="IsNull">
                                                      <operand path="SingleItem" xsi:type="Property">
                                                         <source name="$this" xsi:type="AliasRef"/>
                                                      </operand>
                                                   </operand>
                                                </where>
                                                <return>
                                                   <expression path="SingleItem" xsi:type="Property">
                                                      <source name="$this" xsi:type="AliasRef"/>
                                                   </expression>
                                                </return>
                                             </operand>
                                          </operand>
                                       </operand>
                                    </condition>
                                    <then localId="1943" locator="648:100-658:13" resultTypeName="t:Integer" xsi:type="Add">
                                       <operand localId="1934" locator="648:102-654:15" resultTypeName="t:Integer" xsi:type="Add">
                                          <operand localId="1921" locator="648:102-650:15" resultTypeName="t:Integer" xsi:type="Count">
                                             <source localId="1920" locator="648:108-649:49" xsi:type="Query">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <source localId="1915" locator="648:108-648:161" alias="X">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1914" locator="648:108-648:159" xsi:type="Flatten">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Reference" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <operand xsi:type="Query">
                                                         <source alias="$this">
                                                            <expression path="ItemsLocationReferences" scope="ClaimProperties" xsi:type="Property"/>
                                                         </source>
                                                         <where xsi:type="Not">
                                                            <operand xsi:type="IsNull">
                                                               <operand path="ItemLocation" xsi:type="Property">
                                                                  <source name="$this" xsi:type="AliasRef"/>
                                                               </operand>
                                                            </operand>
                                                         </where>
                                                         <return>
                                                            <expression path="ItemLocation" xsi:type="Property">
                                                               <source name="$this" xsi:type="AliasRef"/>
                                                            </expression>
                                                         </return>
                                                      </operand>
                                                   </expression>
                                                </source>
                                                <where localId="1919" locator="649:19-649:49" resultTypeName="t:Boolean" xsi:type="IsNull">
                                                   <operand localId="1918" locator="649:25-649:41" resultTypeName="t:String" path="value" xsi:type="Property">
                                                      <source localId="1917" locator="649:25-649:35" resultTypeName="fhir:string" path="reference" scope="X" xsi:type="Property"/>
                                                   </operand>
                                                </where>
                                             </source>
                                          </operand>
                                          <operand localId="1933" locator="650:18-654:15" resultTypeName="t:Integer" xsi:type="Count">
                                             <source localId="1932" locator="650:24-653:26" xsi:type="Query">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                </resultTypeSpecifier>
                                                <source localId="1929" locator="650:24-652:19" alias="X">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1928" locator="650:24-652:18" xsi:type="Flatten">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                      <operand localId="1927" locator="650:32-652:17" xsi:type="Query">
                                                         <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                            <elementType xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                            </elementType>
                                                         </resultTypeSpecifier>
                                                         <source localId="1923" locator="650:33-650:64" alias="X">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType xsi:type="TupleTypeSpecifier">
                                                                  <element name="AllIdentifiers">
                                                                     <type xsi:type="ListTypeSpecifier">
                                                                        <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                                     </type>
                                                                  </element>
                                                                  <element name="NullIdentifiers">
                                                                     <type xsi:type="ListTypeSpecifier">
                                                                        <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                                     </type>
                                                                  </element>
                                                               </elementType>
                                                            </resultTypeSpecifier>
                                                            <expression localId="1922" locator="650:33-650:62" path="IdentifierTuple" scope="GetIdentifiers" xsi:type="Property">
                                                               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                  <elementType xsi:type="TupleTypeSpecifier">
                                                                     <element name="AllIdentifiers">
                                                                        <type xsi:type="ListTypeSpecifier">
                                                                           <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                                        </type>
                                                                     </element>
                                                                     <element name="NullIdentifiers">
                                                                        <type xsi:type="ListTypeSpecifier">
                                                                           <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                                        </type>
                                                                     </element>
                                                                  </elementType>
                                                               </resultTypeSpecifier>
                                                            </expression>
                                                         </source>
                                                         <return localId="1926" locator="651:21-651:47" distinct="false">
                                                            <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                               <elementType xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                               </elementType>
                                                            </resultTypeSpecifier>
                                                            <expression localId="1925" locator="651:32-651:47" path="AllIdentifiers" scope="X" xsi:type="Property">
                                                               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                               </resultTypeSpecifier>
                                                            </expression>
                                                         </return>
                                                      </operand>
                                                   </expression>
                                                </source>
                                                <return localId="1931" locator="653:19-653:26">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1930" locator="653:26" resultTypeName="fhir:string" name="X" xsi:type="AliasRef"/>
                                                </return>
                                             </source>
                                          </operand>
                                       </operand>
                                       <operand localId="1942" locator="654:18-657:15" resultTypeName="t:Integer" xsi:type="Count">
                                          <source localId="1941" locator="654:24-656:17" xsi:type="Flatten">
                                             <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                             </resultTypeSpecifier>
                                             <operand localId="1940" locator="654:31-656:17" xsi:type="Query">
                                                <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                   <elementType xsi:type="ListTypeSpecifier">
                                                      <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                   </elementType>
                                                </resultTypeSpecifier>
                                                <source localId="1936" locator="654:32-654:63" alias="X">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType xsi:type="TupleTypeSpecifier">
                                                         <element name="AllIdentifiers">
                                                            <type xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                            </type>
                                                         </element>
                                                         <element name="NullIdentifiers">
                                                            <type xsi:type="ListTypeSpecifier">
                                                               <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                            </type>
                                                         </element>
                                                      </elementType>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1935" locator="654:32-654:61" path="IdentifierTuple" scope="GetIdentifiers" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType xsi:type="TupleTypeSpecifier">
                                                            <element name="AllIdentifiers">
                                                               <type xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                               </type>
                                                            </element>
                                                            <element name="NullIdentifiers">
                                                               <type xsi:type="ListTypeSpecifier">
                                                                  <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                               </type>
                                                            </element>
                                                         </elementType>
                                                      </resultTypeSpecifier>
                                                   </expression>
                                                </source>
                                                <return localId="1939" locator="655:21-655:48" distinct="false">
                                                   <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                      <elementType xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                      </elementType>
                                                   </resultTypeSpecifier>
                                                   <expression localId="1938" locator="655:32-655:48" path="NullIdentifiers" scope="X" xsi:type="Property">
                                                      <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                                                         <elementType name="fhir:Identifier" xsi:type="NamedTypeSpecifier"/>
                                                      </resultTypeSpecifier>
                                                   </expression>
                                                </return>
                                             </operand>
                                          </source>
                                       </operand>
                                    </then>
                                    <else localId="1944" locator="659:20" resultTypeName="t:Integer" valueType="t:Integer" value="0" xsi:type="Literal"/>
                                 </value>
                              </element>
                           </expression>
                        </return>
                     </expression>
                  </return>
               </expression>
            </return>
         </expression>
         <operand name="claim">
            <operandTypeSpecifier localId="1802" locator="607:54-607:69" xsi:type="ListTypeSpecifier">
               <resultTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
               </resultTypeSpecifier>
               <elementType localId="1801" locator="607:59-607:68" resultTypeName="fhir:Claim" name="fhir:Claim" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
   </statements>
</library>


